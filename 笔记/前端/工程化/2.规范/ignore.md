# .gitignore[^1]
==原则==：
	1. 每次运行时通过脚本生成的文件
		1. 调试日志，错误日志
	2. 构建、安装时产生的临时文件
		1. dist目录：每次打包的结果都不同
	3. 文档或demo中的图片，视频等资源
		1. 因为git 无法diff二进制文件（想起github上图片的新增无法预览），每次修改与替换git都会认为这是新增，内容囤积。git历史一旦变大，非常难以减小体积。
		2. 方案
			3. 使用git-lfs，使用git存储大的二进制文件的方案
			4. 这些内容可单独放在CDN/图床，一个第三方的地方上
	4. 第三方的[[vendor]]
	5. 仅对自己开发环境生效的配置文件
node_modules/   根目录下的包文件夹
\**/moduels/  每个子目录下的包文件夹
![[Pasted image 20220717204512.png]]
分析：
	1. 依赖CDN上都有不用git追踪版本变动，也不是由自己变动，而是由它们的开发者。一般一个项目使用的都是某个固定版本。
	2. 临时生成
	3. 项目中依赖了一个非常古老的JQ或echarts，或者是自己修改过的echarts，这些并不是通过npm安装的，而是每次构建前通过脚本从一个第三方的地址下载的。这种vendor依赖不应被git仓库管理。
	4. 别人用的是vscode，你用的是webstorm，你的编辑器配置文件可能是个.idea，应该忽略。
	5. 是否保留有争议。大部分开源项目选择保留lock文件，可以让一个项目的所有协作者都有一个同样的，稳定的依赖。

# .npmignore[^2]
与项目使用者无关的文件：
	1. 只有script脚本能使用的配置
	2. .git文件夹
	3. node_modules文件夹
![[Pasted image 20220717205606.png]]

在开发一个npm包时才会用到，对于这个包的使用者来说没用。
	1. 只有包开发者用到，包用户用不到的
		1. .prettierrc文件
		2. .eslintrc文件
		3. .git文件夹
		4. .node_modules 文件夹（这个文件夹不需要加入在npm打包的范围。因为用户安装依赖包时，这个文件夹会重新建立）
		5. test文件夹中保存的仅在开发时有用的测试用例
		6. 所有的lock文件（为何git中不忽略，npm中忽略？因为npm与yarn的依赖安装策略：安装依赖时只关心工程根目录下的lock文件，不关心每个依赖的lock文件，所以即使打包时带上了也没用。）



[^1]: 版本管理/文件同步时哪些文件/文件夹应忽略？这些文件的变动并不需要进行版本管理，同步上传。==避免同步的文件==
[^2]: npm打包/包发布时，避免将该文件夹打包到项目中/项目上线时不希望包含的文件夹。==避免打包/上生产/项目生产或被使用时不需要的文件==
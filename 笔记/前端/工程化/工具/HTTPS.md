# 概述

趋势
	1. 现代浏览器渐渐开始强制使用HTTPS协议
## 与[[HTTP]]有什么区别？
1. [[HTTP]]是明文传输。
	1. 敏感信息容易被中间劫持、修改
2. HTTPS = HTTP + SSL[^1] 
	1. 劫持了也无法解密
小结：就是**传输**+**加密** 
# 加密方式
## 对称加密
定义：使用同一个key负责加密和解密
机制
	1. 首次请求时，服务端把key返回给客户端
	2. 后续每次请求时，用相同的key加密
## 非对称加密
两个key，使用一个加密，另一个解密
机制
	1. 首次请求时，服务端把公钥返回给客户端
	2. 客户端请求时，用公钥加密
	3. 服务端收到后，用私钥解密
## 实际使用
https同时使用了两种加密方式
	1. [[服务端]]发送pubKey
	2. 客户端生成一个随机字符串'abcd'，使用pubKey加密后发送给服务端
	3. [[服务端]]使用key解密得到'abcd'
	4. 双方使用客户端生成的随机字符串作为key，使用对称加密的方式进行传输
为何不直接使用非对称加密，而是结合两种方式？
	成本。
		1. 对称加密的计算量小，成本更低。
		2. 非对称加密。成本较高，麻烦。
# HTTPS证书
有了加密的传输方式就彻底安全了吗
	- 中间人攻击：首次响应时的pubKey被劫持，然后被攻击者替换为自己的pubKey。后续客户端每次请求都在使用攻击者提供的pubKey加密【调包】
	- 应对：使用第三方证书（慎用免费、不合规的证书）。所有合规的pubKey
机制
	1. 证书是如何避免pubKey调包的？
		1. 服务端向第三方证书提供商，申请[^2]证书（含pubKey、key）
		3. 浏览器与第三方证书提供商信息同步。支持对所有证书进行检验
	2. 过程
		1. 服务端把证书信息（携带pubKey）发送给客户端
		2. 客户端检验证书
			1. 合法：进行两种加密
			2. 不合法【不是证书提供商的】：由用户决定
分类
	1. 免费
	2. 收费
购买
	1. 阿里云https证书。一年1000左右

服务器通过数字证书把公钥发送给客户端，客户端使用公钥加密发送的数据，服务器收到后使用私钥解密

[^1]: 就是在HTTP请求上添加了一个套接层。
[^2]: 购买/租赁
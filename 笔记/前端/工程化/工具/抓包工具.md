# 主要功能
1. **展示**终端的HTTP、HTTPS请求。可看到页面发送、接收了哪些数据
2. [[Map请求重定向]]
3. rewrite修改请求内容
# 工作原理
1. 作为代理服务器启动后，拦截客户端与WEB服务器之间的所有请求。客户端发送的请求途经代理服务器，服务器返回的内容也会==途经==代理服务器。

# 常见工具
1. 移动端h5页，需要用工具抓包
	1. windows：[[Fiddler]] 
	2. mac os：[[Charles]] 
比较

| 特性 | Fiddler | Charles |
| --- | --- | --- |
| 编写语言 | C#：正式版仅支持windows | JAVA：多平台 |
| UI展示请求 | 时间顺序 | 路径顺序 |
| 费用 | 免费 | 收费 |
| 请求解析 | 可直接解析HTTPS | 不可直接解析HTTPS |
# 过程
## 移动端
1. 连接
	1. 手机与电脑连接同一个局域网
	2. 手机代理到电脑上
	3. 手机浏览网页，即可抓包
2. 抓包
	1. 查看网络请求
	2. 网址代理[^2] 
	3. [[HTTPS]] 
# 使用
移动端配置
	1. 配置为开启抓包工具的电脑的IP与端口号
	2. 解析HTTPS请求：Charles 需要在顶部Proxy的SSL Proxy Settings添加需要HTTPS请求的域名（可为\*代表解析所有[[HTTPS]]请求）
	3. 会提示不是安全链接。因为Charles会给每个服务器生成一个由Charles 根证书签发的一个数字证书。所以客户端收到的不是服务器发送的原始证书，而是这个抓包工具的证书。而原始证书被保存在了客户端。
		1. 客户端发送的请求是由Charles 公钥进行加密的。代理服务器与服务器之间的通讯才是由服务器提供的公钥加密的。所以可以在保证信息安全的前提下，在[[Charles]] 看到未加密的客户端请求信息，因为发送的信息由charles提供的公钥加密，也是由charles服务器中保存的私钥解密。
		2. 信任的是服务器的提供的证书，而不是charles的证书，所以提示请求的连接不安全
		3. 想要移除安全提示，将charles根证书添加到信任列表[^1]即可。

[^1]: 在移动端访问https://chls.pro/ssl，下载证书描述文件。安卓可直接安装，IOS需要在“描述文件”中安装证书，开启“针对根证书启用完全信任”
[^2]: 无法访问网站A，通过访问B来访问网站A
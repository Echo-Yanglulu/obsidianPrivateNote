# 概述
定义：描述**文本模式**的对象
	1. 如何描述文本模式？
表示：在[[JS]]中，正则表达式使用RegExp对象表示，
[[String]]和正则都定义了方法：使用正则对文本执行模式匹配和搜索替换

# 创建
`let expression = /pattern/flags;` 
模式：可以是任何简单或复杂的正则表达式，包括字符类、限定符、分组、向前查找和反向引用
标记：每个正则表达式可以带零个或多个flags（标记），用于控制正则表达式的行为
使用不同**模式**和**标记**可以创建出各种正则表达式
## 字面量
## new RegExp()
模式字符串
标记字符串
## 基于已有的正则表达式实例
```js
const re1 = /cat/g;
console.log(re1);  // "/cat/g"

const re2 = new RegExp(re1);
console.log(re2);  // "/cat/g"

const re3 = new RegExp(re1, "i");
console.log(re3);  // "/cat/i"
```
# 模式
## 元字符【特殊功能】
*元字符*：元字符在正则表达式中都有一种或多种特殊<u>功能</u>，所以要匹配上面这些字符本身，就必须使用反斜杠来转义
( [ { \ ^ $ |/ ) ] } ? * + .=！
所有元字符都必须二次转义，包括转义字符序列，如\n（\转义后的字符串是\\，在正则表达式字符串中则要写成\\\\）

 ^：ASCII 码位 5Ehex 或其他字符集称为帽子(hat)

### 任选、分组（子模式/匹配组）、引用【命名】
1. 任选：|
2. 分组：()
3. 子模式：()
4. 引用：引用之前的子模式所选出的匹配项
	1. \\数值
	2. \1加引第一个子模式
	3. 存在模式嵌套时，以左括号为准

## 字面量字符【一个】
1. 字母数字字符
2. \\0
3. \\t
4. \\n
5. \\v
6. \\f
7. \\r
8. \\xnn：16进制数值nn指定的拉丁字符。
9. \\uxxxx：16进制数值xxxx指定的[[Unicode]]字符
10. \\u{n}
11. \cX：控制字符^X。如，
## 字符类【一类】
1. 形式
	1. 方括号
		1. 字面量字符
		2. 连字符：表示字符范围。需要匹配连字符时，放最后一位即可
	2. 转义（可也出现于方括号中）
		1. \\w与\\W：任意[[ASCII]] 单词字符，等价于\[a-zA-Z0-9_]
		2. \\s与\\S：匹配任意Unicode空白字符。空格字符、制表字符
		3. \\d与\\D：任意[[ASCII]] 数字字符，等价于\[0-9]
		4. \[\\b]：退格符字面值（特例）
2. 功能：匹配/排除方括号中包含的任意字符
	1. \[abc]：匹配a或b或c
	2. \[^abc]：匹配a或b或c之外的字符
## 数量字符【重复】
定义：某个字符/字符类可能重复多少次
	1. 量词
		1. {n,m}
		2. {n,}
		3. {n}
		4. ?
		5. +
		6. \*
	2. 语法：字符（类）+量词【被修改的字符在前，量词在后】
特性
	1. ?与\*会匹配0个，所以小忙/a*/相当于匹配任意模式，/bbb/也是true，因为*包含0个a*。
## 非贪婪重复
1. 贪婪重复：*数量字符*尽可能多地匹配，同时允许模式的*剩余部分*继续匹配
	1. /a+/：测试'aaa'，匹配，且匹配项是'aaa'
2. 非贪婪重复：*匹配*，但*匹配项*最短。在数量字符后添加?元字符
	1. /a+?/：测试'aaa'，匹配，但匹配项是'a'
	2. 存在剩余部分时。
		1. /a+b/：测试'aaab'时，匹配整个字符串
		2. /a+?b/：测试'aaab'时，也匹配整个字符串
## 指定位置匹配
# 标记【ig my us 】
1. m：多行模式，表示查找到一行文本末尾时会继续查找。
2. y：粘附模式，表示只查找从lastIndex开始及之后的字符串。
3. u：Unicode模式，启用Unicode匹配。
4. s：dotAll模式，表示元字符.匹配任何字符（包括\n或\r）。
5. i：不区分大小写，表示在查找匹配时忽略pattern和字符串的大小写。
6. g：全局模式，表示查找字符串的全部内容，而不是找到第一个匹配的内容就结束。
# 属性
## 实例属性【source, flags, lastIndex】
全面了解正则表达式的信息，不过实际开发中用得并不多，因为模式声明中包含这些信息
1. global：布尔值，表示是否设置了g标记。
2. ignoreCase：布尔值，表示是否设置了i标记。
3. unicode：布尔值，表示是否设置了u标记。
4. sticky：布尔值，表示是否设置了y标记。
5. multiline：布尔值，表示是否设置了m标记。
6. dotAll：布尔值，表示是否设置了s标记。
7. source：正则表达式的*字面量字符串*（不是传给构造函数的模式字符串），没有开头和结尾的斜杠。
8. flags：正则表达式的*标记字符串*。始终以字面量而非传入构造函数的字符串模式形式返回（没有前后斜杠）。
9. lastIndex：整数，表示在源字符串中*下一次搜索的开始位置*，始终从0开始。
	1. 非全局模式下始终不变
	2. "cat, bat, sat, fat"字符串，模式`let pattern = /.at/g`多次执行`pattern.exec(text)`后，该正则的lastIndex属性值分别为3，5，10，13
## 实例方法
###  exec()
主要用于配合*捕获组*使用。只接收一个参数，即要应用模式的字符串
	1. 找到匹配项，返回包含*第一个匹配信息*的数组
		1. 虽然是[[Array]]的实例，但包含两个额外的属性：index和input
			1. index是字符串中匹配模式的*起始位置* 
			2. input是*要查找的字符串* 
		2. 第一个元素是*匹配整个模式*的字符串
		3. 其他元素是与表达式中的*捕获组匹配*的字符串
			1. 如果模式中没有捕获组，则数组只包含一个元素。
	2. 没找到匹配项，返回null
	3. 全局
		1. 如果模式设置了全局标记，则每次调用exec()方法会返回一个匹配的信息。
		2. 如果没有设置全局标记，则无论对同一个字符串调用多少次exec()，也只会返回第一个匹配的信息
###  test()
这个方法适用于只想测试模式是否匹配，而不需要实际匹配内容的情况
接收一个字符串参数。
	1. 如果输入的文本与模式匹配，则参数返回true，
	2. 否则返回false
### toLocaleString()和toString()
都返回正则表达式的字面量表示
### valueOf()
返回正则表达式本身
## 静态属性
所有静态属性都没有任何Web标准出处，因此**不要在生产环境中使用**它们
### 匹配内容
特点
	1. 每个属性都有一个全名和一个简写
	2. 适用于作用域中的所有正则表达式，而且会根据最后执行的正则表达式操作而变化

| 全名         | 简写 | 说明                                   |
| ------------ | ---- | -------------------------------------- |
| input        | $_   | 最后搜索的字符串（非标准特性）         |
| lastMatch    | $&   | 最后匹配的文本                         |
| lastParen    | $+   | 最后匹配的捕获组（非标准特性）         |
| leftContext  | $\`  | input字符串中出现在lastMatch前面的文本 |
| rightContext | $'   | input字符串中出现在lastMatch后面的文本 |

```js
let text = "this has been a short summer";
let pattern = /(.)hort/g;

// 搜索任何后跟"hort"的字符，并把第一个字符放在了捕获组
if (pattern.test(text)) {
  console.log(RegExp.input);        // this has been a short summer   原始的字符串
  console.log(RegExp.leftContext);  // this has been a
  console.log(RegExp.rightContext); // summer
  console.log(RegExp.lastMatch);    // short
  console.log(RegExp.lastParen);    // s
}
```
### 捕获内容
其他几个构造函数属性，可以存储最多9个捕获组的匹配项：RegExp.$1~RegExp.$9
	1. 在调用exec()或test()时，这些属性就会被填充
```js
let text = "this has been a short summer";
let pattern = /(..)or(.)/g;

if (pattern.test(text)) {
  console.log(RegExp.$1);  // sh
  console.log(RegExp.$2);  // t
}
```
# 下列特性目前还没有得到ECMAScript的支持
1. \A和\Z锚（分别匹配字符串的开始和末尾）
2. 联合及交叉类
3. 原子组
4. x（忽略空格）匹配模式
5. 条件式匹配
6. 正则表达式注释
# 常用正则

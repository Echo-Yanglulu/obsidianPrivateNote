# 概述
[JavaScript 数据类型和数据结构 - JavaScript | MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures?spm=a21iq3.home.0.0.54b42764PcwehE)
“类型”意味着什么？
	1. 不同类型有不同的原型对象，就有不同的[[Function]]和属性。 如果类型不对且不能通过隐式转换为目标类型，则会报错。
# 分类
## 基本类型
- Undefined
	- **变量未声明**与**变量声明且初始化为undefined值**<u>不同</u> 
	- 未声明的变量只能进行<u>typeof操作</u> 
	- 习惯用于表示“意料之外的无值”
- Null
- Boolean
	- 只有两个值
	- 作为转换结果
- [[Number]] 
	- 分类：整数，浮点
	- 进制
	- 可表示范围
	- NaN
	- 作为转换结果
- [[String]] 
	- 内涵：0或多个16位Unicode字符序列。
	- 表示：打印字符，非打印字符/其他用途字符
- [[Symbol]] 
- [[BigInt]] 
--- 小结 ---
1. undefined与null往往用于表示存在一个“<u>无</u>”，类型下都只有<u>一个假值</u>。
	1. var与let*声明*[[变量]]却没有*初始化*时，会默认初始化为undefined
		1. 想要*初始化*为undefined时，不用显式
		2. 未来保存对象，往往显式*初始化*为null
2. 布尔类型下只有两个：<u>一真值，一假值</u>
3. 字符串类型
	1. 定义
	2. 三种形式表示
	3. 三种内容，转换
	4. 特点
## 引用类型
定义：把数据和功能组织到一起的结构。
	1. ES缺少传统面向对象语言所具备的基本结构，如类、接口。【JS没有接口这个概念】
		1. 与类有点像，但并不是一个概念。
	2. 有时被称为对象定义，因为描述了自己的对象应有的属性与方法
引用值/对象
	1. 是特定**引用类型**的**实例** 
	2. 创建：new操作符+[[构造函数]] 
	3. `let now = new Date();`创建了引用类型[[Date]]的一个新实例，并保存在变量中。
ES提供了许多类似的原生引用类型，帮助开发者实现常见的任务。
###  基本引用类型
- [[Date]] 
- [[RegExp]] 
- [[原始值包装类型]] 
	- [[String]] 
	- [[Number]] 
	- Boolean
- [[单例内置对象]] 
- [[class]] 
- [[Function]] 
- [[Error]] 异常类型
###  集合引用类型【7个】
- [[Object]] 
- [[Array]] 
- [[TypedArray]] 
- [[Map]] 
- [[WeakMap]] 
- [[Set]] 
- [[WeakSet]] 
####  迭代与扩展操作
ECMAScript 6新增的[[迭代器]]和*扩展操作符*对集合引用类型特别有用。集合引用类型之间相互*操作、复制和修改*变得异常方便。
	- 定义了**默认迭代器**的4种原生集合引用类型：[[Array]] ,[[TypedArray]] ,[[Map]] ,[[Set]] 
		- 支持顺序迭代，可传入for-of循环
		- 兼容扩展操作符。在对可迭代对象执行浅复制时特别有用
	- 期待可迭代对象的构造函数，只要传入一个可迭代对象就可以实现复制
	- 支持多种构建方法，比如Array.of()和Array.from()静态方法
# 检测
typeof
instanceof
Array.isArray()
# 转换
为何要类型转换？
	1. 因为是动态类型，不支持类型检查，而为了**避免类型不同导致的方法调用错误**，所以需要进行类型转换？
### 转布尔
方式
	1. Boolean()
	2. !!
	3. 语句
结果：7假值转换为false：null, undefined, false, '' , 0, -0，NaN（Number3个false）
### 转[[Number]] 
字符串，空数组，对象比较特别
方式
	1. 显式
		1. Number()
		2. parseInt()
		3. parseFloat()
	2. 隐式
		1. 运算操作符
结果
	1. NaN
		1. undefined
		2. 非空/非纯数值*字符串* 
		3. 非空/非单数值*数组* 
		4. 函数
	2. 0：null, 空数组
	3. 数值：单数值元素的数组、前后有空格的纯数值字符串
	4. 数组：其他情况的使用 join()
	5. 对象：偏数值算法
### 转[[String]] 
经常将其他类型的值转换为[[String]] 
1. 方式
	1. 显式
		1. toString()
		2. String()
	2. 隐式
		1. 字符串的二元加法
		2. 函数调用
			1. console.log
			2. join()
2. 结果
	1. 值类型：直接包裹
	2. 数组
		1. 空
		2. 单数值元素
		3. 其他
	3. 对象：为何复杂？因为某些对象不只有一种**原始值表示**[^1]。对象转为原始值的3种基本==算法== 
		1. 偏字符串
			1. 如果`toString`方法存在且返回原始值，使用
			2. 否则尝试`valueOf`方法存在且返回原始值，使用
			3. 否则报TypeError
		2. 偏数值
			1. 如果 `valueOf` 存在且返回初始值，使用
			2. 否则如果 `toString` 存在助且返回初始值，使用
		3. 无偏好[^2] 
			1. 内置数据类型中，Date实现了偏数值算法，其他类实现了偏字符串算法。
先转换为==原始值==，再将原始值转为字符串。
![[Pasted image 20220918002357.png]]
![[Pasted image 20220918003824.png]]
## 方式
### 显式转换
#### 布尔
Boolean()
#### [[Number|数值]] 
Number()：只能转为10进制
parseInt()：只处理整数
parseFloat()：同时处理整数与浮点数
#### 字符串
String(进制)：转为某个<u>进制</u>的数值字符串
toFixed([[Number]])：指定小数<u>精度</u>字符串
toExponential([[Number]])：转为指数记数法字符串
toPrecision([[Number]])：指定有效个数的字符串
	1. 传参小于实际位数：舍入
	2. 大于实际：小数点后补0
### 隐式转换
#### 根据上下文
1. 运算操作符
	1. 一元取反：**转换布尔** 
	2. 一元加法：**转为数值** 
	3. 二元加法
		1. 字符串拼接：存在一个字符串，则+用作字符串拼接，其他**转为字符串** 
		2. 操作数中没有字符串：转数值
	4. 三元运算符
2. 比较[[操作符]] ：\==
	1. 如果类型不同，先转**换为[[Number]]** 
	2. 判断[[值]]性
		1. 是假值，直接相等
		2. 是真值
			1. 引用类型：引用相等则相等
			2. 值类型：转换
3. 逻辑操作符：&&, || 。**转为布尔** 
4. if语句：**转为布尔** 
# 相关
[[值]]，[[变量]]，[[内存]]，
# 总结
## 类型取值
原始值，引用值
## 类型转换
类型不多，但类型之间可==转换==。
转布尔：8假值（其他4种各1个，字符串自己有4个）
转数值：
	1. 需要注意空数组、单数值数组、对象
	2. 得到NaN的有undefined、非纯数值字符串、非空非单数值数组（空或单值数组能正确转换），函数。
	3. 对象按规则
转字符串：需要注意的只有空数组、单个数值类型元素数组、非前两个的对象与函数（按规则）

[^1]: Date可用字符串，也可用时间戳
[^2]: 由类自己定义转换规则
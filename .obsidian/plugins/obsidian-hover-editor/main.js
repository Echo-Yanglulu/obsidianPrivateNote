/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var qo=Object.create;var Ht=Object.defineProperty;var Uo=Object.getOwnPropertyDescriptor;var $o=Object.getOwnPropertyNames;var Go=Object.getPrototypeOf,Ko=Object.prototype.hasOwnProperty;var ri=b=>Ht(b,"__esModule",{value:!0});var ii=(b,c)=>()=>(c||b((c={exports:{}}).exports,c),c.exports),Zo=(b,c)=>{ri(b);for(var d in c)Ht(b,d,{get:c[d],enumerable:!0})},Jo=(b,c,d)=>{if(c&&typeof c=="object"||typeof c=="function")for(let v of $o(c))!Ko.call(b,v)&&v!=="default"&&Ht(b,v,{get:()=>c[v],enumerable:!(d=Uo(c,v))||d.enumerable});return b},tt=b=>Jo(ri(Ht(b!=null?qo(Go(b)):{},"default",b&&b.__esModule&&"default"in b?{get:()=>b.default,enumerable:!0}:{value:b,enumerable:!0})),b);var ai=ii((oi,Tn)=>{(function(b){typeof oi=="object"&&typeof Tn!="undefined"?Tn.exports=b():typeof define=="function"&&define.amd?define([],b):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).interact=b()})(function(){var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0,b.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.init=w,c.getWindow=function(e){return(0,b.default)(e)?e:(e.ownerDocument||e).defaultView||v.window},c.window=c.realWindow=void 0;var d=void 0;c.realWindow=d;var v=void 0;function w(e){c.realWindow=d=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),c.window=v=e}c.window=v,typeof window!="undefined"&&window&&w(window);var f={};function P(e){return(P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var k=function(e){return!!e&&P(e)==="object"},A=function(e){return typeof e=="function"},W={window:function(e){return e===c.window||(0,b.default)(e)},docFrag:function(e){return k(e)&&e.nodeType===11},object:k,func:A,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||P(e)!=="object")return!1;var t=c.getWindow(e)||c.window;return/object|function/.test(P(t.Element))?e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return k(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return k(e)&&e.length!==void 0&&A(e.splice)}};f.default=W;var _={};function Y(e){var t=e.interaction;if(t.prepared.name==="drag"){var r=t.prepared.axis;r==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):r==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function q(e){var t=e.iEvent,r=e.interaction;if(r.prepared.name==="drag"){var n=r.prepared.axis;if(n==="x"||n==="y"){var i=n==="x"?"y":"x";t.page[i]=r.coords.start.page[i],t.client[i]=r.coords.start.client[i],t.delta[i]=0}}}Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var z={id:"actions/drag",install:function(e){var t=e.actions,r=e.Interactable,n=e.defaults;r.prototype.draggable=z.draggable,t.map.drag=z,t.methodDict.drag="draggable",n.actions.drag=z.defaults},listeners:{"interactions:before-action-move":Y,"interactions:action-resume":Y,"interactions:action-move":q,"auto-start:check":function(e){var t=e.interaction,r=e.interactable,n=e.buttons,i=r.options.drag;if(i&&i.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(n&r.options.drag.mouseButtons)!=0))return e.action={name:"drag",axis:i.lockAxis==="start"?i.startAxis:i.lockAxis},!1}},draggable:function(e){return f.default.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):f.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:Y,move:q,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},$=z;_.default=$;var H={};Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var G={init:function(e){var t=e;G.document=t.document,G.DocumentFragment=t.DocumentFragment||se,G.SVGElement=t.SVGElement||se,G.SVGSVGElement=t.SVGSVGElement||se,G.SVGElementInstance=t.SVGElementInstance||se,G.Element=t.Element||se,G.HTMLElement=t.HTMLElement||G.Element,G.Event=t.Event,G.Touch=t.Touch||se,G.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function se(){}var Bt=G;H.default=Bt;var Q={};Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var te={init:function(e){var t=H.default.Element,r=e.navigator||{};te.supportsTouch="ontouchstart"in e||f.default.func(e.DocumentTouch)&&H.default.document instanceof e.DocumentTouch,te.supportsPointerEvent=r.pointerEnabled!==!1&&!!H.default.PointerEvent,te.isIOS=/iP(hone|od|ad)/.test(r.platform),te.isIOS7=/iP(hone|od|ad)/.test(r.platform)&&/OS 7[^\d]/.test(r.appVersion),te.isIe9=/MSIE 9/.test(r.userAgent),te.isOperaMobile=r.appName==="Opera"&&te.supportsTouch&&/Presto/.test(r.userAgent),te.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",te.pEventTypes=te.supportsPointerEvent?H.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,te.wheelEvent=H.default.document&&"onmousewheel"in H.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},Me=te;Q.default=Me;var C={};function nt(e){var t=e.parentNode;if(f.default.docFrag(t)){for(;(t=t.host)&&f.default.docFrag(t););return t}return t}function rt(e,t){return c.window!==c.realWindow&&(t=t.replace(/\/deep\//g," ")),e[Q.default.prefixedMatchesSelector](t)}Object.defineProperty(C,"__esModule",{value:!0}),C.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},C.closest=function(e,t){for(;f.default.element(e);){if(rt(e,t))return e;e=nt(e)}return null},C.parentNode=nt,C.matchesSelector=rt,C.indexOfDeepestElement=function(e){for(var t,r=[],n=0;n<e.length;n++){var i=e[n],o=e[t];if(i&&n!==t)if(o){var l=Xt(i),a=Xt(o);if(l!==i.ownerDocument)if(a!==i.ownerDocument)if(l!==a){r=r.length?r:Dn(o);var s=void 0;if(o instanceof H.default.HTMLElement&&i instanceof H.default.SVGElement&&!(i instanceof H.default.SVGSVGElement)){if(i===a)continue;s=i.ownerSVGElement}else s=i;for(var u=Dn(s,o.ownerDocument),p=0;u[p]&&u[p]===r[p];)p++;var h=[u[p-1],u[p],r[p]];if(h[0])for(var m=h[0].lastChild;m;){if(m===h[1]){t=n,r=u;break}if(m===h[2])break;m=m.previousSibling}}else y=i,g=o,(parseInt(c.getWindow(y).getComputedStyle(y).zIndex,10)||0)>=(parseInt(c.getWindow(g).getComputedStyle(g).zIndex,10)||0)&&(t=n);else t=n}else t=n}var y,g;return t},C.matchesUpTo=function(e,t,r){for(;f.default.element(e);){if(rt(e,t))return!0;if((e=nt(e))===r)return rt(e,t)}return!1},C.getActualElement=function(e){return e.correspondingUseElement||e},C.getScrollXY=In,C.getElementClientRect=jn,C.getElementRect=function(e){var t=jn(e);if(!Q.default.isIOS7&&t){var r=In(c.getWindow(e));t.left+=r.x,t.right+=r.x,t.top+=r.y,t.bottom+=r.y}return t},C.getPath=function(e){for(var t=[];e;)t.push(e),e=nt(e);return t},C.trySelector=function(e){return!!f.default.string(e)&&(H.default.document.querySelector(e),!0)};var Xt=function(e){return e.parentNode||e.host};function Dn(e,t){for(var r,n=[],i=e;(r=Xt(i))&&i!==t&&r!==i.ownerDocument;)n.unshift(i),i=r;return n}function In(e){return{x:(e=e||c.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function jn(e){var t=e instanceof H.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(e,t){for(var r in t)e[r]=t[r];return e};var N={};function Yt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Rn(e,t,r){return e==="parent"?(0,C.parentNode)(r):e==="self"?t.getRect(r):(0,C.closest)(r,e)}Object.defineProperty(N,"__esModule",{value:!0}),N.getStringOptionResult=Rn,N.resolveRectLike=function(e,t,r,n){var i,o=e;return f.default.string(o)?o=Rn(o,t,r):f.default.func(o)&&(o=o.apply(void 0,function(l){if(Array.isArray(l))return Yt(l)}(i=n)||function(l){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(l))return Array.from(l)}(i)||function(l,a){if(l){if(typeof l=="string")return Yt(l,a);var s=Object.prototype.toString.call(l).slice(8,-1);return s==="Object"&&l.constructor&&(s=l.constructor.name),s==="Map"||s==="Set"?Array.from(l):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Yt(l,a):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),f.default.element(o)&&(o=(0,C.getElementRect)(o)),o},N.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},N.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,M.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e},N.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,M.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},N.addEdges=function(e,t,r){e.left&&(t.left+=r.x),e.right&&(t.right+=r.x),e.top&&(t.top+=r.y),e.bottom&&(t.bottom+=r.y),t.width=t.right-t.left,t.height=t.bottom-t.top};var we={};Object.defineProperty(we,"__esModule",{value:!0}),we.default=function(e,t,r){var n=e.options[r],i=n&&n.origin||e.options.origin,o=(0,N.resolveRectLike)(i,e,t,[e&&t]);return(0,N.rectToXY)(o)||{x:0,y:0}};var ke={};function zn(e){return e.trim().split(/ +/)}Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=function e(t,r,n){if(n=n||{},f.default.string(t)&&t.search(" ")!==-1&&(t=zn(t)),f.default.array(t))return t.reduce(function(s,u){return(0,M.default)(s,e(u,r,n))},n);if(f.default.object(t)&&(r=t,t=""),f.default.func(r))n[t]=n[t]||[],n[t].push(r);else if(f.default.array(r))for(var i=0;i<r.length;i++){var o;o=r[i],e(t,o,n)}else if(f.default.object(r))for(var l in r){var a=zn(l).map(function(s){return"".concat(t).concat(s)});e(a,r[l],n)}return n};var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0,ge.default=function(e,t){return Math.sqrt(e*e+t*t)};var Ne={};function qt(e,t){for(var r in t){var n=qt.prefixedPropREs,i=!1;for(var o in n)if(r.indexOf(o)===0&&n[o].test(r)){i=!0;break}i||typeof t[r]=="function"||(e[r]=t[r])}return e}Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=void 0,qt.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var vi=qt;Ne.default=vi;var O={};function Ut(e){return e instanceof H.default.Event||e instanceof H.default.Touch}function Be(e,t,r){return e=e||"page",(r=r||{}).x=t[e+"X"],r.y=t[e+"Y"],r}function Hn(e,t){return t=t||{x:0,y:0},Q.default.isOperaMobile&&Ut(e)?(Be("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):Be("page",e,t),t}function Ln(e,t){return t=t||{},Q.default.isOperaMobile&&Ut(e)?Be("screen",e,t):Be("client",e,t),t}function it(e){var t=[];return f.default.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function Fn(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=0;r<e.length;r++){var n=e[r];for(var i in t)t[i]+=n[i]}for(var o in t)t[o]/=e.length;return t}Object.defineProperty(O,"__esModule",{value:!0}),O.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},O.setCoordDeltas=function(e,t,r){e.page.x=r.page.x-t.page.x,e.page.y=r.page.y-t.page.y,e.client.x=r.client.x-t.client.x,e.client.y=r.client.y-t.client.y,e.timeStamp=r.timeStamp-t.timeStamp},O.setCoordVelocity=function(e,t){var r=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/r,e.page.y=t.page.y/r,e.client.x=t.client.x/r,e.client.y=t.client.y/r,e.timeStamp=r},O.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},O.isNativePointer=Ut,O.getXY=Be,O.getPageXY=Hn,O.getClientXY=Ln,O.getPointerId=function(e){return f.default.number(e.pointerId)?e.pointerId:e.identifier},O.setCoords=function(e,t,r){var n=t.length>1?Fn(t):t[0];Hn(n,e.page),Ln(n,e.client),e.timeStamp=r},O.getTouchPair=it,O.pointerAverage=Fn,O.touchBBox=function(e){if(!e.length)return null;var t=it(e),r=Math.min(t[0].pageX,t[1].pageX),n=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),o=Math.max(t[0].pageY,t[1].pageY);return{x:r,y:n,left:r,top:n,right:i,bottom:o,width:i-r,height:o-n}},O.touchDistance=function(e,t){var r=t+"X",n=t+"Y",i=it(e),o=i[0][r]-i[1][r],l=i[0][n]-i[1][n];return(0,ge.default)(o,l)},O.touchAngle=function(e,t){var r=t+"X",n=t+"Y",i=it(e),o=i[1][r]-i[0][r],l=i[1][n]-i[0][n];return 180*Math.atan2(l,o)/Math.PI},O.getPointerType=function(e){return f.default.string(e.pointerType)?e.pointerType:f.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof H.default.Touch?"touch":"mouse"},O.getEventTargets=function(e){var t=f.default.func(e.composedPath)?e.composedPath():e.path;return[C.getActualElement(t?t[0]:e.target),C.getActualElement(e.currentTarget)]},O.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},O.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Object.defineProperty(O,"pointerExtend",{enumerable:!0,get:function(){return Ne.default}});var Ae={};function gi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.BaseEvent=void 0;var Wn=function(){function e(n){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.interactable=void 0,this._interaction=void 0,this.timeStamp=void 0,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=n}var t,r;return t=e,(r=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&gi(t.prototype,r),e}();Ae.BaseEvent=Wn,Object.defineProperty(Wn.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var V={};Object.defineProperty(V,"__esModule",{value:!0}),V.find=V.findIndex=V.from=V.merge=V.remove=V.contains=void 0,V.contains=function(e,t){return e.indexOf(t)!==-1},V.remove=function(e,t){return e.splice(e.indexOf(t),1)};var Vn=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.push(n)}return e};V.merge=Vn,V.from=function(e){return Vn([],e)};var Nn=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r,e))return r;return-1};V.findIndex=Nn,V.find=function(e,t){return e[Nn(e,t)]};var ce={};function Bn(e){return(Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r})(e,t)}function yi(e,t){return!t||Bn(t)!=="object"&&typeof t!="function"?function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e):t}function $t(e){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(ce,"__esModule",{value:!0}),ce.DropEvent=void 0;var bi=function(e){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&Xn(a,s)})(l,e);var t,r,n,i,o=(n=l,i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,s=$t(n);if(i){var u=$t(this).constructor;a=Reflect.construct(s,arguments,u)}else a=s.apply(this,arguments);return yi(this,a)});function l(a,s,u){var p;(function(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")})(this,l),(p=o.call(this,s._interaction)).target=void 0,p.dropzone=void 0,p.dragEvent=void 0,p.relatedTarget=void 0,p.draggable=void 0,p.timeStamp=void 0,p.propagationStopped=!1,p.immediatePropagationStopped=!1;var h=u==="dragleave"?a.prev:a.cur,m=h.element,y=h.dropzone;return p.type=u,p.target=m,p.currentTarget=m,p.dropzone=y,p.dragEvent=s,p.relatedTarget=s.target,p.draggable=s.interactable,p.timeStamp=s.timeStamp,p}return t=l,(r=[{key:"reject",value:function(){var a=this,s=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&s.cur.dropzone===this.dropzone&&s.cur.element===this.target)if(s.prev.dropzone=this.dropzone,s.prev.element=this.target,s.rejected=!0,s.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var u=s.activeDrops,p=V.findIndex(u,function(m){var y=m.dropzone,g=m.element;return y===a.dropzone&&g===a.target});s.activeDrops.splice(p,1);var h=new l(s,this.dragEvent,"dropdeactivate");h.dropzone=this.dropzone,h.target=this.target,this.dropzone.fire(h)}else this.dropzone.fire(new l(s,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&mi(t.prototype,r),l}(Ae.BaseEvent);ce.DropEvent=bi;var ot={};function Yn(e,t){for(var r=0;r<e.slice().length;r++){var n=e.slice()[r],i=n.dropzone,o=n.element;t.dropzone=i,t.target=o,i.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function Gt(e,t){for(var r=function(o,l){for(var a=o.interactables,s=[],u=0;u<a.list.length;u++){var p=a.list[u];if(p.options.drop.enabled){var h=p.options.drop.accept;if(!(f.default.element(h)&&h!==l||f.default.string(h)&&!C.matchesSelector(l,h)||f.default.func(h)&&!h({dropzone:p,draggableElement:l})))for(var m=f.default.string(p.target)?p._context.querySelectorAll(p.target):f.default.array(p.target)?p.target:[p.target],y=0;y<m.length;y++){var g=m[y];g!==l&&s.push({dropzone:p,element:g,rect:p.getRect(g)})}}}return s}(e,t),n=0;n<r.length;n++){var i=r[n];i.rect=i.dropzone.getRect(i.element)}return r}function qn(e,t,r){for(var n=e.dropState,i=e.interactable,o=e.element,l=[],a=0;a<n.activeDrops.length;a++){var s=n.activeDrops[a],u=s.dropzone,p=s.element,h=s.rect;l.push(u.dropCheck(t,r,i,o,p,h)?p:null)}var m=C.indexOfDeepestElement(l);return n.activeDrops[m]||null}function Kt(e,t,r){var n=e.dropState,i={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return r.type==="dragstart"&&(i.activate=new ce.DropEvent(n,r,"dropactivate"),i.activate.target=null,i.activate.dropzone=null),r.type==="dragend"&&(i.deactivate=new ce.DropEvent(n,r,"dropdeactivate"),i.deactivate.target=null,i.deactivate.dropzone=null),n.rejected||(n.cur.element!==n.prev.element&&(n.prev.dropzone&&(i.leave=new ce.DropEvent(n,r,"dragleave"),r.dragLeave=i.leave.target=n.prev.element,r.prevDropzone=i.leave.dropzone=n.prev.dropzone),n.cur.dropzone&&(i.enter=new ce.DropEvent(n,r,"dragenter"),r.dragEnter=n.cur.element,r.dropzone=n.cur.dropzone)),r.type==="dragend"&&n.cur.dropzone&&(i.drop=new ce.DropEvent(n,r,"drop"),r.dropzone=n.cur.dropzone,r.relatedTarget=n.cur.element),r.type==="dragmove"&&n.cur.dropzone&&(i.move=new ce.DropEvent(n,r,"dropmove"),i.move.dragmove=r,r.dropzone=n.cur.dropzone)),i}function Zt(e,t){var r=e.dropState,n=r.activeDrops,i=r.cur,o=r.prev;t.leave&&o.dropzone.fire(t.leave),t.enter&&i.dropzone.fire(t.enter),t.move&&i.dropzone.fire(t.move),t.drop&&i.dropzone.fire(t.drop),t.deactivate&&Yn(n,t.deactivate),r.prev.dropzone=i.dropzone,r.prev.element=i.element}function Un(e,t){var r=e.interaction,n=e.iEvent,i=e.event;if(n.type==="dragmove"||n.type==="dragend"){var o=r.dropState;t.dynamicDrop&&(o.activeDrops=Gt(t,r.element));var l=n,a=qn(r,l,i);o.rejected=o.rejected&&!!a&&a.dropzone===o.cur.dropzone&&a.element===o.cur.element,o.cur.dropzone=a&&a.dropzone,o.cur.element=a&&a.element,o.events=Kt(r,0,l)}}Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;var $n={id:"actions/drop",install:function(e){var t=e.actions,r=e.interactStatic,n=e.Interactable,i=e.defaults;e.usePlugin(_.default),n.prototype.dropzone=function(o){return function(l,a){if(f.default.object(a)){if(l.options.drop.enabled=a.enabled!==!1,a.listeners){var s=(0,ke.default)(a.listeners),u=Object.keys(s).reduce(function(p,h){return p[/^(enter|leave)/.test(h)?"drag".concat(h):/^(activate|deactivate|move)/.test(h)?"drop".concat(h):h]=s[h],p},{});l.off(l.options.drop.listeners),l.on(u),l.options.drop.listeners=u}return f.default.func(a.ondrop)&&l.on("drop",a.ondrop),f.default.func(a.ondropactivate)&&l.on("dropactivate",a.ondropactivate),f.default.func(a.ondropdeactivate)&&l.on("dropdeactivate",a.ondropdeactivate),f.default.func(a.ondragenter)&&l.on("dragenter",a.ondragenter),f.default.func(a.ondragleave)&&l.on("dragleave",a.ondragleave),f.default.func(a.ondropmove)&&l.on("dropmove",a.ondropmove),/^(pointer|center)$/.test(a.overlap)?l.options.drop.overlap=a.overlap:f.default.number(a.overlap)&&(l.options.drop.overlap=Math.max(Math.min(1,a.overlap),0)),"accept"in a&&(l.options.drop.accept=a.accept),"checker"in a&&(l.options.drop.checker=a.checker),l}return f.default.bool(a)?(l.options.drop.enabled=a,l):l.options.drop}(this,o)},n.prototype.dropCheck=function(o,l,a,s,u,p){return function(h,m,y,g,E,S,x){var T=!1;if(!(x=x||h.getRect(S)))return!!h.options.drop.checker&&h.options.drop.checker(m,y,T,h,S,g,E);var D=h.options.drop.overlap;if(D==="pointer"){var j=(0,we.default)(g,E,"drag"),L=O.getPageXY(m);L.x+=j.x,L.y+=j.y;var B=L.x>x.left&&L.x<x.right,R=L.y>x.top&&L.y<x.bottom;T=B&&R}var F=g.getRect(E);if(F&&D==="center"){var ae=F.left+F.width/2,he=F.top+F.height/2;T=ae>=x.left&&ae<=x.right&&he>=x.top&&he<=x.bottom}return F&&f.default.number(D)&&(T=Math.max(0,Math.min(x.right,F.right)-Math.max(x.left,F.left))*Math.max(0,Math.min(x.bottom,F.bottom)-Math.max(x.top,F.top))/(F.width*F.height)>=D),h.options.drop.checker&&(T=h.options.drop.checker(m,y,T,h,S,g,E)),T}(this,o,l,a,s,u,p)},r.dynamicDrop=function(o){return f.default.bool(o)?(e.dynamicDrop=o,r):e.dynamicDrop},(0,M.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,i.actions.drop=$n.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var r=e.interaction,n=(e.event,e.iEvent);if(r.prepared.name==="drag"){var i=r.dropState;i.activeDrops=null,i.events=null,i.activeDrops=Gt(t,r.element),i.events=Kt(r,0,n),i.events.activate&&(Yn(i.activeDrops,i.events.activate),t.fire("actions/drop:start",{interaction:r,dragEvent:n}))}},"interactions:action-move":Un,"interactions:after-action-move":function(e,t){var r=e.interaction,n=e.iEvent;r.prepared.name==="drag"&&(Zt(r,r.dropState.events),t.fire("actions/drop:move",{interaction:r,dragEvent:n}),r.dropState.events={})},"interactions:action-end":function(e,t){if(e.interaction.prepared.name==="drag"){var r=e.interaction,n=e.iEvent;Un(e,t),Zt(r,r.dropState.events),t.fire("actions/drop:end",{interaction:r,dragEvent:n})}},"interactions:stop":function(e){var t=e.interaction;if(t.prepared.name==="drag"){var r=t.dropState;r&&(r.activeDrops=null,r.events=null,r.cur.dropzone=null,r.cur.element=null,r.prev.dropzone=null,r.prev.element=null,r.rejected=!1)}}},getActiveDrops:Gt,getDrop:qn,getDropEvents:Kt,fireDropEvents:Zt,defaults:{enabled:!1,accept:null,overlap:"pointer"}},wi=$n;ot.default=wi;var at={};function Jt(e){var t=e.interaction,r=e.iEvent,n=e.phase;if(t.prepared.name==="gesture"){var i=t.pointers.map(function(u){return u.pointer}),o=n==="start",l=n==="end",a=t.interactable.options.deltaSource;if(r.touches=[i[0],i[1]],o)r.distance=O.touchDistance(i,a),r.box=O.touchBBox(i),r.scale=1,r.ds=0,r.angle=O.touchAngle(i,a),r.da=0,t.gesture.startDistance=r.distance,t.gesture.startAngle=r.angle;else if(l){var s=t.prevEvent;r.distance=s.distance,r.box=s.box,r.scale=s.scale,r.ds=0,r.angle=s.angle,r.da=0}else r.distance=O.touchDistance(i,a),r.box=O.touchBBox(i),r.scale=r.distance/t.gesture.startDistance,r.angle=O.touchAngle(i,a),r.ds=r.scale-t.gesture.scale,r.da=r.angle-t.gesture.angle;t.gesture.distance=r.distance,t.gesture.angle=r.angle,f.default.number(r.scale)&&r.scale!==1/0&&!isNaN(r.scale)&&(t.gesture.scale=r.scale)}}Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;var Qt={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,r=e.Interactable,n=e.defaults;r.prototype.gesturable=function(i){return f.default.object(i)?(this.options.gesture.enabled=i.enabled!==!1,this.setPerAction("gesture",i),this.setOnEvents("gesture",i),this):f.default.bool(i)?(this.options.gesture.enabled=i,this):this.options.gesture},t.map.gesture=Qt,t.methodDict.gesture="gesturable",n.actions.gesture=Qt.defaults},listeners:{"interactions:action-start":Jt,"interactions:action-move":Jt,"interactions:action-end":Jt,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},xi=Qt;at.default=xi;var st={};function Ei(e,t,r,n,i,o,l){if(!t)return!1;if(t===!0){var a=f.default.number(o.width)?o.width:o.right-o.left,s=f.default.number(o.height)?o.height:o.bottom-o.top;if(l=Math.min(l,Math.abs((e==="left"||e==="right"?a:s)/2)),a<0&&(e==="left"?e="right":e==="right"&&(e="left")),s<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left")return r.x<(a>=0?o.left:o.right)+l;if(e==="top")return r.y<(s>=0?o.top:o.bottom)+l;if(e==="right")return r.x>(a>=0?o.right:o.left)-l;if(e==="bottom")return r.y>(s>=0?o.bottom:o.top)-l}return!!f.default.element(n)&&(f.default.element(t)?t===n:C.matchesUpTo(n,t,i))}function Gn(e){var t=e.iEvent,r=e.interaction;if(r.prepared.name==="resize"&&r.resizeAxes){var n=t;r.interactable.options.resize.square?(r.resizeAxes==="y"?n.delta.x=n.delta.y:n.delta.y=n.delta.x,n.axes="xy"):(n.axes=r.resizeAxes,r.resizeAxes==="x"?n.delta.y=0:r.resizeAxes==="y"&&(n.delta.x=0))}}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var pe={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,r=e.browser,n=e.Interactable,i=e.defaults;pe.cursors=function(o){return o.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(r),pe.defaultMargin=r.supportsTouch||r.supportsPointerEvent?20:10,n.prototype.resizable=function(o){return function(l,a,s){return f.default.object(a)?(l.options.resize.enabled=a.enabled!==!1,l.setPerAction("resize",a),l.setOnEvents("resize",a),f.default.string(a.axis)&&/^x$|^y$|^xy$/.test(a.axis)?l.options.resize.axis=a.axis:a.axis===null&&(l.options.resize.axis=s.defaults.actions.resize.axis),f.default.bool(a.preserveAspectRatio)?l.options.resize.preserveAspectRatio=a.preserveAspectRatio:f.default.bool(a.square)&&(l.options.resize.square=a.square),l):f.default.bool(a)?(l.options.resize.enabled=a,l):l.options.resize}(this,o,e)},t.map.resize=pe,t.methodDict.resize="resizable",i.actions.resize=pe.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var r=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=r,o=n.rect;n._rects={start:(0,M.default)({},o),corrected:(0,M.default)({},o),previous:(0,M.default)({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}})(e),Gn(e)},"interactions:action-move":function(e){(function(t){var r=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=r,o=n.interactable.options.resize.invert,l=o==="reposition"||o==="negate",a=n.rect,s=n._rects,u=s.start,p=s.corrected,h=s.delta,m=s.previous;if((0,M.default)(m,p),l){if((0,M.default)(p,a),o==="reposition"){if(p.top>p.bottom){var y=p.top;p.top=p.bottom,p.bottom=y}if(p.left>p.right){var g=p.left;p.left=p.right,p.right=g}}}else p.top=Math.min(a.top,u.bottom),p.bottom=Math.max(a.bottom,u.top),p.left=Math.min(a.left,u.right),p.right=Math.max(a.right,u.left);for(var E in p.width=p.right-p.left,p.height=p.bottom-p.top,p)h[E]=p[E]-m[E];i.edges=n.prepared.edges,i.rect=p,i.deltaRect=h}})(e),Gn(e)},"interactions:action-end":function(e){var t=e.iEvent,r=e.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var n=t;n.edges=r.prepared.edges,n.rect=r._rects.corrected,n.deltaRect=r._rects.delta}},"auto-start:check":function(e){var t=e.interaction,r=e.interactable,n=e.element,i=e.rect,o=e.buttons;if(i){var l=(0,M.default)({},t.coords.cur.page),a=r.options.resize;if(a&&a.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(o&a.mouseButtons)!=0)){if(f.default.object(a.edges)){var s={left:!1,right:!1,top:!1,bottom:!1};for(var u in s)s[u]=Ei(u,a.edges[u],l,t._latestPointer.eventTarget,n,i,a.margin||pe.defaultMargin);s.left=s.left&&!s.right,s.top=s.top&&!s.bottom,(s.left||s.right||s.top||s.bottom)&&(e.action={name:"resize",edges:s})}else{var p=a.axis!=="y"&&l.x>i.right-pe.defaultMargin,h=a.axis!=="x"&&l.y>i.bottom-pe.defaultMargin;(p||h)&&(e.action={name:"resize",axes:(p?"x":"")+(h?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,r=e.axis,n=e.name,i=pe.cursors,o=null;if(r)o=i[n+r];else if(t){for(var l="",a=["top","bottom","left","right"],s=0;s<a.length;s++){var u=a[s];t[u]&&(l+=u)}o=i[l]}return o},defaultMargin:null},Si=pe;st.default=Si;var lt={};Object.defineProperty(lt,"__esModule",{value:!0}),lt.default=void 0;var Pi={id:"actions",install:function(e){e.usePlugin(at.default),e.usePlugin(st.default),e.usePlugin(_.default),e.usePlugin(ot.default)}};lt.default=Pi;var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0;var de,xe,Kn=0,Ti={request:function(e){return de(e)},cancel:function(e){return xe(e)},init:function(e){if(de=e.requestAnimationFrame,xe=e.cancelAnimationFrame,!de)for(var t=["ms","moz","webkit","o"],r=0;r<t.length;r++){var n=t[r];de=e["".concat(n,"RequestAnimationFrame")],xe=e["".concat(n,"CancelAnimationFrame")]||e["".concat(n,"CancelRequestAnimationFrame")]}de=de&&de.bind(e),xe=xe&&xe.bind(e),de||(de=function(i){var o=Date.now(),l=Math.max(0,16-(o-Kn)),a=e.setTimeout(function(){i(o+l)},l);return Kn=o+l,a},xe=function(i){return clearTimeout(i)})}};le.default=Ti;var me={};Object.defineProperty(me,"__esModule",{value:!0}),me.getContainer=ut,me.getScroll=Xe,me.getScrollSize=function(e){return f.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},me.getScrollSizeDelta=function(e,t){var r=e.interaction,n=e.element,i=r&&r.interactable.options[r.prepared.name].autoScroll;if(!i||!i.enabled)return t(),{x:0,y:0};var o=ut(i.container,r.interactable,n),l=Xe(o);t();var a=Xe(o);return{x:a.x-l.x,y:a.y-l.y}},me.default=void 0;var I={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){I.isScrolling=!0,le.default.cancel(I.i),e.autoScroll=I,I.interaction=e,I.prevTime=I.now(),I.i=le.default.request(I.scroll)},stop:function(){I.isScrolling=!1,I.interaction&&(I.interaction.autoScroll=null),le.default.cancel(I.i)},scroll:function(){var e=I.interaction,t=e.interactable,r=e.element,n=e.prepared.name,i=t.options[n].autoScroll,o=ut(i.container,t,r),l=I.now(),a=(l-I.prevTime)/1e3,s=i.speed*a;if(s>=1){var u={x:I.x*s,y:I.y*s};if(u.x||u.y){var p=Xe(o);f.default.window(o)?o.scrollBy(u.x,u.y):o&&(o.scrollLeft+=u.x,o.scrollTop+=u.y);var h=Xe(o),m={x:h.x-p.x,y:h.y-p.y};(m.x||m.y)&&t.fire({type:"autoscroll",target:r,interactable:t,delta:m,interaction:e,container:o})}I.prevTime=l}I.isScrolling&&(le.default.cancel(I.i),I.i=le.default.request(I.scroll))},check:function(e,t){var r;return(r=e.options[t].autoScroll)==null?void 0:r.enabled},onInteractionMove:function(e){var t=e.interaction,r=e.pointer;if(t.interacting()&&I.check(t.interactable,t.prepared.name))if(t.simulation)I.x=I.y=0;else{var n,i,o,l,a=t.interactable,s=t.element,u=t.prepared.name,p=a.options[u].autoScroll,h=ut(p.container,a,s);if(f.default.window(h))l=r.clientX<I.margin,n=r.clientY<I.margin,i=r.clientX>h.innerWidth-I.margin,o=r.clientY>h.innerHeight-I.margin;else{var m=C.getElementClientRect(h);l=r.clientX<m.left+I.margin,n=r.clientY<m.top+I.margin,i=r.clientX>m.right-I.margin,o=r.clientY>m.bottom-I.margin}I.x=i?1:l?-1:0,I.y=o?1:n?-1:0,I.isScrolling||(I.margin=p.margin,I.speed=p.speed,I.start(t))}}};function ut(e,t,r){return(f.default.string(e)?(0,N.getStringOptionResult)(e,t,r):e)||(0,c.getWindow)(r)}function Xe(e){return f.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var _i={id:"auto-scroll",install:function(e){var t=e.defaults,r=e.actions;e.autoScroll=I,I.now=function(){return e.now()},r.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=I.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,I.stop(),I.interaction&&(I.interaction=null)},"interactions:stop":I.stop,"interactions:action-move":function(e){return I.onInteractionMove(e)}}};me.default=_i;var re={};Object.defineProperty(re,"__esModule",{value:!0}),re.warnOnce=function(e,t){var r=!1;return function(){return r||(c.window.console.warn(t),r=!0),e.apply(this,arguments)}},re.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},re.sign=void 0,re.sign=function(e){return e>=0?1:-1};var ct={};function Oi(e){return f.default.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Mi(e){return f.default.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(ct,"__esModule",{value:!0}),ct.default=void 0;var ki={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(r,n,i,o){var l=function(a,s,u,p,h){var m=a.getRect(p),y={action:null,interactable:a,interaction:u,element:p,rect:m,buttons:s.buttons||{0:1,1:4,3:8,4:16}[s.button]};return h.fire("auto-start:check",y),y.action}(this,n,i,o,e);return this.options.actionChecker?this.options.actionChecker(r,n,l,this,o,i):l},t.prototype.ignoreFrom=(0,re.warnOnce)(function(r){return this._backCompatOption("ignoreFrom",r)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,re.warnOnce)(function(r){return this._backCompatOption("allowFrom",r)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Mi,t.prototype.styleCursor=Oi}};ct.default=ki;var Ce={};function Zn(e,t,r,n,i){return t.testIgnoreAllow(t.options[e.name],r,n)&&t.options[e.name].enabled&&pt(t,r,e,i)?e:null}function Ai(e,t,r,n,i,o,l){for(var a=0,s=n.length;a<s;a++){var u=n[a],p=i[a],h=u.getAction(t,r,e,p);if(h){var m=Zn(h,u,p,o,l);if(m)return{action:m,interactable:u,element:p}}}return{action:null,interactable:null,element:null}}function Jn(e,t,r,n,i){var o=[],l=[],a=n;function s(p){o.push(p),l.push(a)}for(;f.default.element(a);){o=[],l=[],i.interactables.forEachMatch(a,s);var u=Ai(e,t,r,o,l,n,i);if(u.action&&!u.interactable.options[u.action.name].manualStart)return u;a=C.parentNode(a)}return{action:null,interactable:null,element:null}}function Qn(e,t,r){var n=t.action,i=t.interactable,o=t.element;n=n||{name:null},e.interactable=i,e.element=o,(0,re.copyAction)(e.prepared,n),e.rect=i&&n.name?i.getRect(o):null,tr(e,r),r.fire("autoStart:prepared",{interaction:e})}function pt(e,t,r,n){var i=e.options,o=i[r.name].max,l=i[r.name].maxPerElement,a=n.autoStart.maxInteractions,s=0,u=0,p=0;if(!(o&&l&&a))return!1;for(var h=0;h<n.interactions.list.length;h++){var m=n.interactions.list[h],y=m.prepared.name;if(m.interacting()&&(++s>=a||m.interactable===e&&((u+=y===r.name?1:0)>=o||m.element===t&&(p++,y===r.name&&p>=l))))return!1}return a>0}function er(e,t){return f.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function en(e,t,r){var n=r.autoStart.cursorElement;n&&n!==e&&(n.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,r.autoStart.cursorElement=t?e:null}function tr(e,t){var r=e.interactable,n=e.element,i=e.prepared;if(e.pointerType==="mouse"&&r&&r.options.styleCursor){var o="";if(i.name){var l=r.options[i.name].cursorChecker;o=f.default.func(l)?l(i,r,n,e._interacting):t.actions.map[i.name].getCursor(i)}en(e.element,o||"",t)}else t.autoStart.cursorElement&&en(t.autoStart.cursorElement,"",t)}Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=void 0;var Ci={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,r=e.defaults;e.usePlugin(ct.default),r.base.actionChecker=null,r.base.styleCursor=!0,(0,M.default)(r.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(n){return er(n,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:pt,cursorElement:null}},listeners:{"interactions:down":function(e,t){var r=e.interaction,n=e.pointer,i=e.event,o=e.eventTarget;r.interacting()||Qn(r,Jn(r,n,i,o,t),t)},"interactions:move":function(e,t){(function(r,n){var i=r.interaction,o=r.pointer,l=r.event,a=r.eventTarget;i.pointerType!=="mouse"||i.pointerIsDown||i.interacting()||Qn(i,Jn(i,o,l,a,n),n)})(e,t),function(r,n){var i=r.interaction;if(i.pointerIsDown&&!i.interacting()&&i.pointerWasMoved&&i.prepared.name){n.fire("autoStart:before-start",r);var o=i.interactable,l=i.prepared.name;l&&o&&(o.options[l].manualStart||!pt(o,i.element,i.prepared,n)?i.stop():(i.start(i.prepared,o,i.element),tr(i,n)))}}(e,t)},"interactions:stop":function(e,t){var r=e.interaction,n=r.interactable;n&&n.options.styleCursor&&en(r.element,"",t)}},maxInteractions:er,withinInteractionLimit:pt,validateAction:Zn};Ce.default=Ci;var dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.default=void 0;var Di={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var r=e.interaction,n=e.eventTarget,i=e.dx,o=e.dy;if(r.prepared.name==="drag"){var l=Math.abs(i),a=Math.abs(o),s=r.interactable.options.drag,u=s.startAxis,p=l>a?"x":l<a?"y":"xy";if(r.prepared.axis=s.lockAxis==="start"?p[0]:s.lockAxis,p!=="xy"&&u!=="xy"&&u!==p){r.prepared.name=null;for(var h=n,m=function(g){if(g!==r.interactable){var E=r.interactable.options.drag;if(!E.manualStart&&g.testIgnoreAllow(E,h,n)){var S=g.getAction(r.downPointer,r.downEvent,r,h);if(S&&S.name==="drag"&&function(x,T){if(!T)return!1;var D=T.options.drag.startAxis;return x==="xy"||D==="xy"||D===x}(p,g)&&Ce.default.validateAction(S,g,h,n,t))return g}}};f.default.element(h);){var y=t.interactables.forEachMatch(h,m);if(y){r.prepared.name="drag",r.interactable=y,r.element=h;break}h=(0,C.parentNode)(h)}}}}}};dt.default=Di;var ft={};function tn(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var r=e.interactable.options;return r[t].hold||r[t].delay}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0;var Ii={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(Ce.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,r=tn(t);r>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},r))},"interactions:move":function(e){var t=e.interaction,r=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!r&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;tn(t)>0&&(t.prepared.name=null)}},getHoldDuration:tn};ft.default=Ii;var ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=void 0;var ji={id:"auto-start",install:function(e){e.usePlugin(Ce.default),e.usePlugin(ft.default),e.usePlugin(dt.default)}};ht.default=ji;var De={};function Ri(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):f.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function zi(e){var t=e.interaction,r=e.event;t.interactable&&t.interactable.checkAndPreventDefault(r)}function nr(e){var t=e.Interactable;t.prototype.preventDefault=Ri,t.prototype.checkAndPreventDefault=function(r){return function(n,i,o){var l=n.options.preventDefault;if(l!=="never")if(l!=="always"){if(i.events.supportsPassive&&/^touch(start|move)$/.test(o.type)){var a=(0,c.getWindow)(o.target).document,s=i.getDocOptions(a);if(!s||!s.events||s.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(o.type)||f.default.element(o.target)&&(0,C.matchesSelector)(o.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||o.preventDefault()}else o.preventDefault()}(this,e,r)},e.interactions.docEvents.push({type:"dragstart",listener:function(r){for(var n=0;n<e.interactions.list.length;n++){var i=e.interactions.list[n];if(i.element&&(i.element===r.target||(0,C.nodeContains)(i.element,r.target)))return void i.interactable.checkAndPreventDefault(r)}}})}Object.defineProperty(De,"__esModule",{value:!0}),De.install=nr,De.default=void 0;var Hi={id:"core/interactablePreventDefault",install:nr,listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=zi,e},{})};De.default=Hi;var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.default=void 0,vt.default={};var Ie,gt={};function nn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(Ie||(Ie={}));var rr="[interact.js] ",rn={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},on=[{name:Ie.touchAction,perform:function(e){return!function(t,r,n){for(var i=t;f.default.element(i);){if(ir(i,"touchAction",n))return!0;i=(0,C.parentNode)(i)}return!1}(e.element,0,/pan-|pinch|none/)},getInfo:function(e){return[e.element,rn.touchAction]},text:`Consider adding CSS "touch-action: none" to this element
`},{name:Ie.boxSizing,perform:function(e){var t=e.element;return e.prepared.name==="resize"&&t instanceof H.default.HTMLElement&&!ir(t,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo:function(e){return[e.element,rn.boxSizing]}},{name:Ie.noListeners,perform:function(e){var t=e.prepared.name;return!(e.interactable.events.types["".concat(t,"move")]||[]).length},getInfo:function(e){return[e.prepared.name,e.interactable]},text:"There are no listeners set for this action"}];function ir(e,t,r){var n=e.style[t]||c.window.getComputedStyle(e)[t];return r.test((n||"").toString())}var Li={id:"dev-tools",install:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.logger,n=e.Interactable,i=e.defaults;e.logger=r||console,i.base.devTools={ignore:{}},n.prototype.devTools=function(o){return o?((0,M.default)(this.options.devTools,o),this):this.options.devTools},e.usePlugin(vt.default)},listeners:{"interactions:action-start":function(e,t){for(var r=e.interaction,n=0;n<on.length;n++){var i,o=on[n],l=r.interactable&&r.interactable.options;l&&l.devTools&&l.devTools.ignore[o.name]||!o.perform(r)||(i=t.logger).warn.apply(i,[rr+o.text].concat(function(s){if(Array.isArray(s))return nn(s)}(a=o.getInfo(r))||function(s){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(s))return Array.from(s)}(a)||function(s,u){if(s){if(typeof s=="string")return nn(s,u);var p=Object.prototype.toString.call(s).slice(8,-1);return p==="Object"&&s.constructor&&(p=s.constructor.name),p==="Map"||p==="Set"?Array.from(s):p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?nn(s,u):void 0}}(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()))}var a}},checks:on,CheckName:Ie,links:rn,prefix:rr};gt.default=Li;var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.default=function e(t){var r={};for(var n in t){var i=t[n];f.default.plainObject(i)?r[n]=e(i):f.default.array(i)?r[n]=V.from(i):r[n]=i}return r};var Se={};function or(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(r)){var i=[],o=!0,l=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done)&&(i.push(s.value),!n||i.length!==n);o=!0);}catch(p){l=!0,a=p}finally{try{o||u.return==null||u.return()}finally{if(l)throw a}}return i}}(e,t)||function(r,n){if(r){if(typeof r=="string")return ar(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?ar(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ar(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Fi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(Se,"__esModule",{value:!0}),Se.getRectOffset=sr,Se.default=void 0;var Wi=function(){function e(n){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=n,this.result=mt()}var t,r;return t=e,(r=[{key:"start",value:function(n,i){var o=n.phase,l=this.interaction,a=function(u){var p=u.interactable.options[u.prepared.name],h=p.modifiers;return h&&h.length?h:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(m){var y=p[m];return y&&y.enabled&&{options:y,methods:y._methods}}).filter(function(m){return!!m})}(l);this.prepareStates(a),this.edges=(0,M.default)({},l.edges),this.startOffset=sr(l.rect,i),this.startDelta={x:0,y:0};var s=this.fillArg({phase:o,pageCoords:i,preEnd:!1});return this.result=mt(),this.startAll(s),this.result=this.setAll(s)}},{key:"fillArg",value:function(n){var i=this.interaction;return n.interaction=i,n.interactable=i.interactable,n.element=i.element,n.rect=n.rect||i.rect,n.edges=this.edges,n.startOffset=this.startOffset,n}},{key:"startAll",value:function(n){for(var i=0;i<this.states.length;i++){var o=this.states[i];o.methods.start&&(n.state=o,o.methods.start(n))}}},{key:"setAll",value:function(n){var i=n.phase,o=n.preEnd,l=n.skipModifiers,a=n.rect;n.coords=(0,M.default)({},n.pageCoords),n.rect=(0,M.default)({},a);for(var s=l?this.states.slice(l):this.states,u=mt(n.coords,n.rect),p=0;p<s.length;p++){var h,m=s[p],y=m.options,g=(0,M.default)({},n.coords),E=null;(h=m.methods)!=null&&h.set&&this.shouldDo(y,o,i)&&(n.state=m,E=m.methods.set(n),N.addEdges(this.interaction.edges,n.rect,{x:n.coords.x-g.x,y:n.coords.y-g.y})),u.eventProps.push(E)}u.delta.x=n.coords.x-n.pageCoords.x,u.delta.y=n.coords.y-n.pageCoords.y,u.rectDelta.left=n.rect.left-a.left,u.rectDelta.right=n.rect.right-a.right,u.rectDelta.top=n.rect.top-a.top,u.rectDelta.bottom=n.rect.bottom-a.bottom;var S=this.result.coords,x=this.result.rect;if(S&&x){var T=u.rect.left!==x.left||u.rect.right!==x.right||u.rect.top!==x.top||u.rect.bottom!==x.bottom;u.changed=T||S.x!==u.coords.x||S.y!==u.coords.y}return u}},{key:"applyToInteraction",value:function(n){var i=this.interaction,o=n.phase,l=i.coords.cur,a=i.coords.start,s=this.result,u=this.startDelta,p=s.delta;o==="start"&&(0,M.default)(this.startDelta,s.delta);for(var h=[[a,u],[l,p]],m=0;m<h.length;m++){var y=or(h[m],2),g=y[0],E=y[1];g.page.x+=E.x,g.page.y+=E.y,g.client.x+=E.x,g.client.y+=E.y}var S=this.result.rectDelta,x=n.rect||i.rect;x.left+=S.left,x.right+=S.right,x.top+=S.top,x.bottom+=S.bottom,x.width=x.right-x.left,x.height=x.bottom-x.top}},{key:"setAndApply",value:function(n){var i=this.interaction,o=n.phase,l=n.preEnd,a=n.skipModifiers,s=this.setAll(this.fillArg({preEnd:l,phase:o,pageCoords:n.modifiedCoords||i.coords.cur.page}));if(this.result=s,!s.changed&&(!a||a<this.states.length)&&i.interacting())return!1;if(n.modifiedCoords){var u=i.coords.cur.page,p={x:n.modifiedCoords.x-u.x,y:n.modifiedCoords.y-u.y};s.coords.x+=p.x,s.coords.y+=p.y,s.delta.x+=p.x,s.delta.y+=p.y}this.applyToInteraction(n)}},{key:"beforeEnd",value:function(n){var i=n.interaction,o=n.event,l=this.states;if(l&&l.length){for(var a=!1,s=0;s<l.length;s++){var u=l[s];n.state=u;var p=u.options,h=u.methods,m=h.beforeEnd&&h.beforeEnd(n);if(m)return this.endResult=m,!1;a=a||!a&&this.shouldDo(p,!0,n.phase,!0)}a&&i.move({event:o,preEnd:!0})}}},{key:"stop",value:function(n){var i=n.interaction;if(this.states&&this.states.length){var o=(0,M.default)({states:this.states,interactable:i.interactable,element:i.element,rect:null},n);this.fillArg(o);for(var l=0;l<this.states.length;l++){var a=this.states[l];o.state=a,a.methods.stop&&a.methods.stop(o)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(n){this.states=[];for(var i=0;i<n.length;i++){var o=n[i],l=o.options,a=o.methods,s=o.name;this.states.push({options:l,methods:a,index:i,name:s})}return this.states}},{key:"restoreInteractionCoords",value:function(n){var i=n.interaction,o=i.coords,l=i.rect,a=i.modification;if(a.result){for(var s=a.startDelta,u=a.result,p=u.delta,h=u.rectDelta,m=[[o.start,s],[o.cur,p]],y=0;y<m.length;y++){var g=or(m[y],2),E=g[0],S=g[1];E.page.x-=S.x,E.page.y-=S.y,E.client.x-=S.x,E.client.y-=S.y}l.left-=h.left,l.right-=h.right,l.top-=h.top,l.bottom-=h.bottom}}},{key:"shouldDo",value:function(n,i,o,l){return!(!n||n.enabled===!1||l&&!n.endOnly||n.endOnly&&!i||o==="start"&&!n.setStart)}},{key:"copyFrom",value:function(n){this.startOffset=n.startOffset,this.startDelta=n.startDelta,this.edges=n.edges,this.states=n.states.map(function(i){return(0,Ee.default)(i)}),this.result=mt((0,M.default)({},n.result.coords),(0,M.default)({},n.result.rect))}},{key:"destroy",value:function(){for(var n in this)this[n]=null}}])&&Fi(t.prototype,r),e}();function mt(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function sr(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}Se.default=Wi;var K={};function yt(e){var t=e.iEvent,r=e.interaction.modification.result;r&&(t.modifiers=r.eventProps)}Object.defineProperty(K,"__esModule",{value:!0}),K.makeModifier=function(e,t){var r=e.defaults,n={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},i=function(o){var l=o||{};for(var a in l.enabled=l.enabled!==!1,r)a in l||(l[a]=r[a]);var s={options:l,methods:n,name:t,enable:function(){return l.enabled=!0,s},disable:function(){return l.enabled=!1,s}};return s};return t&&typeof t=="string"&&(i._defaults=r,i._methods=n),i},K.addEventModifiers=yt,K.default=void 0;var Vi={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new Se.default(t)},"interactions:before-action-start":function(e){var t=e.interaction.modification;t.start(e,e.interaction.coords.start.page),e.interaction.edges=t.edges,t.applyToInteraction(e)},"interactions:before-action-move":function(e){return e.interaction.modification.setAndApply(e)},"interactions:before-action-end":function(e){return e.interaction.modification.beforeEnd(e)},"interactions:action-start":yt,"interactions:action-move":yt,"interactions:action-end":yt,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}};K.default=Vi;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.defaults=void 0,Ye.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var qe={};function lr(e){return(lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ni(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ur(e,t){return(ur=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r})(e,t)}function Bi(e,t){return!t||lr(t)!=="object"&&typeof t!="function"?cr(e):t}function cr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(qe,"__esModule",{value:!0}),qe.InteractEvent=void 0;var pr=function(e){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&ur(a,s)})(l,e);var t,r,n,i,o=(n=l,i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,s=an(n);if(i){var u=an(this).constructor;a=Reflect.construct(s,arguments,u)}else a=s.apply(this,arguments);return Bi(this,a)});function l(a,s,u,p,h,m,y){var g;(function(B,R){if(!(B instanceof R))throw new TypeError("Cannot call a class as a function")})(this,l),(g=o.call(this,a)).target=void 0,g.currentTarget=void 0,g.relatedTarget=null,g.screenX=void 0,g.screenY=void 0,g.button=void 0,g.buttons=void 0,g.ctrlKey=void 0,g.shiftKey=void 0,g.altKey=void 0,g.metaKey=void 0,g.page=void 0,g.client=void 0,g.delta=void 0,g.rect=void 0,g.x0=void 0,g.y0=void 0,g.t0=void 0,g.dt=void 0,g.duration=void 0,g.clientX0=void 0,g.clientY0=void 0,g.velocity=void 0,g.speed=void 0,g.swipe=void 0,g.timeStamp=void 0,g.axes=void 0,g.preEnd=void 0,h=h||a.element;var E=a.interactable,S=(E&&E.options||Ye.defaults).deltaSource,x=(0,we.default)(E,h,u),T=p==="start",D=p==="end",j=T?cr(g):a.prevEvent,L=T?a.coords.start:D?{page:j.page,client:j.client,timeStamp:a.coords.cur.timeStamp}:a.coords.cur;return g.page=(0,M.default)({},L.page),g.client=(0,M.default)({},L.client),g.rect=(0,M.default)({},a.rect),g.timeStamp=L.timeStamp,D||(g.page.x-=x.x,g.page.y-=x.y,g.client.x-=x.x,g.client.y-=x.y),g.ctrlKey=s.ctrlKey,g.altKey=s.altKey,g.shiftKey=s.shiftKey,g.metaKey=s.metaKey,g.button=s.button,g.buttons=s.buttons,g.target=h,g.currentTarget=h,g.preEnd=m,g.type=y||u+(p||""),g.interactable=E,g.t0=T?a.pointers[a.pointers.length-1].downTime:j.t0,g.x0=a.coords.start.page.x-x.x,g.y0=a.coords.start.page.y-x.y,g.clientX0=a.coords.start.client.x-x.x,g.clientY0=a.coords.start.client.y-x.y,g.delta=T||D?{x:0,y:0}:{x:g[S].x-j[S].x,y:g[S].y-j[S].y},g.dt=a.coords.delta.timeStamp,g.duration=g.timeStamp-g.t0,g.velocity=(0,M.default)({},a.coords.velocity[S]),g.speed=(0,ge.default)(g.velocity.x,g.velocity.y),g.swipe=D||p==="inertiastart"?g.getSwipe():null,g}return t=l,(r=[{key:"getSwipe",value:function(){var a=this._interaction;if(a.prevEvent.speed<600||this.timeStamp-a.prevEvent.timeStamp>150)return null;var s=180*Math.atan2(a.prevEvent.velocityY,a.prevEvent.velocityX)/Math.PI;s<0&&(s+=360);var u=112.5<=s&&s<247.5,p=202.5<=s&&s<337.5;return{up:p,down:!p&&22.5<=s&&s<157.5,left:u,right:!u&&(292.5<=s||s<67.5),angle:s,speed:a.prevEvent.speed,velocity:{x:a.prevEvent.velocityX,y:a.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&Ni(t.prototype,r),l}(Ae.BaseEvent);qe.InteractEvent=pr,Object.defineProperties(pr.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.PointerInfo=void 0,Ue.PointerInfo=function e(t,r,n,i,o){(function(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=r,this.event=n,this.downTime=i,this.downTarget=o};var bt,wt,ne={};function Xi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(ne,"__esModule",{value:!0}),Object.defineProperty(ne,"PointerInfo",{enumerable:!0,get:function(){return Ue.PointerInfo}}),ne.default=ne.Interaction=ne._ProxyMethods=ne._ProxyValues=void 0,ne._ProxyValues=bt,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(bt||(ne._ProxyValues=bt={})),ne._ProxyMethods=wt,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(wt||(ne._ProxyMethods=wt={}));var Yi=0,dr=function(){function e(n){var i=this,o=n.pointerType,l=n.scopeFire;(function(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")})(this,e),this.interactable=null,this.element=null,this.rect=void 0,this._rects=void 0,this.edges=void 0,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=(0,re.warnOnce)(function(m){this.move(m)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:O.newCoords(),prev:O.newCoords(),cur:O.newCoords(),delta:O.newCoords(),velocity:O.newCoords()},this._id=Yi++,this._scopeFire=l,this.pointerType=o;var a=this;this._proxy={};var s=function(m){Object.defineProperty(i._proxy,m,{get:function(){return a[m]}})};for(var u in bt)s(u);var p=function(m){Object.defineProperty(i._proxy,m,{value:function(){return a[m].apply(a,arguments)}})};for(var h in wt)p(h);this._scopeFire("interactions:new",{interaction:this})}var t,r;return t=e,(r=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(n,i,o){var l=this.updatePointer(n,i,o,!0),a=this.pointers[l];this._scopeFire("interactions:down",{pointer:n,event:i,eventTarget:o,pointerIndex:l,pointerInfo:a,type:"down",interaction:this})}},{key:"start",value:function(n,i,o){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(n.name==="gesture"?2:1)||!i.options[n.name].enabled)&&((0,re.copyAction)(this.prepared,n),this.interactable=i,this.element=o,this.rect=i.getRect(o),this.edges=this.prepared.edges?(0,M.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(n,i,o){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(n,i,o,!1);var l,a,s=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(l=this.coords.cur.client.x-this.coords.start.client.x,a=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,ge.default)(l,a)>this.pointerMoveTolerance);var u=this.getPointerIndex(n),p={pointer:n,pointerIndex:u,pointerInfo:this.pointers[u],event:i,type:"move",eventTarget:o,dx:l,dy:a,duplicate:s,interaction:this};s||O.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",p),s||this.simulation||(this.interacting()&&(p.type=null,this.move(p)),this.pointerWasMoved&&O.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(n){n&&n.event||O.setZeroCoords(this.coords.delta),(n=(0,M.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},n||{})).phase="move",this._doPhase(n)}},{key:"pointerUp",value:function(n,i,o,l){var a=this.getPointerIndex(n);a===-1&&(a=this.updatePointer(n,i,o,!1));var s=/cancel$/i.test(i.type)?"cancel":"up";this._scopeFire("interactions:".concat(s),{pointer:n,pointerIndex:a,pointerInfo:this.pointers[a],event:i,eventTarget:o,type:s,curEventTarget:l,interaction:this}),this.simulation||this.end(i),this.removePointer(n,i)}},{key:"documentBlur",value:function(n){this.end(n),this._scopeFire("interactions:blur",{event:n,type:"blur",interaction:this})}},{key:"end",value:function(n){var i;this._ending=!0,n=n||this._latestPointer.event,this.interacting()&&(i=this._doPhase({event:n,interaction:this,phase:"end"})),this._ending=!1,i===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(n){var i=O.getPointerId(n);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:V.findIndex(this.pointers,function(o){return o.id===i})}},{key:"getPointerInfo",value:function(n){return this.pointers[this.getPointerIndex(n)]}},{key:"updatePointer",value:function(n,i,o,l){var a=O.getPointerId(n),s=this.getPointerIndex(n),u=this.pointers[s];return l=l!==!1&&(l||/(down|start)$/i.test(i.type)),u?u.pointer=n:(u=new Ue.PointerInfo(a,n,i,null,null),s=this.pointers.length,this.pointers.push(u)),O.setCoords(this.coords.cur,this.pointers.map(function(p){return p.pointer}),this._now()),O.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),l&&(this.pointerIsDown=!0,u.downTime=this.coords.cur.timeStamp,u.downTarget=o,O.pointerExtend(this.downPointer,n),this.interacting()||(O.copyCoords(this.coords.start,this.coords.cur),O.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=i,this.pointerWasMoved=!1)),this._updateLatestPointer(n,i,o),this._scopeFire("interactions:update-pointer",{pointer:n,event:i,eventTarget:o,down:l,pointerInfo:u,pointerIndex:s,interaction:this}),s}},{key:"removePointer",value:function(n,i){var o=this.getPointerIndex(n);if(o!==-1){var l=this.pointers[o];this._scopeFire("interactions:remove-pointer",{pointer:n,event:i,eventTarget:null,pointerIndex:o,pointerInfo:l,interaction:this}),this.pointers.splice(o,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(n,i,o){this._latestPointer.pointer=n,this._latestPointer.event=i,this._latestPointer.eventTarget=o}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(n,i,o,l){return new qe.InteractEvent(this,n,this.prepared.name,i,this.element,o,l)}},{key:"_fireEvent",value:function(n){this.interactable.fire(n),(!this.prevEvent||n.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=n)}},{key:"_doPhase",value:function(n){var i=n.event,o=n.phase,l=n.preEnd,a=n.type,s=this.rect;if(s&&o==="move"&&(N.addEdges(this.edges,s,this.coords.delta[this.interactable.options.deltaSource]),s.width=s.right-s.left,s.height=s.bottom-s.top),this._scopeFire("interactions:before-action-".concat(o),n)===!1)return!1;var u=n.iEvent=this._createPreparedEvent(i,o,l,a);return this._scopeFire("interactions:action-".concat(o),n),o==="start"&&(this.prevEvent=u),this._fireEvent(u),this._scopeFire("interactions:after-action-".concat(o),n),!0}},{key:"_now",value:function(){return Date.now()}}])&&Xi(t.prototype,r),e}();ne.Interaction=dr;var qi=dr;ne.default=qi;var Pe={};function fr(e){e.pointerIsDown&&(ln(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function hr(e){sn(e.interaction)}function sn(e){if(!function(r){return!(!r.offset.pending.x&&!r.offset.pending.y)}(e))return!1;var t=e.offset.pending;return ln(e.coords.cur,t),ln(e.coords.delta,t),N.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Ui(e){var t=e.x,r=e.y;this.offset.pending.x+=t,this.offset.pending.y+=r,this.offset.total.x+=t,this.offset.total.y+=r}function ln(e,t){var r=e.page,n=e.client,i=t.x,o=t.y;r.x+=i,r.y+=o,n.x+=i,n.y+=o}Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.addTotal=fr,Pe.applyPending=sn,Pe.default=void 0,ne._ProxyMethods.offsetBy="";var $i={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Ui},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return fr(e.interaction)},"interactions:before-action-start":hr,"interactions:before-action-move":hr,"interactions:before-action-end":function(e){var t=e.interaction;if(sn(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}};Pe.default=$i;var je={};function Gi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(je,"__esModule",{value:!0}),je.default=je.InertiaState=void 0;var vr=function(){function e(n){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=n}var t,r;return t=e,(r=[{key:"start",value:function(n){var i=this.interaction,o=xt(i);if(!o||!o.enabled)return!1;var l=i.coords.velocity.client,a=(0,ge.default)(l.x,l.y),s=this.modification||(this.modification=new Se.default(i));if(s.copyFrom(i.modification),this.t0=i._now(),this.allowResume=o.allowResume,this.v0=a,this.currentOffset={x:0,y:0},this.startCoords=i.coords.cur.page,this.modifierArg=s.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-i.coords.cur.timeStamp<50&&a>o.minSpeed&&a>o.endSpeed)this.startInertia();else{if(s.result=s.setAll(this.modifierArg),!s.result.changed)return!1;this.startSmoothEnd()}return i.modification.result.rect=null,i.offsetBy(this.targetOffset),i._doPhase({interaction:i,event:n,phase:"inertiastart"}),i.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),i.modification.result.rect=null,this.active=!0,i.simulation=this,!0}},{key:"startInertia",value:function(){var n=this,i=this.interaction.coords.velocity.client,o=xt(this.interaction),l=o.resistance,a=-Math.log(o.endSpeed/this.v0)/l;this.targetOffset={x:(i.x-a)/l,y:(i.y-a)/l},this.te=a,this.lambda_v0=l/this.v0,this.one_ve_v0=1-o.endSpeed/this.v0;var s=this.modification,u=this.modifierArg;u.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},s.result=s.setAll(u),s.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+s.result.delta.x,y:this.targetOffset.y+s.result.delta.y}),this.onNextFrame(function(){return n.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var n=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return n.smoothEndTick()})}},{key:"onNextFrame",value:function(n){var i=this;this.timeout=le.default.request(function(){i.active&&n()})}},{key:"inertiaTick",value:function(){var n,i,o,l,a,s=this,u=this.interaction,p=xt(u).resistance,h=(u._now()-this.t0)/1e3;if(h<this.te){var m,y=1-(Math.exp(-p*h)-this.lambda_v0)/this.one_ve_v0;this.isModified?(n=this.targetOffset.x,i=this.targetOffset.y,o=this.modifiedOffset.x,l=this.modifiedOffset.y,m={x:gr(a=y,0,n,o),y:gr(a,0,i,l)}):m={x:this.targetOffset.x*y,y:this.targetOffset.y*y};var g={x:m.x-this.currentOffset.x,y:m.y-this.currentOffset.y};this.currentOffset.x+=g.x,this.currentOffset.y+=g.y,u.offsetBy(g),u.move(),this.onNextFrame(function(){return s.inertiaTick()})}else u.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var n=this,i=this.interaction,o=i._now()-this.t0,l=xt(i).smoothEndDuration;if(o<l){var a={x:mr(o,0,this.targetOffset.x,l),y:mr(o,0,this.targetOffset.y,l)},s={x:a.x-this.currentOffset.x,y:a.y-this.currentOffset.y};this.currentOffset.x+=s.x,this.currentOffset.y+=s.y,i.offsetBy(s),i.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return n.smoothEndTick()})}else i.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(n){var i=n.pointer,o=n.event,l=n.eventTarget,a=this.interaction;a.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),a.updatePointer(i,o,l,!0),a._doPhase({interaction:a,event:o,phase:"resume"}),(0,O.copyCoords)(a.coords.prev,a.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,le.default.cancel(this.timeout)}}])&&Gi(t.prototype,r),e}();function xt(e){var t=e.interactable,r=e.prepared;return t&&t.options&&r.name&&t.options[r.name].inertia}function gr(e,t,r,n){var i=1-e;return i*i*t+2*i*e*r+e*e*n}function mr(e,t,r,n){return-r*(e/=n)*(e-2)+t}je.InertiaState=vr;var Ki={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(Pe.default),e.usePlugin(K.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new vr(t)},"interactions:before-action-end":function(e){var t=e.interaction,r=e.event;return(!t._interacting||t.simulation||!t.inertia.start(r))&&null},"interactions:down":function(e){var t=e.interaction,r=e.eventTarget,n=t.inertia;if(n.active)for(var i=r;f.default.element(i);){if(i===t.element){n.resume(e);break}i=C.parentNode(i)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":K.addEventModifiers,"interactions:action-inertiastart":K.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};je.default=Ki;var $e={};function Zi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yr(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e.immediatePropagationStopped)break;n(e)}}Object.defineProperty($e,"__esModule",{value:!0}),$e.Eventable=void 0;var Ji=function(){function e(n){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=(0,M.default)({},n||{})}var t,r;return t=e,(r=[{key:"fire",value:function(n){var i,o=this.global;(i=this.types[n.type])&&yr(n,i),!n.propagationStopped&&o&&(i=o[n.type])&&yr(n,i)}},{key:"on",value:function(n,i){var o=(0,ke.default)(n,i);for(n in o)this.types[n]=V.merge(this.types[n]||[],o[n])}},{key:"off",value:function(n,i){var o=(0,ke.default)(n,i);for(n in o){var l=this.types[n];if(l&&l.length)for(var a=0;a<o[n].length;a++){var s=o[n][a],u=l.indexOf(s);u!==-1&&l.splice(u,1)}}}},{key:"getRect",value:function(n){return null}}])&&Zi(t.prototype,r),e}();$e.Eventable=Ji;var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var r in t.map)if(e.indexOf(r)===0&&e.substr(r.length)in t.phases)return!0;return!1};var un={};Object.defineProperty(un,"__esModule",{value:!0}),un.createInteractStatic=function(e){var t=function r(n,i){var o=e.interactables.get(n,i);return o||((o=e.interactables.new(n,i)).events.global=r.globalEvents),o};return t.getPointerAverage=O.pointerAverage,t.getTouchBBox=O.touchBBox,t.getTouchDistance=O.touchDistance,t.getTouchAngle=O.touchAngle,t.getElementRect=C.getElementRect,t.getElementClientRect=C.getElementClientRect,t.matchesSelector=C.matchesSelector,t.closest=C.closest,t.globalEvents={},t.version="1.10.11",t.scope=e,t.use=function(r,n){return this.scope.usePlugin(r,n),this},t.isSet=function(r,n){return!!this.scope.interactables.get(r,n&&n.context)},t.on=(0,re.warnOnce)(function(r,n,i){if(f.default.string(r)&&r.search(" ")!==-1&&(r=r.trim().split(/ +/)),f.default.array(r)){for(var o=0;o<r.length;o++){var l=r[o];this.on(l,n,i)}return this}if(f.default.object(r)){for(var a in r)this.on(a,r[a],n);return this}return(0,Ge.default)(r,this.scope.actions)?this.globalEvents[r]?this.globalEvents[r].push(n):this.globalEvents[r]=[n]:this.scope.events.add(this.scope.document,r,n,{options:i}),this},"The interact.on() method is being deprecated"),t.off=(0,re.warnOnce)(function(r,n,i){if(f.default.string(r)&&r.search(" ")!==-1&&(r=r.trim().split(/ +/)),f.default.array(r)){for(var o=0;o<r.length;o++){var l=r[o];this.off(l,n,i)}return this}if(f.default.object(r)){for(var a in r)this.off(a,r[a],n);return this}var s;return(0,Ge.default)(r,this.scope.actions)?r in this.globalEvents&&(s=this.globalEvents[r].indexOf(n))!==-1&&this.globalEvents[r].splice(s,1):this.scope.events.remove(this.scope.document,r,n,i),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return Q.default.supportsTouch},t.supportsPointerEvent=function(){return Q.default.supportsPointerEvent},t.stop=function(){for(var r=0;r<this.scope.interactions.list.length;r++)this.scope.interactions.list[r].stop();return this},t.pointerMoveTolerance=function(r){return f.default.number(r)?(this.scope.interactions.pointerMoveTolerance=r,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(r,n){this.scope.addDocument(r,n)},t.removeDocument=function(r){this.scope.removeDocument(r)},t};var Et={};function Qi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(Et,"__esModule",{value:!0}),Et.Interactable=void 0;var eo=function(){function e(n,i,o,l){(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=void 0,this._actions=void 0,this.target=void 0,this.events=new $e.Eventable,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._rectChecker=void 0,this._actions=i.actions,this.target=n,this._context=i.context||o,this._win=(0,c.getWindow)((0,C.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=l,this.set(i)}var t,r;return t=e,(r=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(n,i){return f.default.func(i.onstart)&&this.on("".concat(n,"start"),i.onstart),f.default.func(i.onmove)&&this.on("".concat(n,"move"),i.onmove),f.default.func(i.onend)&&this.on("".concat(n,"end"),i.onend),f.default.func(i.oninertiastart)&&this.on("".concat(n,"inertiastart"),i.oninertiastart),this}},{key:"updatePerActionListeners",value:function(n,i,o){(f.default.array(i)||f.default.object(i))&&this.off(n,i),(f.default.array(o)||f.default.object(o))&&this.on(n,o)}},{key:"setPerAction",value:function(n,i){var o=this._defaults;for(var l in i){var a=l,s=this.options[n],u=i[a];a==="listeners"&&this.updatePerActionListeners(n,s.listeners,u),f.default.array(u)?s[a]=V.from(u):f.default.plainObject(u)?(s[a]=(0,M.default)(s[a]||{},(0,Ee.default)(u)),f.default.object(o.perAction[a])&&"enabled"in o.perAction[a]&&(s[a].enabled=u.enabled!==!1)):f.default.bool(u)&&f.default.object(o.perAction[a])?s[a].enabled=u:s[a]=u}}},{key:"getRect",value:function(n){return n=n||(f.default.element(this.target)?this.target:null),f.default.string(this.target)&&(n=n||this._context.querySelector(this.target)),(0,C.getElementRect)(n)}},{key:"rectChecker",value:function(n){var i=this;return f.default.func(n)?(this._rectChecker=n,this.getRect=function(o){var l=(0,M.default)({},i._rectChecker(o));return"width"in l||(l.width=l.right-l.left,l.height=l.bottom-l.top),l},this):n===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(n,i){if((0,C.trySelector)(i)||f.default.object(i)){for(var o in this.options[n]=i,this._actions.map)this.options[o][n]=i;return this}return this.options[n]}},{key:"origin",value:function(n){return this._backCompatOption("origin",n)}},{key:"deltaSource",value:function(n){return n==="page"||n==="client"?(this.options.deltaSource=n,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(n){return this._context===n.ownerDocument||(0,C.nodeContains)(this._context,n)}},{key:"testIgnoreAllow",value:function(n,i,o){return!this.testIgnore(n.ignoreFrom,i,o)&&this.testAllow(n.allowFrom,i,o)}},{key:"testAllow",value:function(n,i,o){return!n||!!f.default.element(o)&&(f.default.string(n)?(0,C.matchesUpTo)(o,n,i):!!f.default.element(n)&&(0,C.nodeContains)(n,o))}},{key:"testIgnore",value:function(n,i,o){return!(!n||!f.default.element(o))&&(f.default.string(n)?(0,C.matchesUpTo)(o,n,i):!!f.default.element(n)&&(0,C.nodeContains)(n,o))}},{key:"fire",value:function(n){return this.events.fire(n),this}},{key:"_onOff",value:function(n,i,o,l){f.default.object(i)&&!f.default.array(i)&&(l=o,o=null);var a=n==="on"?"add":"remove",s=(0,ke.default)(i,o);for(var u in s){u==="wheel"&&(u=Q.default.wheelEvent);for(var p=0;p<s[u].length;p++){var h=s[u][p];(0,Ge.default)(u,this._actions)?this.events[n](u,h):f.default.string(this.target)?this._scopeEvents["".concat(a,"Delegate")](this.target,this._context,u,h,l):this._scopeEvents[a](this.target,u,h,l)}}return this}},{key:"on",value:function(n,i,o){return this._onOff("on",n,i,o)}},{key:"off",value:function(n,i,o){return this._onOff("off",n,i,o)}},{key:"set",value:function(n){var i=this._defaults;for(var o in f.default.object(n)||(n={}),this.options=(0,Ee.default)(i.base),this._actions.methodDict){var l=o,a=this._actions.methodDict[l];this.options[l]={},this.setPerAction(l,(0,M.default)((0,M.default)({},i.perAction),i.actions[l])),this[a](n[l])}for(var s in n)f.default.func(this[s])&&this[s](n[s]);return this}},{key:"unset",value:function(){if(f.default.string(this.target))for(var n in this._scopeEvents.delegatedEvents)for(var i=this._scopeEvents.delegatedEvents[n],o=i.length-1;o>=0;o--){var l=i[o],a=l.selector,s=l.context,u=l.listeners;a===this.target&&s===this._context&&i.splice(o,1);for(var p=u.length-1;p>=0;p--)this._scopeEvents.removeDelegate(this.target,this._context,n,u[p][0],u[p][1])}else this._scopeEvents.remove(this.target,"all")}}])&&Qi(t.prototype,r),e}();Et.Interactable=eo;var St={};function to(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(St,"__esModule",{value:!0}),St.InteractableSet=void 0;var no=function(){function e(n){var i=this;(function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=n,n.addListeners({"interactable:unset":function(o){var l=o.interactable,a=l.target,s=l._context,u=f.default.string(a)?i.selectorMap[a]:a[i.scope.id],p=V.findIndex(u,function(h){return h.context===s});u[p]&&(u[p].context=null,u[p].interactable=null),u.splice(p,1)}})}var t,r;return t=e,(r=[{key:"new",value:function(n,i){i=(0,M.default)(i||{},{actions:this.scope.actions});var o=new this.scope.Interactable(n,i,this.scope.document,this.scope.events),l={context:o._context,interactable:o};return this.scope.addDocument(o._doc),this.list.push(o),f.default.string(n)?(this.selectorMap[n]||(this.selectorMap[n]=[]),this.selectorMap[n].push(l)):(o.target[this.scope.id]||Object.defineProperty(n,this.scope.id,{value:[],configurable:!0}),n[this.scope.id].push(l)),this.scope.fire("interactable:new",{target:n,options:i,interactable:o,win:this.scope._win}),o}},{key:"get",value:function(n,i){var o=i&&i.context||this.scope.document,l=f.default.string(n),a=l?this.selectorMap[n]:n[this.scope.id];if(!a)return null;var s=V.find(a,function(u){return u.context===o&&(l||u.interactable.inContext(n))});return s&&s.interactable}},{key:"forEachMatch",value:function(n,i){for(var o=0;o<this.list.length;o++){var l=this.list[o],a=void 0;if((f.default.string(l.target)?f.default.element(n)&&C.matchesSelector(n,l.target):n===l.target)&&l.inContext(n)&&(a=i(l)),a!==void 0)return a}}}])&&to(t.prototype,r),e}();St.InteractableSet=no;var Pt={};function ro(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cn(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(r)){var i=[],o=!0,l=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done)&&(i.push(s.value),!n||i.length!==n);o=!0);}catch(p){l=!0,a=p}finally{try{o||u.return==null||u.return()}finally{if(l)throw a}}return i}}(e,t)||function(r,n){if(r){if(typeof r=="string")return br(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?br(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function br(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.default=void 0;var io=function(){function e(n){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=n,(0,Ne.default)(this,n)}var t,r;return t=e,(r=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&ro(t.prototype,r),e}();function Ke(e){if(!f.default.object(e))return{capture:!!e,passive:!1};var t=(0,M.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var oo={id:"events",install:function(e){var t,r=[],n={},i=[],o={add:l,remove:a,addDelegate:function(p,h,m,y,g){var E=Ke(g);if(!n[m]){n[m]=[];for(var S=0;S<i.length;S++){var x=i[S];l(x,m,s),l(x,m,u,!0)}}var T=n[m],D=V.find(T,function(j){return j.selector===p&&j.context===h});D||(D={selector:p,context:h,listeners:[]},T.push(D)),D.listeners.push([y,E])},removeDelegate:function(p,h,m,y,g){var E,S=Ke(g),x=n[m],T=!1;if(x)for(E=x.length-1;E>=0;E--){var D=x[E];if(D.selector===p&&D.context===h){for(var j=D.listeners,L=j.length-1;L>=0;L--){var B=cn(j[L],2),R=B[0],F=B[1],ae=F.capture,he=F.passive;if(R===y&&ae===S.capture&&he===S.passive){j.splice(L,1),j.length||(x.splice(E,1),a(h,m,s),a(h,m,u,!0)),T=!0;break}}if(T)break}}},delegateListener:s,delegateUseCapture:u,delegatedEvents:n,documents:i,targets:r,supportsOptions:!1,supportsPassive:!1};function l(p,h,m,y){var g=Ke(y),E=V.find(r,function(S){return S.eventTarget===p});E||(E={eventTarget:p,events:{}},r.push(E)),E.events[h]||(E.events[h]=[]),p.addEventListener&&!V.contains(E.events[h],m)&&(p.addEventListener(h,m,o.supportsOptions?g:g.capture),E.events[h].push(m))}function a(p,h,m,y){var g=Ke(y),E=V.findIndex(r,function(L){return L.eventTarget===p}),S=r[E];if(S&&S.events)if(h!=="all"){var x=!1,T=S.events[h];if(T){if(m==="all"){for(var D=T.length-1;D>=0;D--)a(p,h,T[D],g);return}for(var j=0;j<T.length;j++)if(T[j]===m){p.removeEventListener(h,m,o.supportsOptions?g:g.capture),T.splice(j,1),T.length===0&&(delete S.events[h],x=!0);break}}x&&!Object.keys(S.events).length&&r.splice(E,1)}else for(h in S.events)S.events.hasOwnProperty(h)&&a(p,h,"all")}function s(p,h){for(var m=Ke(h),y=new io(p),g=n[p.type],E=cn(O.getEventTargets(p),1)[0],S=E;f.default.element(S);){for(var x=0;x<g.length;x++){var T=g[x],D=T.selector,j=T.context;if(C.matchesSelector(S,D)&&C.nodeContains(j,E)&&C.nodeContains(j,S)){var L=T.listeners;y.currentTarget=S;for(var B=0;B<L.length;B++){var R=cn(L[B],2),F=R[0],ae=R[1],he=ae.capture,Pn=ae.passive;he===m.capture&&Pn===m.passive&&F(y)}}}S=C.parentNode(S)}}function u(p){return s(p,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return o.supportsOptions=!0},get passive(){return o.supportsPassive=!0}}),e.events=o,o}};Pt.default=oo;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.default=void 0;var _t={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<_t.methodOrder.length;t++){var r;r=_t.methodOrder[t];var n=_t[r](e);if(n)return n}return null},simulationResume:function(e){var t=e.pointerType,r=e.eventType,n=e.eventTarget,i=e.scope;if(!/down|start/i.test(r))return null;for(var o=0;o<i.interactions.list.length;o++){var l=i.interactions.list[o],a=n;if(l.simulation&&l.simulation.allowResume&&l.pointerType===t)for(;a;){if(a===l.element)return l;a=C.parentNode(a)}}return null},mouseOrPen:function(e){var t,r=e.pointerId,n=e.pointerType,i=e.eventType,o=e.scope;if(n!=="mouse"&&n!=="pen")return null;for(var l=0;l<o.interactions.list.length;l++){var a=o.interactions.list[l];if(a.pointerType===n){if(a.simulation&&!wr(a,r))continue;if(a.interacting())return a;t||(t=a)}}if(t)return t;for(var s=0;s<o.interactions.list.length;s++){var u=o.interactions.list[s];if(!(u.pointerType!==n||/down/i.test(i)&&u.simulation))return u}return null},hasPointer:function(e){for(var t=e.pointerId,r=e.scope,n=0;n<r.interactions.list.length;n++){var i=r.interactions.list[n];if(wr(i,t))return i}return null},idle:function(e){for(var t=e.pointerType,r=e.scope,n=0;n<r.interactions.list.length;n++){var i=r.interactions.list[n];if(i.pointers.length===1){var o=i.interactable;if(o&&(!o.options.gesture||!o.options.gesture.enabled))continue}else if(i.pointers.length>=2)continue;if(!i.interacting()&&t===i.pointerType)return i}return null}};function wr(e,t){return e.pointers.some(function(r){return r.id===t})}var ao=_t;Tt.default=ao;var Ot={};function xr(e){return(xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Er(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(r)){var i=[],o=!0,l=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done)&&(i.push(s.value),!n||i.length!==n);o=!0);}catch(p){l=!0,a=p}finally{try{o||u.return==null||u.return()}finally{if(l)throw a}}return i}}(e,t)||function(r,n){if(r){if(typeof r=="string")return Sr(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Sr(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function so(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pr(e,t){return(Pr=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r})(e,t)}function uo(e,t){return!t||xr(t)!=="object"&&typeof t!="function"?function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e):t}function pn(e){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.default=void 0;var dn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Tr(e,t){return function(r){var n=t.interactions.list,i=O.getPointerType(r),o=Er(O.getEventTargets(r),2),l=o[0],a=o[1],s=[];if(/^touch/.test(r.type)){t.prevTouchTime=t.now();for(var u=0;u<r.changedTouches.length;u++){var p=r.changedTouches[u],h={pointer:p,pointerId:O.getPointerId(p),pointerType:i,eventType:r.type,eventTarget:l,curEventTarget:a,scope:t},m=_r(h);s.push([h.pointer,h.eventTarget,h.curEventTarget,m])}}else{var y=!1;if(!Q.default.supportsPointerEvent&&/mouse/.test(r.type)){for(var g=0;g<n.length&&!y;g++)y=n[g].pointerType!=="mouse"&&n[g].pointerIsDown;y=y||t.now()-t.prevTouchTime<500||r.timeStamp===0}if(!y){var E={pointer:r,pointerId:O.getPointerId(r),pointerType:i,eventType:r.type,curEventTarget:a,eventTarget:l,scope:t},S=_r(E);s.push([E.pointer,E.eventTarget,E.curEventTarget,S])}}for(var x=0;x<s.length;x++){var T=Er(s[x],4),D=T[0],j=T[1],L=T[2];T[3][e](D,r,j,L)}}}function _r(e){var t=e.pointerType,r=e.scope,n={interaction:Tt.default.search(e),searchDetails:e};return r.fire("interactions:find",n),n.interaction||r.interactions.new({pointerType:t})}function fn(e,t){var r=e.doc,n=e.scope,i=e.options,o=n.interactions.docEvents,l=n.events,a=l[t];for(var s in n.browser.isIOS&&!i.events&&(i.events={passive:!1}),l.delegatedEvents)a(r,s,l.delegateListener),a(r,s,l.delegateUseCapture,!0);for(var u=i&&i.events,p=0;p<o.length;p++){var h=o[p];a(r,h.type,h.listener,u)}}var co={id:"core/interactions",install:function(e){for(var t={},r=0;r<dn.length;r++){var n=dn[r];t[n]=Tr(n,e)}var i,o=Q.default.pEventTypes;function l(){for(var a=0;a<e.interactions.list.length;a++){var s=e.interactions.list[a];if(s.pointerIsDown&&s.pointerType==="touch"&&!s._interacting)for(var u=function(){var h=s.pointers[p];e.documents.some(function(m){var y=m.doc;return(0,C.nodeContains)(y,h.downTarget)})||s.removePointer(h.pointer,h.event)},p=0;p<s.pointers.length;p++)u()}}(i=H.default.PointerEvent?[{type:o.down,listener:l},{type:o.down,listener:t.pointerDown},{type:o.move,listener:t.pointerMove},{type:o.up,listener:t.pointerUp},{type:o.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:l},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(a){for(var s=0;s<e.interactions.list.length;s++)e.interactions.list[s].documentBlur(a)}}),e.prevTouchTime=0,e.Interaction=function(a){(function(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),E&&Pr(g,E)})(y,a);var s,u,p,h,m=(p=y,h=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,E=pn(p);if(h){var S=pn(this).constructor;g=Reflect.construct(E,arguments,S)}else g=E.apply(this,arguments);return uo(this,g)});function y(){return so(this,y),m.apply(this,arguments)}return s=y,(u=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(g){e.interactions.pointerMoveTolerance=g}},{key:"_now",value:function(){return e.now()}}])&&lo(s.prototype,u),y}(ne.default),e.interactions={list:[],new:function(a){a.scopeFire=function(u,p){return e.fire(u,p)};var s=new e.Interaction(a);return e.interactions.list.push(s),s},listeners:t,docEvents:i,pointerMoveTolerance:1},e.usePlugin(De.default)},listeners:{"scope:add-document":function(e){return fn(e,"add")},"scope:remove-document":function(e){return fn(e,"remove")},"interactable:unset":function(e,t){for(var r=e.interactable,n=t.interactions.list.length-1;n>=0;n--){var i=t.interactions.list[n];i.interactable===r&&(i.stop(),t.fire("interactions:destroy",{interaction:i}),i.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(n,1))}}},onDocSignal:fn,doOnInteractions:Tr,methodNames:dn};Ot.default=co;var Ze={};function Or(e){return(Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hn(e,t,r){return(hn=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(n,i,o){var l=function(s,u){for(;!Object.prototype.hasOwnProperty.call(s,u)&&(s=Re(s))!==null;);return s}(n,i);if(l){var a=Object.getOwnPropertyDescriptor(l,i);return a.get?a.get.call(o):a.value}})(e,t,r||e)}function Mr(e,t){return(Mr=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r})(e,t)}function po(e,t){return!t||Or(t)!=="object"&&typeof t!="function"?function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ar(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cr(e,t,r){return t&&Ar(e.prototype,t),r&&Ar(e,r),e}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.initScope=Dr,Ze.Scope=void 0;var fo=function(){function e(){var t=this;kr(this,e),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=Q.default,this.defaults=(0,Ee.default)(Ye.defaults),this.Eventable=$e.Eventable,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(0,un.createInteractStatic)(this),this.InteractEvent=qe.InteractEvent,this.Interactable=void 0,this.interactables=new St.InteractableSet(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(n){return t.removeDocument(n.target)};var r=this;this.Interactable=function(n){(function(s,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(u&&u.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),u&&Mr(s,u)})(a,n);var i,o,l=(i=a,o=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}(),function(){var s,u=Re(i);if(o){var p=Re(this).constructor;s=Reflect.construct(u,arguments,p)}else s=u.apply(this,arguments);return po(this,s)});function a(){return kr(this,a),l.apply(this,arguments)}return Cr(a,[{key:"_defaults",get:function(){return r.defaults}},{key:"set",value:function(s){return hn(Re(a.prototype),"set",this).call(this,s),r.fire("interactable:set",{options:s,interactable:this}),this}},{key:"unset",value:function(){hn(Re(a.prototype),"unset",this).call(this),r.interactables.list.splice(r.interactables.list.indexOf(this),1),r.fire("interactable:unset",{interactable:this})}}]),a}(Et.Interactable)}return Cr(e,[{key:"addListeners",value:function(t,r){this.listenerMaps.push({id:r,map:t})}},{key:"fire",value:function(t,r){for(var n=0;n<this.listenerMaps.length;n++){var i=this.listenerMaps[n].map[t];if(i&&i(r,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:Dr(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,r){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,r),t.listeners&&t.before){for(var n=0,i=this.listenerMaps.length,o=t.before.reduce(function(a,s){return a[s]=!0,a[Ir(s)]=!0,a},{});n<i;n++){var l=this.listenerMaps[n].id;if(o[l]||o[Ir(l)])break}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,r){if(this.getDocIndex(t)!==-1)return!1;var n=c.getWindow(t);r=r?(0,M.default)({},r):{},this.documents.push({doc:t,options:r}),this.events.documents.push(t),t!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:n,scope:this,options:r})}},{key:"removeDocument",value:function(t){var r=this.getDocIndex(t),n=c.getWindow(t),i=this.documents[r].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(r,1),this.events.documents.splice(r,1),this.fire("scope:remove-document",{doc:t,window:n,scope:this,options:i})}},{key:"getDocIndex",value:function(t){for(var r=0;r<this.documents.length;r++)if(this.documents[r].doc===t)return r;return-1}},{key:"getDocOptions",value:function(t){var r=this.getDocIndex(t);return r===-1?null:this.documents[r].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function Dr(e,t){return e.isInitialized=!0,f.default.window(t)&&c.init(t),H.default.init(t),Q.default.init(t),le.default.init(t),e.window=t,e.document=t.document,e.usePlugin(Ot.default),e.usePlugin(Pt.default),e}function Ir(e){return e&&e.replace(/\/.*$/,"")}Ze.Scope=fo;var Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.default=void 0;var jr=new Ze.Scope,ho=jr.interactStatic;Z.default=ho;var vo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:void 0;jr.init(vo);var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.default=void 0,Mt.default=function(){};var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.default=void 0,kt.default=function(){};var At={};function Rr(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(r)){var i=[],o=!0,l=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(o=(s=u.next()).done)&&(i.push(s.value),!n||i.length!==n);o=!0);}catch(p){l=!0,a=p}finally{try{o||u.return==null||u.return()}finally{if(l)throw a}}return i}}(e,t)||function(r,n){if(r){if(typeof r=="string")return zr(r,n);var i=Object.prototype.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?zr(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(At,"__esModule",{value:!0}),At.default=void 0,At.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(n){var i=Rr(n,2),o=i[0],l=i[1];return o in e||l in e}),r=function(n,i){for(var o=e.range,l=e.limits,a=l===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:l,s=e.offset,u=s===void 0?{x:0,y:0}:s,p={range:o,grid:e,x:null,y:null},h=0;h<t.length;h++){var m=Rr(t[h],2),y=m[0],g=m[1],E=Math.round((n-u.x)/e[y]),S=Math.round((i-u.y)/e[g]);p[y]=Math.max(a.left,Math.min(a.right,E*e[y]+u.x)),p[g]=Math.max(a.top,Math.min(a.bottom,S*e[g]+u.y))}return p};return r.grid=e,r.coordFields=t,r};var Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Object.defineProperty(Je,"edgeTarget",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(Je,"elements",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(Je,"grid",{enumerable:!0,get:function(){return At.default}});var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=void 0;var go={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,M.default)(t.snappers||{},Je),t.createSnapGrid=t.snappers.grid}};Ct.default=go;var ze={};function Hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hr(Object(r),!0).forEach(function(n){mo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(ze,"__esModule",{value:!0}),ze.aspectRatio=ze.default=void 0;var Lr={start:function(e){if(!e.state.options.enabled)return!1;var t=e.state,r=e.rect,n=e.edges,i=e.pageCoords,o=t.options.ratio,l=t.options,a=l.equalDelta,s=l.modifiers;o==="preserve"&&(o=r.width/r.height),t.startCoords=(0,M.default)({},i),t.startRect=(0,M.default)({},r),t.ratio=o,t.equalDelta=a;var u=t.linkedEdges={top:n.top||n.left&&!n.bottom,left:n.left||n.top&&!n.right,bottom:n.bottom||n.right&&!n.top,right:n.right||n.bottom&&!n.left};if(t.xIsPrimaryAxis=!(!n.left&&!n.right),t.equalDelta)t.edgeSign=(u.left?1:-1)*(u.top?1:-1);else{var p=t.xIsPrimaryAxis?u.top:u.left;t.edgeSign=p?-1:1}if((0,M.default)(e.edges,u),s&&s.length){var h=new Se.default(e.interaction);h.copyFrom(e.interaction.modification),h.prepareStates(s),t.subModification=h,h.startAll(vn({},e))}},set:function(e){if(e.state.options.enabled===!1)return!1;var t=e.state,r=e.rect,n=e.coords,i=(0,M.default)({},n),o=t.equalDelta?yo:bo;if(o(t,t.xIsPrimaryAxis,n,r),!t.subModification)return null;var l=(0,M.default)({},r);(0,N.addEdges)(t.linkedEdges,l,{x:n.x-i.x,y:n.y-i.y});var a=t.subModification.setAll(vn(vn({},e),{},{rect:l,edges:t.linkedEdges,pageCoords:n,prevCoords:n,prevRect:l})),s=a.delta;return a.changed&&(o(t,Math.abs(s.x)>Math.abs(s.y),a.coords,a.rect),(0,M.default)(n,a.coords)),a.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function yo(e,t,r){var n=e.startCoords,i=e.edgeSign;t?r.y=n.y+(r.x-n.x)*i:r.x=n.x+(r.y-n.y)*i}function bo(e,t,r,n){var i=e.startRect,o=e.startCoords,l=e.ratio,a=e.edgeSign;if(t){var s=n.width/l;r.y=o.y+(s-i.height)*a}else{var u=n.height*l;r.x=o.x+(u-i.width)*a}}ze.aspectRatio=Lr;var wo=(0,K.makeModifier)(Lr,"aspectRatio");ze.default=wo;var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0;var Fr=function(){};Fr._defaults={};var xo=Fr;Te.default=xo;var gn={};Object.defineProperty(gn,"__esModule",{value:!0}),Object.defineProperty(gn,"default",{enumerable:!0,get:function(){return Te.default}});var ee={};function mn(e,t,r){return f.default.func(e)?N.resolveRectLike(e,t.interactable,t.element,[r.x,r.y,t]):N.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(ee,"__esModule",{value:!0}),ee.getRestrictionRect=mn,ee.restrict=ee.default=void 0;var Wr={start:function(e){var t=e.rect,r=e.startOffset,n=e.state,i=e.interaction,o=e.pageCoords,l=n.options,a=l.elementRect,s=(0,M.default)({left:0,top:0,right:0,bottom:0},l.offset||{});if(t&&a){var u=mn(l.restriction,i,o);if(u){var p=u.right-u.left-t.width,h=u.bottom-u.top-t.height;p<0&&(s.left+=p,s.right+=p),h<0&&(s.top+=h,s.bottom+=h)}s.left+=r.left-t.width*a.left,s.top+=r.top-t.height*a.top,s.right+=r.right-t.width*(1-a.right),s.bottom+=r.bottom-t.height*(1-a.bottom)}n.offset=s},set:function(e){var t=e.coords,r=e.interaction,n=e.state,i=n.options,o=n.offset,l=mn(i.restriction,r,t);if(l){var a=N.xywhToTlbr(l);t.x=Math.max(Math.min(a.right-o.right,t.x),a.left+o.left),t.y=Math.max(Math.min(a.bottom-o.bottom,t.y),a.top+o.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};ee.restrict=Wr;var Eo=(0,K.makeModifier)(Wr,"restrict");ee.default=Eo;var ue={};Object.defineProperty(ue,"__esModule",{value:!0}),ue.restrictEdges=ue.default=void 0;var Vr={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Nr={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Br(e,t){for(var r=["top","left","bottom","right"],n=0;n<r.length;n++){var i=r[n];i in e||(e[i]=t[i])}return e}var Xr={noInner:Vr,noOuter:Nr,start:function(e){var t,r=e.interaction,n=e.startOffset,i=e.state,o=i.options;if(o){var l=(0,ee.getRestrictionRect)(o.offset,r,r.coords.start.page);t=N.rectToXY(l)}t=t||{x:0,y:0},i.offset={top:t.y+n.top,left:t.x+n.left,bottom:t.y-n.bottom,right:t.x-n.right}},set:function(e){var t=e.coords,r=e.edges,n=e.interaction,i=e.state,o=i.offset,l=i.options;if(r){var a=(0,M.default)({},t),s=(0,ee.getRestrictionRect)(l.inner,n,a)||{},u=(0,ee.getRestrictionRect)(l.outer,n,a)||{};Br(s,Vr),Br(u,Nr),r.top?t.y=Math.min(Math.max(u.top+o.top,a.y),s.top+o.top):r.bottom&&(t.y=Math.max(Math.min(u.bottom+o.bottom,a.y),s.bottom+o.bottom)),r.left?t.x=Math.min(Math.max(u.left+o.left,a.x),s.left+o.left):r.right&&(t.x=Math.max(Math.min(u.right+o.right,a.x),s.right+o.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};ue.restrictEdges=Xr;var So=(0,K.makeModifier)(Xr,"restrictEdges");ue.default=So;var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.restrictRect=He.default=void 0;var Po=(0,M.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},ee.restrict.defaults),Yr={start:ee.restrict.start,set:ee.restrict.set,defaults:Po};He.restrictRect=Yr;var To=(0,K.makeModifier)(Yr,"restrictRect");He.default=To;var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.restrictSize=Le.default=void 0;var _o={width:-1/0,height:-1/0},Oo={width:1/0,height:1/0},qr={start:function(e){return ue.restrictEdges.start(e)},set:function(e){var t=e.interaction,r=e.state,n=e.rect,i=e.edges,o=r.options;if(i){var l=N.tlbrToXywh((0,ee.getRestrictionRect)(o.min,t,e.coords))||_o,a=N.tlbrToXywh((0,ee.getRestrictionRect)(o.max,t,e.coords))||Oo;r.options={endOnly:o.endOnly,inner:(0,M.default)({},ue.restrictEdges.noInner),outer:(0,M.default)({},ue.restrictEdges.noOuter)},i.top?(r.options.inner.top=n.bottom-l.height,r.options.outer.top=n.bottom-a.height):i.bottom&&(r.options.inner.bottom=n.top+l.height,r.options.outer.bottom=n.top+a.height),i.left?(r.options.inner.left=n.right-l.width,r.options.outer.left=n.right-a.width):i.right&&(r.options.inner.right=n.left+l.width,r.options.outer.right=n.left+a.width),ue.restrictEdges.set(e),r.options=o}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Le.restrictSize=qr;var Mo=(0,K.makeModifier)(qr,"restrictSize");Le.default=Mo;var yn={};Object.defineProperty(yn,"__esModule",{value:!0}),Object.defineProperty(yn,"default",{enumerable:!0,get:function(){return Te.default}});var ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.snap=ye.default=void 0;var Ur={start:function(e){var t,r=e.interaction,n=e.interactable,i=e.element,o=e.rect,l=e.state,a=e.startOffset,s=l.options,u=s.offsetWithOrigin?function(m){var y=m.interaction.element;return(0,N.rectToXY)((0,N.resolveRectLike)(m.state.options.origin,null,null,[y]))||(0,we.default)(m.interactable,y,m.interaction.prepared.name)}(e):{x:0,y:0};if(s.offset==="startCoords")t={x:r.coords.start.page.x,y:r.coords.start.page.y};else{var p=(0,N.resolveRectLike)(s.offset,n,i,[r]);(t=(0,N.rectToXY)(p)||{x:0,y:0}).x+=u.x,t.y+=u.y}var h=s.relativePoints;l.offsets=o&&h&&h.length?h.map(function(m,y){return{index:y,relativePoint:m,x:a.left-o.width*m.x+t.x,y:a.top-o.height*m.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,r=e.coords,n=e.state,i=n.options,o=n.offsets,l=(0,we.default)(t.interactable,t.element,t.prepared.name),a=(0,M.default)({},r),s=[];i.offsetWithOrigin||(a.x-=l.x,a.y-=l.y);for(var u=0;u<o.length;u++)for(var p=o[u],h=a.x-p.x,m=a.y-p.y,y=0,g=i.targets.length;y<g;y++){var E,S=i.targets[y];(E=f.default.func(S)?S(h,m,t._proxy,p,y):S)&&s.push({x:(f.default.number(E.x)?E.x:h)+p.x,y:(f.default.number(E.y)?E.y:m)+p.y,range:f.default.number(E.range)?E.range:i.range,source:S,index:y,offset:p})}for(var x={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},T=0;T<s.length;T++){var D=s[T],j=D.range,L=D.x-a.x,B=D.y-a.y,R=(0,ge.default)(L,B),F=R<=j;j===1/0&&x.inRange&&x.range!==1/0&&(F=!1),x.target&&!(F?x.inRange&&j!==1/0?R/j<x.distance/x.range:j===1/0&&x.range!==1/0||R<x.distance:!x.inRange&&R<x.distance)||(x.target=D,x.distance=R,x.range=j,x.inRange=F,x.delta.x=L,x.delta.y=B)}return x.inRange&&(r.x=x.target.x,r.y=x.target.y),n.closest=x,x},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};ye.snap=Ur;var ko=(0,K.makeModifier)(Ur,"snap");ye.default=ko;var fe={};function $r(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(fe,"__esModule",{value:!0}),fe.snapSize=fe.default=void 0;var Gr={start:function(e){var t=e.state,r=e.edges,n=t.options;if(!r)return null;e.state={options:{targets:null,relativePoints:[{x:r.left?0:1,y:r.top?0:1}],offset:n.offset||"self",origin:{x:0,y:0},range:n.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],ye.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,r,n=e.interaction,i=e.state,o=e.coords,l=i.options,a=i.offsets,s={x:o.x-a[0].x,y:o.y-a[0].y};i.options=(0,M.default)({},l),i.options.targets=[];for(var u=0;u<(l.targets||[]).length;u++){var p=(l.targets||[])[u],h=void 0;if(h=f.default.func(p)?p(s.x,s.y,n):p){for(var m=0;m<i.targetFields.length;m++){var y=(t=i.targetFields[m],r=2,function(x){if(Array.isArray(x))return x}(t)||function(x,T){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(x)){var D=[],j=!0,L=!1,B=void 0;try{for(var R,F=x[Symbol.iterator]();!(j=(R=F.next()).done)&&(D.push(R.value),!T||D.length!==T);j=!0);}catch(ae){L=!0,B=ae}finally{try{j||F.return==null||F.return()}finally{if(L)throw B}}return D}}(t,r)||function(x,T){if(x){if(typeof x=="string")return $r(x,T);var D=Object.prototype.toString.call(x).slice(8,-1);return D==="Object"&&x.constructor&&(D=x.constructor.name),D==="Map"||D==="Set"?Array.from(x):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?$r(x,T):void 0}}(t,r)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),g=y[0],E=y[1];if(g in h||E in h){h.x=h[g],h.y=h[E];break}}i.options.targets.push(h)}}var S=ye.snap.set(e);return i.options=l,S},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};fe.snapSize=Gr;var Ao=(0,K.makeModifier)(Gr,"snapSize");fe.default=Ao;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.snapEdges=Fe.default=void 0;var Kr={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],fe.snapSize.start(e)):null},set:fe.snapSize.set,defaults:(0,M.default)((0,Ee.default)(fe.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Fe.snapEdges=Kr;var Co=(0,K.makeModifier)(Kr,"snapEdges");Fe.default=Co;var bn={};Object.defineProperty(bn,"__esModule",{value:!0}),Object.defineProperty(bn,"default",{enumerable:!0,get:function(){return Te.default}});var wn={};Object.defineProperty(wn,"__esModule",{value:!0}),Object.defineProperty(wn,"default",{enumerable:!0,get:function(){return Te.default}});var We={};Object.defineProperty(We,"__esModule",{value:!0}),We.default=void 0;var Do={aspectRatio:ze.default,restrictEdges:ue.default,restrict:ee.default,restrictRect:He.default,restrictSize:Le.default,snapEdges:Fe.default,snap:ye.default,snapSize:fe.default,spring:bn.default,avoid:gn.default,transform:wn.default,rubberband:yn.default};We.default=Do;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.default=void 0;var Io={id:"modifiers",install:function(e){var t=e.interactStatic;for(var r in e.usePlugin(K.default),e.usePlugin(Ct.default),t.modifiers=We.default,We.default){var n=We.default[r],i=n._defaults,o=n._methods;i._methods=o,e.defaults.perAction[r]=i}}};Dt.default=Io;var _e={};function Zr(e){return(Zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function jo(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r})(e,t)}function Ro(e,t){return!t||Zr(t)!=="object"&&typeof t!="function"?xn(e):t}function xn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.PointerEvent=_e.default=void 0;var zo=function(e){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),s&&Jr(a,s)})(l,e);var t,r,n,i,o=(n=l,i=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,s=En(n);if(i){var u=En(this).constructor;a=Reflect.construct(s,arguments,u)}else a=s.apply(this,arguments);return Ro(this,a)});function l(a,s,u,p,h,m){var y;if(function(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}(this,l),(y=o.call(this,h)).type=void 0,y.originalEvent=void 0,y.pointerId=void 0,y.pointerType=void 0,y.double=void 0,y.pageX=void 0,y.pageY=void 0,y.clientX=void 0,y.clientY=void 0,y.dt=void 0,y.eventable=void 0,O.pointerExtend(xn(y),u),u!==s&&O.pointerExtend(xn(y),s),y.timeStamp=m,y.originalEvent=u,y.type=a,y.pointerId=O.getPointerId(s),y.pointerType=O.getPointerType(s),y.target=p,y.currentTarget=null,a==="tap"){var g=h.getPointerIndex(s);y.dt=y.timeStamp-h.pointers[g].downTime;var E=y.timeStamp-h.tapTime;y.double=!!(h.prevTap&&h.prevTap.type!=="doubletap"&&h.prevTap.target===y.target&&E<500)}else a==="doubletap"&&(y.dt=s.timeStamp-h.tapTime);return y}return t=l,(r=[{key:"_subtractOrigin",value:function(a){var s=a.x,u=a.y;return this.pageX-=s,this.pageY-=u,this.clientX-=s,this.clientY-=u,this}},{key:"_addOrigin",value:function(a){var s=a.x,u=a.y;return this.pageX+=s,this.pageY+=u,this.clientX+=s,this.clientY+=u,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&jo(t.prototype,r),l}(Ae.BaseEvent);_e.PointerEvent=_e.default=zo;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var It={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=It,e.defaults.actions.pointerEvents=It.defaults,(0,M.default)(e.actions.phaselessTypes,It.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,r=e.pointerInfo;!t&&r.hold||(r.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var r=e.interaction,n=e.pointer,i=e.event,o=e.eventTarget;e.duplicate||r.pointerIsDown&&!r.pointerWasMoved||(r.pointerIsDown&&Sn(e),be({interaction:r,pointer:n,event:i,eventTarget:o,type:"move"},t))},"interactions:down":function(e,t){(function(r,n){for(var i=r.interaction,o=r.pointer,l=r.event,a=r.eventTarget,s=r.pointerIndex,u=i.pointers[s].hold,p=C.getPath(a),h={interaction:i,pointer:o,event:l,eventTarget:a,type:"hold",targets:[],path:p,node:null},m=0;m<p.length;m++){var y=p[m];h.node=y,n.fire("pointerEvents:collect-targets",h)}if(h.targets.length){for(var g=1/0,E=0;E<h.targets.length;E++){var S=h.targets[E].eventable.options.holdDuration;S<g&&(g=S)}u.duration=g,u.timeout=setTimeout(function(){be({interaction:i,eventTarget:a,pointer:o,event:l,type:"hold"},n)},g)}})(e,t),be(e,t)},"interactions:up":function(e,t){Sn(e),be(e,t),function(r,n){var i=r.interaction,o=r.pointer,l=r.event,a=r.eventTarget;i.pointerWasMoved||be({interaction:i,eventTarget:a,pointer:o,event:l,type:"tap"},n)}(e,t)},"interactions:cancel":function(e,t){Sn(e),be(e,t)}},PointerEvent:_e.PointerEvent,fire:be,collectEventTargets:Qr,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function be(e,t){var r=e.interaction,n=e.pointer,i=e.event,o=e.eventTarget,l=e.type,a=e.targets,s=a===void 0?Qr(e,t):a,u=new _e.PointerEvent(l,n,i,o,r,t.now());t.fire("pointerEvents:new",{pointerEvent:u});for(var p={interaction:r,pointer:n,event:i,eventTarget:o,targets:s,type:l,pointerEvent:u},h=0;h<s.length;h++){var m=s[h];for(var y in m.props||{})u[y]=m.props[y];var g=(0,we.default)(m.eventable,m.node);if(u._subtractOrigin(g),u.eventable=m.eventable,u.currentTarget=m.node,m.eventable.fire(u),u._addOrigin(g),u.immediatePropagationStopped||u.propagationStopped&&h+1<s.length&&s[h+1].node!==u.currentTarget)break}if(t.fire("pointerEvents:fired",p),l==="tap"){var E=u.double?be({interaction:r,pointer:n,event:i,eventTarget:o,type:"doubletap"},t):u;r.prevTap=E,r.tapTime=E.timeStamp}return u}function Qr(e,t){var r=e.interaction,n=e.pointer,i=e.event,o=e.eventTarget,l=e.type,a=r.getPointerIndex(n),s=r.pointers[a];if(l==="tap"&&(r.pointerWasMoved||!s||s.downTarget!==o))return[];for(var u=C.getPath(o),p={interaction:r,pointer:n,event:i,eventTarget:o,type:l,path:u,targets:[],node:null},h=0;h<u.length;h++){var m=u[h];p.node=m,t.fire("pointerEvents:collect-targets",p)}return l==="hold"&&(p.targets=p.targets.filter(function(y){var g;return y.eventable.options.holdDuration===((g=r.pointers[a])==null?void 0:g.hold.duration)})),p.targets}function Sn(e){var t=e.interaction,r=e.pointerIndex,n=t.pointers[r].hold;n&&n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}var Ho=It;Qe.default=Ho;var jt={};function Lo(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(jt,"__esModule",{value:!0}),jt.default=void 0;var Fo={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(Qe.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=Lo,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var r=e.interaction,n=e.pointerEvent,i=e.eventTarget,o=e.targets;if(n.type==="hold"&&o.length){var l=o[0].eventable.options.holdRepeatInterval;l<=0||(r.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:r,eventTarget:i,type:"hold",pointer:n,event:n},t)},l))}}})};jt.default=Fo;var Rt={};function Wo(e){return(0,M.default)(this.events.options,e),this}Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=void 0;var Vo={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=Wo;var r=t.prototype._backCompatOption;t.prototype._backCompatOption=function(n,i){var o=r.call(this,n,i);return o===this&&(this.events.options[n]=i),o}},listeners:{"pointerEvents:collect-targets":function(e,t){var r=e.targets,n=e.node,i=e.type,o=e.eventTarget;t.interactables.forEachMatch(n,function(l){var a=l.events,s=a.options;a.types[i]&&a.types[i].length&&l.testIgnoreAllow(s,n,o)&&r.push({node:n,eventable:a,props:{interactable:l}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(r){return t.getRect(r)}},"interactable:set":function(e,t){var r=e.interactable,n=e.options;(0,M.default)(r.events.options,t.pointerEvents.defaults),(0,M.default)(r.events.options,n.pointerEvents||{})}}};Rt.default=Vo;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.default=void 0;var No={id:"pointer-events",install:function(e){e.usePlugin(Qe),e.usePlugin(jt.default),e.usePlugin(Rt.default)}};zt.default=No;var et={};function ei(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(r){return function(n,i,o){for(var l=f.default.string(n.target)?V.from(n._context.querySelectorAll(n.target)):[n.target],a=o.window.Promise,s=a?[]:null,u=function(){var h=l[p],m=n.getRect(h);if(!m)return"break";var y=V.find(o.interactions.list,function(T){return T.interacting()&&T.interactable===n&&T.element===h&&T.prepared.name===i.name}),g=void 0;if(y)y.move(),s&&(g=y._reflowPromise||new a(function(T){y._reflowResolve=T}));else{var E=(0,N.tlbrToXywh)(m),S={page:{x:E.x,y:E.y},client:{x:E.x,y:E.y},timeStamp:o.now()},x=O.coordsToEvent(S);g=function(T,D,j,L,B){var R=T.interactions.new({pointerType:"reflow"}),F={interaction:R,event:B,pointer:B,eventTarget:j,phase:"reflow"};R.interactable=D,R.element=j,R.prevEvent=B,R.updatePointer(B,B,j,!0),O.setZeroCoords(R.coords.delta),(0,re.copyAction)(R.prepared,L),R._doPhase(F);var ae=T.window.Promise,he=ae?new ae(function(Pn){R._reflowResolve=Pn}):void 0;return R._reflowPromise=he,R.start(L,D,j),R._interacting?(R.move(F),R.end(B)):(R.stop(),R._reflowResolve()),R.removePointer(B,B),he}(o,n,h,i,x)}s&&s.push(g)},p=0;p<l.length&&u()!=="break";p++);return s&&a.all(s).then(function(){return n})}(this,r,e)}}Object.defineProperty(et,"__esModule",{value:!0}),et.install=ei,et.default=void 0;var Bo={id:"reflow",install:ei,listeners:{"interactions:stop":function(e,t){var r=e.interaction;r.pointerType==="reflow"&&(r._reflowResolve&&r._reflowResolve(),V.remove(t.interactions.list,r))}}};et.default=Bo;var oe={exports:{}};function ti(e){return(ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(oe.exports,"__esModule",{value:!0}),oe.exports.default=void 0,Z.default.use(De.default),Z.default.use(Pe.default),Z.default.use(zt.default),Z.default.use(je.default),Z.default.use(Dt.default),Z.default.use(ht.default),Z.default.use(lt.default),Z.default.use(me.default),Z.default.use(et.default),Z.default.use(gt.default);var Xo=Z.default;if(oe.exports.default=Xo,ti(oe)==="object"&&oe)try{oe.exports=Z.default}catch(e){}Z.default.default=Z.default,oe=oe.exports;var Oe={exports:{}};function ni(e){return(ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}Object.defineProperty(Oe.exports,"__esModule",{value:!0}),Oe.exports.default=void 0;var Yo=oe.default;if(Oe.exports.default=Yo,ni(Oe)==="object"&&Oe)try{Oe.exports=oe.default}catch(e){}return oe.default.default=oe.default,Oe.exports})});var fi=ii((wa,di)=>{di.exports=function(c,d){d||(d=[0,""]),c=String(c);var v=parseFloat(c,10);return d[0]=v,d[1]=c.match(/[\d.\-\+]*\s*(.*)/)[1]||"",d}});Zo(exports,{default:()=>Cn,genId:()=>ia});function ve(b,c){let d=Object.keys(c).map(v=>Qo(b,v,c[v]));return d.length===1?d[0]:function(){d.forEach(v=>v())}}function Qo(b,c,d){let v=b[c],w=b.hasOwnProperty(c),f=d(v);return v&&Object.setPrototypeOf(f,v),Object.setPrototypeOf(P,f),b[c]=P,k;function P(...A){return f===v&&b[c]===P&&k(),f.apply(this,A)}function k(){b[c]===P&&(w?b[c]=v:delete b[c]),f!==v&&(f=v,Object.setPrototypeOf(P,v||Function))}}var U=tt(require("obsidian"));var Vt=tt(require("obsidian"));var Ve=tt(ai());var X=tt(require("obsidian")),si=10,_n=60,On=new WeakMap;function Lt(b){return!!J.forLeaf(b)}var J=class extends X.HoverPopover{constructor(c,d,v,w,f){super(c,d,w);this.plugin=v;this.onShowCallback=f;this.isPinned=this.plugin.settings.autoPin==="always";this.detaching=!1;this.opening=!1;this.rootSplit=new X.WorkspaceSplit(this.plugin.app.workspace,"vertical");this.oldPopover=this.parent.hoverPopover;On.set(this.hoverEl,this),this.hoverEl.addClass("hover-editor"),this.containerEl=this.hoverEl.createDiv("popover-content"),this.buildWindowControls(),this.setInitialDimensions();let P=this.pinEl=createEl("a","popover-header-icon mod-pin-popover");this.titleEl.prepend(this.pinEl),P.onclick=()=>{this.togglePin()},X.requireApiVersion&&(0,X.requireApiVersion)("0.13.27")?(0,X.setIcon)(P,"lucide-pin",17):(0,X.setIcon)(P,"pin",17),this.createResizeHandles(),this.xspeed=7,this.yspeed=7}static activePopovers(){return document.body.findAll(".hover-popover").map(c=>On.get(c)).filter(c=>c)}static forLeaf(c){return On.get(c==null?void 0:c.containerEl.matchParent(".hover-popover"))}static iteratePopoverLeaves(c,d){for(let v of this.activePopovers())if(c.iterateLeaves(d,v.rootSplit))return!0;return!1}get parentAllowsAutoFocus(){var d;let c=(d=this.plugin.app.plugins.getPlugin("calendar"))==null?void 0:d.view.constructor;return!(c&&this.parent instanceof c)}togglePin(c){var d;c===void 0&&(c=!this.isPinned),c&&((d=this.abortController)==null||d.abort()),this.hoverEl.toggleClass("is-pinned",c),this.pinEl.toggleClass("is-active",c),this.isPinned=c}getDefaultMode(){var c,d;return((d=(c=this.parent)==null?void 0:c.view)==null?void 0:d.getMode)?this.parent.view.getMode():"preview"}updateLeaves(){let c=0;this.plugin.app.workspace.iterateLeaves(d=>{c++},this.rootSplit),c===0?this.explicitHide():c>1&&this.toggleConstrainAspectRatio(!1),this.hoverEl.setAttribute("data-leaf-count",c.toString())}onload(){super.onload()}get headerHeight(){let c=this.hoverEl;return this.titleEl.getBoundingClientRect().bottom-c.getBoundingClientRect().top}toggleMinimized(c){let d=this.hoverEl,v=this.headerHeight;if(!d.hasAttribute("data-restore-height"))this.plugin.settings.rollDown&&ui(d,!1),d.setAttribute("data-restore-height",String(d.offsetHeight)),d.style.minHeight=v+"px",d.style.maxHeight=v+"px",d.toggleClass("is-minimized",!0);else{let w=d.getAttribute("data-restore-height");w&&(d.removeAttribute("data-restore-height"),d.style.height=w+"px"),d.style.removeProperty("max-height"),d.toggleClass("is-minimized",!1),this.plugin.settings.rollDown&&ui(d,!0)}this.interact.reflow({name:"drag",axis:"xy"})}attachLeaf(){this.rootSplit.getRoot=()=>this.plugin.app.workspace.rootSplit,this.titleEl.insertAdjacentElement("afterend",this.rootSplit.containerEl);let c=this.plugin.app.workspace.createLeafInParent(this.rootSplit,0);return this.updateLeaves(),this.registerEvent(this.plugin.app.workspace.on("layout-change",this.updateLeaves,this)),c}leaves(){let c=[];return this.plugin.app.workspace.iterateLeaves(d=>{c.push(d)},this.rootSplit),c}setInitialDimensions(){this.hoverEl.style.height=this.plugin.settings.initialHeight,this.hoverEl.style.width=this.plugin.settings.initialWidth}toggleViewHeader(c){var w;c===void 0&&(c=!this.hoverEl.hasClass("show-navbar")),(w=this.hideNavBarEl)==null||w.toggleClass("is-active",c),this.hoverEl.toggleClass("show-navbar",c);let d=this.hoverEl.querySelector(".view-header");if(!d)return;let v=parseFloat(getComputedStyle(d).getPropertyValue("--he-view-header-height"));this.hoverEl.style.transition="height 0.2s",c?this.hoverEl.style.height=parseFloat(this.hoverEl.style.height)+v+"px":this.hoverEl.style.height=parseFloat(this.hoverEl.style.height)-v+"px",setTimeout(()=>{this.hoverEl.style.transition=void 0},200),this.requestLeafMeasure()}buildWindowControls(){this.titleEl=createDiv("popover-titlebar");let c=this.titleEl.createDiv("popover-title"),d=this.titleEl.createDiv("popover-actions"),v=this.hideNavBarEl=d.createEl("a","popover-action mod-show-navbar");(0,X.setIcon)(v,"sidebar-open",14),v.addEventListener("click",k=>{this.toggleViewHeader()}),this.plugin.settings.showViewHeader&&this.toggleViewHeader(!0);let w=d.createEl("a","popover-action mod-minimize");(0,X.setIcon)(w,"minus"),w.addEventListener("click",k=>{li(this.hoverEl),this.toggleMinimized()});let f=d.createEl("a","popover-action mod-maximize");(0,X.setIcon)(f,"maximize",14),f.addEventListener("click",k=>{if(this.hoverEl.hasClass("snap-to-viewport")){(0,X.setIcon)(f,"maximize",14),li(this.hoverEl);return}(0,X.setIcon)(f,"minimize",14);let A=kn();ci(this.hoverEl),Wt(this.hoverEl,"viewport",A)});let P=d.createEl("a","popover-action mod-close");(0,X.setIcon)(P,"x"),P.addEventListener("click",k=>{this.explicitHide()}),this.containerEl.prepend(this.titleEl)}requestLeafMeasure(){let c=this.leaves();c.length&&setTimeout(()=>{c.forEach(d=>d.onResize())},200)}onShow(){var d,v;let{closeDelay:c}=this.plugin.settings;setTimeout(()=>this.waitTime=c,c),(d=this.oldPopover)==null||d.hide(),this.oldPopover=null,this.hoverEl.toggleClass("is-new",!0),document.body.addEventListener("click",()=>{this.hoverEl.toggleClass("is-new",!1)},{once:!0,capture:!0}),this.parent&&(this.parent.hoverPopover=this),this.togglePin(this.isPinned),(v=this.onShowCallback)==null||v.call(this),this.onShowCallback=void 0}startBounce(){this.bounce=setTimeout(()=>{this.hoverEl.style.left=parseFloat(this.hoverEl.style.left)+this.xspeed+"px",this.hoverEl.style.top=parseFloat(this.hoverEl.style.top)+this.yspeed+"px",this.checkHitBox(),this.startBounce()},20)}toggleBounce(){if(this.bounce){clearTimeout(this.bounce),this.bounce=void 0;let c=this.hoverEl.querySelector(".view-content");(c==null?void 0:c.style)&&(c.style.backgroundColor=null)}else this.startBounce()}checkHitBox(){let c=parseFloat(this.hoverEl.style.left),d=parseFloat(this.hoverEl.style.top),v=parseFloat(this.hoverEl.style.width),w=parseFloat(this.hoverEl.style.height);(c<=0||c+v>=document.body.offsetWidth)&&(this.xspeed*=-1,this.pickColor()),(d<=0||d+w>=document.body.offsetHeight)&&(this.yspeed*=-1,this.pickColor())}pickColor(){let c=Math.random()*(254-0)+0,d=Math.random()*(254-0)+0,v=Math.random()*(254-0)+0,w=this.hoverEl.querySelector(".view-content");(w==null?void 0:w.style)&&(w.style.backgroundColor="rgb("+c+","+d+", "+v+")")}transition(){super.transition(),!this.shouldShow()&&this.state===X.PopoverState.Showing&&this.explicitHide()}position(c){c&&c.x!==void 0&&(c.x=c.x+20),super.position(c),c&&setTimeout(()=>{let d=parseFloat(this.hoverEl.style.left),v=parseFloat(this.hoverEl.style.top);this.hoverEl.setAttribute("data-x",String(d)),this.hoverEl.setAttribute("data-y",String(v))},0)}onHide(){var c;this.oldPopover=null,((c=this.parent)==null?void 0:c.hoverPopover)===this&&(this.parent.hoverPopover=null)}explicitHide(){var c;(c=this.activeMenu)==null||c.hide(),this.activeMenu=null,this.onTarget=this.onHover=!1,this.isPinned=!1,this.hide()}shouldShowSelf(){return!this.detaching&&(this.onTarget||this.onHover)}calculateMinSize(){return{width:40,height:this.headerHeight}}calculateMaxSize(c,d,v){let w=v.pointerType==="reflow"?document.body.offsetWidth/1.5:document.body.offsetWidth,f=v.pointerType==="reflow"?document.body.offsetHeight/1.5:document.body.offsetHeight;return{width:w,height:f}}toggleConstrainAspectRatio(c,d){let v=this.resizeModifiers.find(w=>w.name=="aspectRatio");c===void 0&&(c=!v.options.enabled),c?(v.enable(),this.constrainAspectRatio=!0,d!==void 0&&v.options.ratio!==d&&(v.options.ratio=d)):(v.disable(),this.constrainAspectRatio=!1)}registerInteract(){var W;let c=this.plugin.app.dom.appContainerEl,d=function(_,Y,q){let{top:z,right:$,bottom:H,left:G,x:se,y:Bt,width:Q,height:te}=c.getBoundingClientRect(),Me={top:z,right:$,bottom:H,left:G,x:se,y:Bt,width:Q,height:te};return q.pointerType==="reflow"?v.dragElementRect.bottom=1:v.dragElementRect.bottom=0,v.plugin.settings.snapToEdges&&(Me.top=z-30),Me.bottom=H-v.headerHeight,Me},v=this,w=!0,f,P=parseFloat((W=this.hoverEl.dataset)==null?void 0:W.imgRatio);this.resizeModifiers=[Ve.default.modifiers.restrictEdges({outer:c}),Ve.default.modifiers.restrictSize({min:v.calculateMinSize.bind(this),max:v.calculateMaxSize.bind(this)}),Ve.default.modifiers.aspectRatio({ratio:P||"preserve",enabled:!1})],this.dragElementRect={top:0,left:1,bottom:0,right:0};let k=[Ve.default.modifiers.restrict({restriction:d,offset:{top:0,left:40,bottom:0,right:40},elementRect:this.dragElementRect,endOnly:!1})];this.constrainAspectRatio&&P!==void 0&&this.toggleConstrainAspectRatio(!0,P);let A=(0,Ve.default)(this.hoverEl).preventDefault("always").on("doubletap",this.onDoubleTap.bind(this)).draggable({modifiers:k,allowFrom:".popover-titlebar",listeners:{start(_){_.buttons&&v.togglePin(!0),_.buttons&&_.target instanceof HTMLElement&&_.target.addClass("is-dragging")},end(_){_.target instanceof HTMLElement&&_.target.removeClass("is-dragging")},move:ea.bind(v)}}).resizable({edges:{top:".top-left, .top-right, .top",left:".top-left, .bottom-left, .left",bottom:".bottom-left, .bottom-right, .bottom",right:".top-right, .bottom-right, .right"},modifiers:this.resizeModifiers,listeners:{start(_){var $;_.target.style.removeProperty("max-height");let q=($=v.hoverEl.querySelector(".view-header"))==null?void 0:$.offsetHeight;f=v.titleEl.offsetHeight+q,w=!0,_.buttons&&v.togglePin(!0)},move:function(_){var G,se;let{target:Y}=_,{x:q,y:z}=Y.dataset,$=_.rect.height,H=_.rect.width;q=q||Y.style.left,z=z||Y.style.top,q=String((parseFloat(q)||0)+((G=_.deltaRect)==null?void 0:G.left)),z=String((parseFloat(z)||0)+((se=_.deltaRect)==null?void 0:se.top)),v.constrainAspectRatio&&_.buttons!==void 0?(w&&(_.edges.top&&(_.edges.right||_.edges.left)?z=String(parseFloat(z)-f):_.edges.top?q=String(parseFloat(q)+f*P):_.edges.left&&!(_.edges.top||_.edges.bottom)&&(z=String(parseFloat(z)-f))),w=!1,(_.edges.top&&!(_.edges.right||_.edges.left)||_.edges.bottom&&!(_.edges.right||_.edges.left))&&($=$-f,H=H-f*P),$=$+f,(Y.hasClass("snap-to-left")||Y.hasClass("snap-to-right"))&&(z=String(parseFloat(Y.style.top)),q=String(parseFloat(Y.style.left)))):P&&$>document.body.offsetHeight&&($=$/1.5,H=$*P),Object.assign(Y.style,{width:`${H}px`,height:`${$}px`,top:`${z}px`,left:q==="NaN"?"unset":`${q}px`}),Object.assign(Y.dataset,{x:q,y:z})},end:function(_){if(_.buttons===void 0){let Y=parseFloat(_.target.style.height)+f;_.target.style.height=Y+"px"}_.rect.height>v.headerHeight&&_.target.removeAttribute("data-restore-height"),A.reflow({name:"drag",axis:"xy"})}}});this.interact=A}createResizeHandles(){this.hoverEl.createDiv("resize-handle bottom-left"),this.hoverEl.createDiv("resize-handle bottom-right"),this.hoverEl.createDiv("resize-handle top-left"),this.hoverEl.createDiv("resize-handle top-right"),this.hoverEl.createDiv("resize-handle right"),this.hoverEl.createDiv("resize-handle left"),this.hoverEl.createDiv("resize-handle bottom"),this.hoverEl.createDiv("resize-handle top")}onDoubleTap(c){c.target.tagName==="DIV"&&c.target.closest(".popover-titlebar")&&(c.preventDefault(),this.togglePin(!0),this.toggleMinimized())}show(){super.show(),this.hoverEl.dataset.imgHeight&&this.hoverEl.dataset.imgWidth&&(this.hoverEl.style.height=parseFloat(this.hoverEl.dataset.imgHeight)+this.titleEl.offsetHeight+"px",this.hoverEl.style.width=parseFloat(this.hoverEl.dataset.imgWidth)+"px"),this.registerInteract(),this.interact.reflow({name:"resize",edges:{right:!0,bottom:!0}}),this.interact.reflow({name:"drag",axis:"xy"})}hide(){var c,d;if(this.detaching||!(this.isPinned||this.activeMenu||this.onHover)){if(this.detaching=!0,this.timer&&(clearTimeout(this.timer),this.timer=0),this.hoverEl.hide(),this.opening)return;let v=this.leaves();if(v.length)v.forEach(w=>w.detach());else{this.parent=null,((c=this.interact)==null?void 0:c.unset)&&this.interact.unset(),(d=this.abortController)==null||d.abort(),this.abortController=null;try{this.interact=this.interact._doc=this.interact._context=this.interact.target=this.interact._scopeEvents=this.interact._win=null}catch(w){}return super.hide()}}}resolveLink(c,d){let v=(0,X.parseLinktext)(c);return v?this.plugin.app.metadataCache.getFirstLinkpathDest(v.path,d):void 0}async openLink(c,d,v,w){var Y,q;let f=this.resolveLink(c,d),P=(0,X.parseLinktext)(c);if(!f&&w){let z=this.plugin.app.fileManager.getNewFileParent(d);f=await this.plugin.app.fileManager.createNewMarkdownFile(z,P.path)}if(!f){this.displayCreateFileAction(c,d,v);return}v=Object.assign(this.buildEphemeralState(f,P),v);let k=this.getDefaultMode(),A=this.buildState(k,v),W=await this.openFile(f,A),_=(Y=W==null?void 0:W.view)==null?void 0:Y.getViewType();if(_==="image"){this.plugin.settings.autoFocus&&this.parent.hasOwnProperty("editorEl")&&this.parent.editorEl.hasClass("is-live-preview")&&(this.waitTime=3e3),this.constrainAspectRatio=!0;let z=W.view.contentEl.querySelector("img");this.hoverEl.dataset.imgHeight=String(z.naturalHeight),this.hoverEl.dataset.imgWidth=String(z.naturalWidth),this.hoverEl.dataset.imgRatio=String(z.naturalWidth/z.naturalHeight)}else _==="pdf"&&(this.hoverEl.style.height="800px",this.hoverEl.style.width="600px");((q=A.state)==null?void 0:q.mode)==="source"&&setTimeout(()=>{var z;this.detaching||(z=W.view)==null||z.setEphemeralState(A.eState)},400)}displayCreateFileAction(c,d,v){var f,P;let w=this.attachLeaf();if((f=w==null?void 0:w.view)==null?void 0:f.emptyTitleEl){(P=w.view.emptyTitleEl)==null||P.hide(),w.view.actionListEl.empty();let k=w.view.actionListEl.createEl("button","empty-state-action");k.textContent=`${c} is not yet created. Click to create.`,setTimeout(()=>{k.focus()},200),k.addEventListener("click",async()=>{this.togglePin(!0),await this.openLink(c,d,v,!0)},{once:!0})}}async openFile(c,d){var w,f,P;if(this.detaching)return;let v=this.attachLeaf();this.opening=!0;try{if(await v.openFile(c,d),this.plugin.settings.autoFocus&&!this.detaching&&this.parentAllowsAutoFocus){let k=this.onShowCallback;this.onShowCallback=()=>{this.plugin.app.workspace.setActiveLeaf(v,!1,!0),k instanceof Function&&k()},setTimeout(ve(X.Workspace.prototype,{recordMostRecentOpenedFile(W){return function(_){if(_!==c)return W.call(this,_)}}}),1);let A=this.plugin.app.plugins.plugins["recent-files-obsidian"];A&&setTimeout(ve(A,{shouldAddFile(W){return function(_){return _!==c&&W.call(this,_)}}}),1e3)}else if(!this.plugin.settings.autoFocus&&!this.detaching){let k=this.hoverEl.querySelector(".popover-title");k.textContent=(w=v.view)==null?void 0:w.getDisplayText(),k.setAttribute("data-path",(P=(f=v.view)==null?void 0:f.file)==null?void 0:P.path)}}catch(k){console.error(k)}finally{this.opening=!1,this.detaching&&this.explicitHide()}return v}buildState(c,d){return{state:{mode:this.plugin.settings.defaultMode==="match"?c:this.plugin.settings.defaultMode},eState:d}}buildEphemeralState(c,d){let v=(0,X.resolveSubpath)(this.plugin.app.metadataCache.getFileCache(c),d==null?void 0:d.subpath),w={subpath:d==null?void 0:d.subpath};return v&&(w.line=v.start.line,w.startLoc=v.start,w.endLoc=v.end||null),w}};function ea(b){let c=b.target,{x:d,y:v}=c.dataset;if(d=d||c.style.left,v=v||c.style.top,d=String((parseFloat(d)||0)+b.dx),v=String((parseFloat(v)||0)+b.dy),this.plugin.settings.snapToEdges){let w,f=b.client.x<si,P=b.client.x>document.body.offsetWidth-si,k=b.client.y<30;if((f||P||k)&&(w=kn(),ci(c)),f&&b.buttons){Wt(c,"left",w);return}else if(P&&b.buttons){Wt(c,"right",w);return}else if(k&&b.buttons){Wt(c,"viewport",w);return}else if(c.hasClass("snap-to-viewport")){if(b.client.y<_n)return;c.removeClass("snap-to-viewport"),Ft(c),Mn(b);return}else if(c.hasClass("snap-to-left")){if(b.client.y<_n)return;c.removeClass("snap-to-left"),Ft(c),Mn(b);return}else if(c.hasClass("snap-to-right")){if(b.client.y<_n)return;c.removeClass("snap-to-right"),Ft(c),Mn(b);return}}c.style.top=v?v+"px":c.style.top,c.style.left=d?d+"px":c.style.left,c.setAttribute("data-x",String(d)),c.setAttribute("data-y",String(v))}function li(b){if(b.hasClass("snap-to-viewport")){b.removeClass("snap-to-viewport"),Ft(b);return}}function ui(b,c){let d=b.querySelector(".view-content").offsetHeight;d=c?-d:d;let v=(parseFloat(b.getAttribute("data-y"))||0)+d;b.style.top=v+"px",b.setAttribute("data-y",String(v))}function ta(b){let c=b.getAttribute("data-orig-height"),d=b.getAttribute("data-orig-width"),v=parseFloat(b.getAttribute("data-orig-pos-left")),w=parseFloat(b.getAttribute("data-orig-pos-top")),f=kn().top;return w<f&&(w=f),{height:c,width:d,top:w,left:v}}function Ft(b){let{height:c,width:d,top:v,left:w}=ta(b);b.removeAttribute("data-orig-width"),b.removeAttribute("data-orig-height"),b.removeAttribute("data-orig-pos-left"),b.removeAttribute("data-orig-pos-top"),d&&(b.style.width=d+"px"),c&&(b.style.height=c+"px"),v&&(b.style.top=v+"px",b.setAttribute("data-y",String(v))),w&&(b.style.left=w+"px")}function ci(b){!b.hasAttribute("data-orig-width")&&b.setAttribute("data-orig-width",String(b.offsetWidth)),!b.hasAttribute("data-orig-height")&&b.setAttribute("data-orig-height",String(b.offsetHeight)),!b.hasAttribute("data-orig-pos-left")&&b.setAttribute("data-orig-pos-left",String(parseFloat(b.style.left))),!b.hasAttribute("data-orig-pos-top")&&b.setAttribute("data-orig-pos-top",String(parseFloat(b.style.top)))}function Mn(b){let c=b.target,d=b.client.x-b.rect.left,v=b.rect.width,w=d/v,f=c.offsetWidth,P=String(b.client.x-w*f),k=String(b.client.y);c.setAttribute("data-x",String(P)),c.setAttribute("data-y",String(k))}function kn(){let b=document.body.querySelector(".app-container"),c=document.body.querySelector(".mod-left.workspace-ribbon"),d=b.offsetTop,v=document.body.hasClass("hider-ribbon")?0:c.offsetWidth;return{top:d,left:v}}function Wt(b,c,d){b.addClass(`snap-to-${c}`),b.style.top=d.top+"px",b.style.height=`calc(100vh - ${d.top}px)`,b.style.left=c==="right"?"unset":d.left+"px",c==="viewport"&&(b.style.width=`calc(100vw - ${d.left}px)`)}function pi(b,c,d,v,w,f,P,...k){let A=d.hoverPopover;if(!(A==null?void 0:A.lockedOut)&&!(A&&A.state!==Vt.PopoverState.Hidden&&A.targetEl!==null&&A.targetEl===v)){A=d.hoverPopover=new J(d,v,b,b.settings.triggerDelay);let W=A.abortController=new AbortController,_=function(){A.lockedOut=!1},Y=function(q){q.target instanceof HTMLElement&&!q.target.closest(".hover-editor")&&(A.state=Vt.PopoverState.Hidden,A.explicitHide(),A.lockedOut=!0,setTimeout(_,1e3))};document.body.addEventListener("mousedown",Y,{capture:!0,signal:W.signal}),setTimeout(()=>{A.state!=Vt.PopoverState.Hidden&&A.openLink(w,f,P)},100)}}var ie=tt(require("obsidian")),Nt={defaultMode:"preview",autoPin:"onMove",triggerDelay:300,closeDelay:600,autoFocus:!0,rollDown:!1,snapToEdges:!1,initialHeight:"340px",initialWidth:"400px",showViewHeader:!1},na={preview:"Reading view",source:"Editing view",match:"Match current view"},ra={onMove:"On drag or resize",always:"Always"},An=class extends ie.PluginSettingTab{constructor(c,d){super(c,d);this.plugin=d}hide(){}display(){let{containerEl:c}=this;c.empty(),new ie.Setting(c).setName("Default Mode").addDropdown(d=>{d.addOptions(na),d.setValue(this.plugin.settings.defaultMode),d.onChange(async v=>{this.plugin.settings.defaultMode=v,await this.plugin.saveSettings()})}),new ie.Setting(c).setName("Auto Pin").addDropdown(d=>{d.addOptions(ra),d.setValue(this.plugin.settings.autoPin),d.onChange(async v=>{this.plugin.settings.autoPin=v,await this.plugin.saveSettings()})}),new ie.Setting(c).setName("Auto Focus").setDesc("Set the hover editor as the active pane when opened").addToggle(d=>d.setValue(this.plugin.settings.autoFocus).onChange(v=>{this.plugin.settings.autoFocus=v,this.plugin.saveSettings()})),new ie.Setting(c).setName("Minimize downwards").setDesc("When double clicking to minimize, the window will roll down instead of rolling up").addToggle(d=>d.setValue(this.plugin.settings.rollDown).onChange(v=>{this.plugin.settings.rollDown=v,this.plugin.saveSettings()})),new ie.Setting(c).setName("Snap to edges").setDesc(`Quickly arrange popovers by dragging them to the edges of the screen. The left and right edges 
        will maximize the popover vertically. The top edge will maximize the popover to fill the entire 
        screen. Dragging the popovers away from the edges will restore the popver to its original size.`).addToggle(d=>d.setValue(this.plugin.settings.snapToEdges).onChange(v=>{this.plugin.settings.snapToEdges=v,this.plugin.saveSettings()})),new ie.Setting(c).setName("Show view header by default").setDesc(`Show the view header by default when triggering a hover editor.
         When disabled, view headers will only show if you click the view header icon to the left of the minimize button.`).addToggle(d=>d.setValue(this.plugin.settings.showViewHeader).onChange(v=>{this.plugin.settings.showViewHeader=v,this.plugin.saveSettings()})),new ie.Setting(c).setName("Initial popover width").setDesc("Enter any valid CSS unit").addText(d=>{d.setPlaceholder(this.plugin.settings.initialWidth),d.inputEl.type="text",d.setValue(this.plugin.settings.initialWidth),d.onChange(async v=>{v=hi(v),v||(v=Nt.initialWidth),this.plugin.settings.initialWidth=v,this.plugin.saveSettings()})}),new ie.Setting(c).setName("Initial popover height").setDesc("Enter any valid CSS unit").addText(d=>{d.setPlaceholder(String(this.plugin.settings.initialHeight)),d.inputEl.type="text",d.setValue(String(this.plugin.settings.initialHeight)),d.onChange(async v=>{v=hi(v),v||(v=Nt.initialHeight),this.plugin.settings.initialHeight=v,this.plugin.saveSettings()})}),new ie.Setting(c).setName("Hover Trigger Delay (ms)").setDesc("How long to wait before showing a Hover Editor when hovering over a link").addText(d=>{d.setPlaceholder(String(this.plugin.settings.triggerDelay)),d.inputEl.type="number",d.setValue(String(this.plugin.settings.triggerDelay)),d.onChange(async v=>{this.plugin.settings.triggerDelay=Number(v),this.plugin.saveSettings()})}),new ie.Setting(c).setName("Hover Close Delay (ms)").setDesc("How long to wait before closing a Hover Editor once the mouse leaves").addText(d=>{d.setPlaceholder(String(this.plugin.settings.closeDelay)),d.inputEl.type="number",d.setValue(String(this.plugin.settings.closeDelay)),d.onChange(async v=>{this.plugin.settings.closeDelay=Number(v),this.plugin.saveSettings()})})}};function hi(b){var c=fi();let[d,v]=c(b);if(!d)return!1;if(v||(v="px"),["em","ex","ch","rem","vw","vh","vmin","vmax","%","cm","mm","in","px","pt","pc"].contains(v))return d+v}var Cn=class extends U.Plugin{constructor(){super(...arguments);this.debouncedPopoverReflow=(0,U.debounce)(()=>{J.activePopovers().forEach(c=>{c.interact.reflow({name:"drag",axis:"xy"})})},100,!0)}async onload(){this.registerActivePopoverHandler(),this.registerFileRenameHandler(),this.registerViewportResizeHandler(),this.registerContextMenuHandler(),this.registerCommands(),this.patchUnresolvedGraphNodeHover(),this.patchWorkspace(),this.patchWorkspaceLeaf(),await this.loadSettings(),this.registerSettingsTab(),this.app.workspace.onLayoutReady(()=>{this.app.internalPlugins.plugins["page-preview"]._loaded||new U.Notice("The Hover Editor plugin requires that 'Page preview' be enabled. You can enable 'Page preview' under 'Settings -> Core plugins'.",3e4),this.patchSlidingPanes(),this.patchLinkHover(),setTimeout(()=>{this.app.workspace.trigger("css-change")},2e3)})}get activePopovers(){return J.activePopovers()}patchWorkspaceLeaf(){this.register(ve(U.WorkspaceLeaf.prototype,{getRoot(c){return function(){let d=c.call(this);return d.getRoot===this.getRoot?d:d.getRoot()}},onResize(c){return function(){var d;(d=this.view)==null||d.onResize()}},setViewState(c){return async function(d,v){var f,P,k;let w=await c.call(this,d,v);try{let A=J.forLeaf(this);if(A){d.type&&A.hoverEl.setAttribute("data-active-view-type",d.type);let W=A.hoverEl.querySelector(".popover-title");W.textContent=(f=this.view)==null?void 0:f.getDisplayText(),((k=(P=this.view)==null?void 0:P.file)==null?void 0:k.path)?W.setAttribute("data-path",this.view.file.path):W.removeAttribute("data-path")}}catch(A){}return w}},setEphemeralState(c){return function(d){var v;c.call(this,d),d.focus&&((v=this.view)==null?void 0:v.getViewType())==="empty"&&(this.view.contentEl.tabIndex=-1,this.view.contentEl.focus())}}}))}patchWorkspace(){let c=ve(U.Workspace.prototype,{recordHistory(d){return function(v,w,...f){var k;if(!(!((k=this.app.plugins.plugins["pane-relief"])==null?void 0:k._loaded)&&Lt(v)))return d.call(this,v,w,...f)}},iterateAllLeaves(d){return function(v){this.iterateRootLeaves(v),this.iterateLeaves(v,this.leftSplit),this.iterateLeaves(v,this.rightSplit)}},iterateRootLeaves(d){return function(v){return d.call(this,v)||J.iteratePopoverLeaves(this,v)}},getDropLocation(d){return function(w){for(let f of J.activePopovers()){let P=this.recursiveGetTarget(w,f.rootSplit);if(P)return{target:P,sidedock:!1}}return d.call(this,w)}},onDragLeaf(d){return function(v,w){let f=J.forLeaf(w);return f==null||f.togglePin(!0),d.call(this,v,w)}}});this.register(c)}patchSlidingPanes(){var d;let c=(d=this.app.plugins.plugins["sliding-panes-obsidian"])==null?void 0:d.constructor;if(c){let v=ve(c.prototype,{handleFileOpen(w){return function(...f){if(!Lt(this.app.workspace.activeLeaf))return w.call(this,...f)}},focusActiveLeaf(w){return function(...f){if(!Lt(this.app.workspace.activeLeaf))return w.call(this,...f)}}});this.register(v)}}patchLinkHover(){let c=this,d=this.app.internalPlugins.plugins["page-preview"].instance.constructor,v=ve(d.prototype,{onLinkHover(w){return function(f,P,k,A,W,..._){pi(c,w,f,P,k,A,W,..._)}}});this.register(v),this.app.internalPlugins.plugins["page-preview"].disable(),this.app.internalPlugins.plugins["page-preview"].enable(),c.register(function(){c.app.internalPlugins.plugins["page-preview"].disable(),c.app.internalPlugins.plugins["page-preview"].enable()})}registerContextMenuHandler(){this.registerEvent(this.app.workspace.on("file-menu",(c,d,v,w)=>{let f=J.forLeaf(w);v==="pane-more-options"&&f&&(f.activeMenu=c,c.hideCallback=function(){setTimeout(()=>{(f==null?void 0:f.activeMenu)===c&&(f.activeMenu=null)},1e3)}),d instanceof U.TFile&&!f&&c.addItem(P=>{P.setIcon("popup-open").setTitle("Open in new popover").onClick(()=>{let k=this.spawnPopover();w||k.openFile(d),(w==null?void 0:w.getViewState)&&k.setViewState(w.getViewState())})})}))}registerActivePopoverHandler(){this.registerEvent(this.app.workspace.on("active-leaf-change",c=>{var v,w,f,P,k;(v=document.querySelector("body > .popover.hover-popover.is-active"))==null||v.removeClass("is-active");let d=J.forLeaf(c);if(d){d.hoverEl.addClass("is-active");let A=d.hoverEl.querySelector(".popover-title");A.textContent=(w=c.view)==null?void 0:w.getDisplayText(),((f=c.view)==null?void 0:f.getViewType())&&d.hoverEl.setAttribute("data-active-view-type",c.view.getViewType()),((k=(P=c.view)==null?void 0:P.file)==null?void 0:k.path)?A.setAttribute("data-path",c.view.file.path):A.removeAttribute("data-path")}}))}registerFileRenameHandler(){this.app.vault.on("rename",(c,d)=>{J.iteratePopoverLeaves(this.app.workspace,v=>{var w,f;if(c===((w=v==null?void 0:v.view)==null?void 0:w.file)&&c instanceof U.TFile){let P=J.forLeaf(v);if(P==null?void 0:P.hoverEl){let k=P.hoverEl.querySelector(".popover-title"),A=k.getAttribute("data-path");d===A&&(k.textContent=(f=v.view)==null?void 0:f.getDisplayText(),k.setAttribute("data-path",c.path))}}})})}registerViewportResizeHandler(){window.addEventListener("resize",this.debouncedPopoverReflow),this.register(()=>{window.removeEventListener("resize",this.debouncedPopoverReflow)})}patchUnresolvedGraphNodeHover(){var f,P;let c=new U.WorkspaceLeaf(this.app),d=this.app.internalPlugins.plugins.graph.views.localgraph(c),v=d.engine.constructor;c.detach(),(P=(f=d.renderer)==null?void 0:f.worker)==null||P.terminate();let w=ve(v.prototype,{onNodeHover(k){return function(A,W,_,...Y){if(_==="unresolved"){if(this.onNodeUnhover(),A instanceof MouseEvent){if(this.hoverPopover&&this.hoverPopover.state!==U.PopoverState.Hidden&&this.lastHoverLink===W)return this.hoverPopover.onTarget=!0,void this.hoverPopover.transition();this.lastHoverLink=W,this.app.workspace.trigger("hover-link",{event:A,source:"graph",hoverParent:this,targetEl:null,linktext:W})}}else return k.call(this,A,W,_,...Y)}}});this.register(w),c.detach()}onunload(){J.activePopovers().forEach(c=>c.explicitHide())}async loadSettings(){this.settings=Object.assign({},Nt,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}registerCommands(){this.addCommand({id:"bounce-popovers",name:"Toggle bouncing popovers",callback:()=>{this.activePopovers.forEach(c=>{c.toggleBounce()})}}),this.addCommand({id:"open-new-popover",name:"Open new popover",callback:()=>{let c=this.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(c,!1,!0))}}),this.addCommand({id:"open-link-in-new-popover",name:"Open link under cursor in new popover",checkCallback:c=>{let d=this.app.workspace.getActiveViewOfType(U.MarkdownView);if(d){if(!c){let v=d.editor.getClickableTokenAt(d.editor.getCursor());if((v==null?void 0:v.type)==="internal-link"){let w=this.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(w,!1,!0));w.openLinkText(v.text,d.file.path)}}return!0}return!1}}),this.addCommand({id:"open-current-file-in-new-popover",name:"Open current file in new popover",checkCallback:c=>{let d=this.app.workspace.getActiveViewOfType(U.MarkdownView);if(d){if(!c){let v=this.spawnPopover(void 0,()=>this.app.workspace.setActiveLeaf(v,!1,!0));v.openFile(d.file)}return!0}return!1}})}spawnPopover(c,d){let v=this.app.workspace.activeLeaf;c||(c=v.containerEl);let w=new J(v,c,this,void 0,d);return w.togglePin(!0),w.attachLeaf()}registerSettingsTab(){this.settingsTab=new An(this.app,this),this.addSettingTab(this.settingsTab)}};function ia(b){for(var c=[],d=0;d<b;d++)c.push((16*Math.random()|0).toString(16));return c.join("")}

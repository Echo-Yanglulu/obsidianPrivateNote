/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  DEFAULT_SETTINGS: () => DEFAULT_SETTINGS,
  default: () => EasytoggleSidebar2
});
module.exports = __toCommonJS(main_exports);
var import_obsidian2 = require("obsidian");

// src/settings.ts
var import_obsidian = require("obsidian");
var ETSSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Easy Toggle Sidebar" });
    const content = `<br>With RightMouseButton or MiddleMouseButton :<br>
		<ul>
            <li>double click to toggle both sidebars </li>
			<li>click and move toward the sideBar you want to toggle</li>
            <li>you can do previous operations from the ribbon bar using double clic and vertical moves (up/down). this is useful when in canvas</li>
            <li>autoHide to automatically hide sidebars when clicking on the editor</li>
            <li>ribbon bar autoHide button switcher</li>
            <li>hide sidebars under a minimal editor WIDTH</li>
		</ul>
		Command "toggle both sidebars" added.	
        <br><br>`;
    containerEl.createDiv("", (el) => {
      el.innerHTML = content;
    });
    new import_obsidian.Setting(containerEl).setName("Right Mouse").setDesc("Activates Right Mouse to trigger operations").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.useRightMouse).onChange((value) => {
        this.plugin.settings.useRightMouse = value;
        this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Middle Mouse").setDesc("Activates Right Mouse to trigger operations").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.useMiddleMouse).onChange(async (value) => {
        this.plugin.settings.useMiddleMouse = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Horizontal Move threshold(px)").setDesc("the most used").addSlider((slider) => {
      slider.setLimits(50, 500, 10).setValue(this.plugin.settings.moveThresholdHor).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.moveThresholdHor = value;
        await this.plugin.saveSettings();
      });
    }).addExtraButton((btn) => {
      btn.setIcon("reset").setTooltip("Reset to default").onClick(async () => {
        this.plugin.settings.moveThresholdHor = DEFAULT_SETTINGS.moveThresholdHor;
        await this.plugin.saveSettings();
        this.display();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Vertical Move threshold(px)").setDesc("could be used in ribbon bar, when using canvas").addSlider((slider) => {
      slider.setLimits(50, 500, 10).setValue(this.plugin.settings.moveThresholdVert).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.moveThresholdVert = value;
        await this.plugin.saveSettings();
      });
    }).addExtraButton((btn) => {
      btn.setIcon("reset").setTooltip("Reset to default").onClick(async () => {
        this.plugin.settings.moveThresholdVert = DEFAULT_SETTINGS.moveThresholdVert;
        await this.plugin.saveSettings();
        this.display();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Auto hide").setDesc(
      "Auto hide panels when clicking on the editor. Add a Ribbon icon to switch autoHide"
    ).addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.autoHideRibbon).onChange(async (value) => {
        var _a;
        this.plugin.settings.autoHideRibbon = value;
        if (this.plugin.settings.autoHideRibbon) {
          this.plugin.settings.autoHide = true;
          this.plugin.toggleAutoHideEvent();
          this.plugin.toggleColor();
          this.plugin.autoHideON();
        } else {
          (_a = this.plugin.ribbonIconEl) == null ? void 0 : _a.remove();
          this.plugin.ribbonIconEl = null;
          this.plugin.settings.autoHide = false;
          this.plugin.toggleAutoHideEvent();
          this.plugin.toggleColor();
        }
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Minimal editor width").setDesc(
      "Hide panel(s) if the proportion of the editor is less than X (threshold below) times the window size"
    ).addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.autoMinRootWidth).onChange(async (value) => {
        this.plugin.settings.autoMinRootWidth = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Set editor min width").setDesc("min width triggering auto reduce/close sidebars").addSlider((slider) => {
      slider.setLimits(200, 800, 10).setValue(this.plugin.settings.minRootWidth).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.minRootWidth = value;
        await this.plugin.saveSettings();
      });
    }).addExtraButton((btn) => {
      btn.setIcon("reset").setTooltip("Reset to default").onClick(async () => {
        this.plugin.settings.minRootWidth = DEFAULT_SETTINGS.minRootWidth;
        await this.plugin.saveSettings();
        this.display();
      });
    });
    new import_obsidian.Setting(containerEl).setName("double click delay(ms)").setDesc("max delay to trigger a double click").addSlider((slider) => {
      slider.setLimits(200, 600, 10).setValue(this.plugin.settings.dblClickDelay).setDynamicTooltip().onChange(async (value) => {
        this.plugin.settings.dblClickDelay = value;
        await this.plugin.saveSettings();
      });
    }).addExtraButton((btn) => {
      btn.setIcon("reset").setTooltip("Reset to default").onClick(async () => {
        this.plugin.settings.dblClickDelay = DEFAULT_SETTINGS.dblClickDelay;
        await this.plugin.saveSettings();
        this.display();
      });
    });
  }
};

// src/main.ts
var DEFAULT_SETTINGS = {
  useRightMouse: true,
  useMiddleMouse: true,
  moveThresholdHor: 50,
  moveThresholdVert: 50,
  autoHide: true,
  autoHideRibbon: true,
  autoMinRootWidth: true,
  minRootWidth: 300,
  dblClickDelay: 450
};
var EasytoggleSidebar2 = class extends import_obsidian2.Plugin {
  constructor() {
    super(...arguments);
    this.startX = 0;
    this.startY = 0;
    this.endX = 0;
    this.endY = 0;
    this.isTracking = false;
    this.distanceX = 0;
    this.distanceY = 0;
    this.movedX = false;
    this.movedY = false;
    this.doubleClickTimer = null;
    this.mousedownHandler = (evt) => {
      if (evt.button === 0)
        return;
      this.reinitialize();
      const { settings } = this;
      const RMB = settings.useRightMouse;
      const MMB = settings.useMiddleMouse;
      if (MMB && evt.button === 1 || RMB && evt.button === 2) {
        this.startX = evt.clientX;
        this.startY = evt.clientY;
        this.isTracking = true;
        this.doubleClickTimer = setTimeout(() => {
          this.doubleClickTimer = null;
          this.removeContextMenuListener();
        }, this.settings.dblClickDelay);
      }
    };
    this.mousemoveHandler = (e) => {
      if (!this.isTracking)
        return;
      const { settings } = this;
      this.endX = e.clientX;
      this.endY = e.clientY;
      this.distanceX = Math.abs(this.endX - this.startX);
      this.distanceY = Math.abs(this.endY - this.startY);
      this.movedX = this.distanceX > settings.moveThresholdHor;
      this.movedY = this.distanceY > settings.moveThresholdVert;
      if (this.movedX || this.movedY) {
        this.addContextMenuListener();
      }
    };
    this.mouseupHandler = (evt) => {
      if (!this.isTracking)
        return;
      this.isTracking = false;
      const { settings } = this;
      const RMB = settings.useRightMouse;
      const MMB = settings.useMiddleMouse;
      if ((MMB && evt.button === 1 || RMB && evt.button === 2) && evt.detail === 1) {
        if (this.distanceX > settings.moveThresholdHor && this.endX < this.startX || this.distanceY > settings.moveThresholdVert && this.endY < this.startY) {
          this.toggle(this.getLeftSplit(), 2);
        } else if (this.distanceX > settings.moveThresholdHor && this.endX > this.startX || settings.moveThresholdVert && this.endY > this.startY) {
          this.toggle(this.getRightSplit(), 2);
          this.removeContextMenuListener();
        }
      }
      if ((MMB && evt.button === 1 || RMB && evt.button === 2) && evt.detail === 2 && this.doubleClickTimer) {
        this.addContextMenuListener();
        this.toggleBothSidebars();
        this.removeContextMenuListener();
      }
    };
    this.autoHideON = () => {
      const { settings } = this;
      this.ribbonIconEl = this.addRibbonIcon(
        "move-horizontal",
        "autoHide switcher",
        async () => {
          settings.autoHide = !settings.autoHide;
          await this.saveSettings();
          this.toggleAutoHideEvent();
          this.toggleColor();
          new import_obsidian2.Notice(
            settings.autoHide ? "AutoHide Enabled" : "AutoHide Disabled",
            2e3
          );
        }
      );
      this.toggleColor();
    };
    this.toggleAutoHideEvent = () => {
      if (this.settings.autoHide) {
        this.registerDomEvent(document, "click", this.autoHide);
      } else {
        document.removeEventListener("click", this.autoHide);
      }
    };
    this.autoHide = (evt) => {
      const rootSplitEl = this.getRootSplit().containerEl;
      const clickedElement = evt.target;
      const isBody = clickedElement.classList.contains("cm-content");
      const isLine = clickedElement.classList.contains("cm-line");
      const isLink = clickedElement.classList.contains("cm-underline");
      const isRoot = rootSplitEl.contains(clickedElement);
      if (!isRoot)
        return;
      if (isLine || isBody || isLink) {
        const leftSplit = this.getLeftSplit();
        const rightSplit = this.getRightSplit();
        if (!leftSplit.collapsed || !rightSplit.collapsed) {
          this.toggleBothSidebars();
        }
      }
    };
    this.toggleRightSidebar = (evt) => {
      const clickedElement = evt.target;
      const isRibbon = clickedElement.classList.contains("workspace-ribbon");
      if (isRibbon) {
        const leftSplit = this.getLeftSplit();
        this.toggle(leftSplit, 2);
      }
    };
  }
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new ETSSettingTab(this.app, this));
    if (this.settings.autoHideRibbon) {
      this.autoHideON();
    }
    this.app.workspace.onLayoutReady(() => {
      this.registerDomEvent(document, "mousedown", this.mousedownHandler);
      this.registerDomEvent(document, "mousemove", this.mousemoveHandler);
      this.registerDomEvent(document, "mouseup", this.mouseupHandler);
      this.registerDomEvent(
        document,
        "dblclick",
        this.toggleRightSidebar
      );
      this.addCommand({
        id: "toggle-both-sidebars",
        name: "Toggle both sidebars",
        callback: () => {
          this.toggleBothSidebars();
        }
      });
      if (this.settings.autoHide) {
        this.registerDomEvent(document, "click", this.autoHide);
      }
      this.registerEvent(
        this.app.workspace.on("resize", () => this.onResize())
      );
    });
  }
  toggleColor() {
    var _a, _b;
    this.settings.autoHide ? (_a = this.ribbonIconEl) == null ? void 0 : _a.addClass("ribbon-color") : (_b = this.ribbonIconEl) == null ? void 0 : _b.removeClass("ribbon-color");
  }
  contextmenuHandler(evt) {
    evt.preventDefault();
  }
  addContextMenuListener() {
    return window.addEventListener(
      "contextmenu",
      this.contextmenuHandler,
      true
    );
  }
  reinitialize() {
    this.startX = 0;
    this.startY = 0;
    this.endX = 0;
    this.endY = 0;
    this.isTracking = false;
    this.distanceX = 0;
    this.distanceY = 0;
    this.movedX = false;
    this.movedY = false;
  }
  removeContextMenuListener(delay = 20) {
    if (this.movedX || this.movedY || this.doubleClickTimer)
      return setTimeout(() => {
        window.removeEventListener(
          "contextmenu",
          this.contextmenuHandler,
          true
        );
        this.movedX = false;
        this.movedY = false;
        this.doubleClickTimer = null;
      }, delay);
  }
  toggleBothSidebars() {
    const isLeftOpen = this.isOpen(this.getLeftSplit());
    const isRightOpen = this.isOpen(this.getRightSplit());
    if (isLeftOpen && !isRightOpen) {
      this.toggle(this.getLeftSplit());
    } else if (isRightOpen && !isLeftOpen) {
      this.toggle(this.getRightSplit());
    } else if (isRightOpen && isLeftOpen) {
      this.toggle(this.getLeftSplit());
      this.toggle(this.getRightSplit());
    } else {
      this.toggle(this.getLeftSplit(), 1);
      this.toggle(this.getRightSplit(), 1);
    }
  }
  getLeftSplit() {
    return this.app.workspace.leftSplit;
  }
  getRightSplit() {
    return this.app.workspace.rightSplit;
  }
  getRootSplit() {
    return this.app.workspace.rootSplit;
  }
  onResize() {
    const LS = this.getLeftSplit();
    const RS = this.getRightSplit();
    const { settings } = this;
    const { minRootWidth } = settings;
    if (!settings.autoMinRootWidth || !this.isOpen(LS) && !this.isOpen(RS)) {
      return;
    }
    const editorWidth = this.getRootSplit().containerEl.clientWidth;
    if (editorWidth < minRootWidth) {
      if (LS.containerEl.clientWidth > 200) {
        LS.setSize(200);
      }
      if (RS.containerEl.clientWidth > 200) {
        RS.setSize(200);
      }
    }
    if (editorWidth < minRootWidth) {
      const updatedEditorWidth = this.getRootSplit().containerEl.clientWidth;
      if (updatedEditorWidth <= minRootWidth) {
        this.toggleBothSidebars();
      }
    }
  }
  async toggle(side, mode = 0) {
    switch (mode) {
      case 0:
        side.collapse();
        break;
      case 1:
        side.expand();
        break;
      case 2:
        if (this.isOpen(side)) {
          side.collapse();
        } else {
          side.expand();
        }
        break;
      default:
        break;
    }
  }
  isOpen(side) {
    if (side.collapsed == true)
      return false;
    else
      return true;
  }
  async loadSettings() {
    this.settings = Object.assign(
      {},
      DEFAULT_SETTINGS,
      await this.loadData()
    );
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3NldHRpbmdzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBOb3RpY2UsIFBsdWdpbiwgV29ya3NwYWNlU2lkZWRvY2sgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgRVRTU2V0dGluZ1RhYiB9IGZyb20gXCIuL3NldHRpbmdzXCI7XHJcblxyXG5pbnRlcmZhY2UgRVRTU2V0dGluZ3Mge1xyXG5cdHVzZVJpZ2h0TW91c2U6IGJvb2xlYW47XHJcblx0dXNlTWlkZGxlTW91c2U6IGJvb2xlYW47XHJcblx0bW92ZVRocmVzaG9sZEhvcjogbnVtYmVyO1xyXG5cdG1vdmVUaHJlc2hvbGRWZXJ0OiBudW1iZXI7XHJcblx0YXV0b0hpZGU6IGJvb2xlYW47XHJcblx0YXV0b0hpZGVSaWJib246IGJvb2xlYW47XHJcblx0YXV0b01pblJvb3RXaWR0aDogYm9vbGVhbjtcclxuXHRtaW5Sb290V2lkdGg6IG51bWJlcjtcclxuXHRkYmxDbGlja0RlbGF5OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBFVFNTZXR0aW5ncyA9IHtcclxuXHR1c2VSaWdodE1vdXNlOiB0cnVlLFxyXG5cdHVzZU1pZGRsZU1vdXNlOiB0cnVlLFxyXG5cdG1vdmVUaHJlc2hvbGRIb3I6IDUwLFxyXG5cdG1vdmVUaHJlc2hvbGRWZXJ0OiA1MCxcclxuXHRhdXRvSGlkZTogdHJ1ZSxcclxuXHRhdXRvSGlkZVJpYmJvbjogdHJ1ZSxcclxuXHRhdXRvTWluUm9vdFdpZHRoOiB0cnVlLFxyXG5cdG1pblJvb3RXaWR0aDogMzAwLFxyXG5cdGRibENsaWNrRGVsYXk6IDQ1MCxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVhc3l0b2dnbGVTaWRlYmFyIGV4dGVuZHMgUGx1Z2luIHtcclxuXHRzZXR0aW5nczogRVRTU2V0dGluZ3M7XHJcblx0cmliYm9uSWNvbkVsITogSFRNTEVsZW1lbnQgfCBudWxsO1xyXG5cdHByaXZhdGUgc3RhcnRYOiBudW1iZXIgPSAwO1xyXG5cdHByaXZhdGUgc3RhcnRZOiBudW1iZXIgPSAwO1xyXG5cdHByaXZhdGUgZW5kWDogbnVtYmVyID0gMDtcclxuXHRwcml2YXRlIGVuZFk6IG51bWJlciA9IDA7XHJcblx0cHJpdmF0ZSBpc1RyYWNraW5nID0gZmFsc2U7XHJcblx0cHJpdmF0ZSBkaXN0YW5jZVggPSAwO1xyXG5cdHByaXZhdGUgZGlzdGFuY2VZID0gMDtcclxuXHRwcml2YXRlIG1vdmVkWCA9IGZhbHNlO1xyXG5cdHByaXZhdGUgbW92ZWRZID0gZmFsc2U7XHJcblx0cHJpdmF0ZSBkb3VibGVDbGlja1RpbWVyOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBFVFNTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5hdXRvSGlkZVJpYmJvbikge1xyXG5cdFx0XHR0aGlzLmF1dG9IaWRlT04oKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub25MYXlvdXRSZWFkeSgoKSA9PiB7XHJcblx0XHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZWRvd25IYW5kbGVyKTtcclxuXHRcdFx0dGhpcy5yZWdpc3RlckRvbUV2ZW50KGRvY3VtZW50LCBcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlbW92ZUhhbmRsZXIpO1xyXG5cdFx0XHR0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsIFwibW91c2V1cFwiLCB0aGlzLm1vdXNldXBIYW5kbGVyKTtcclxuXHJcblx0XHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChcclxuXHRcdFx0XHRkb2N1bWVudCxcclxuXHRcdFx0XHRcImRibGNsaWNrXCIsXHJcblx0XHRcdFx0dGhpcy50b2dnbGVSaWdodFNpZGViYXJcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdHRoaXMuYWRkQ29tbWFuZCh7XHJcblx0XHRcdFx0aWQ6IFwidG9nZ2xlLWJvdGgtc2lkZWJhcnNcIixcclxuXHRcdFx0XHRuYW1lOiBcIlRvZ2dsZSBib3RoIHNpZGViYXJzXCIsXHJcblx0XHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcclxuXHRcdFx0XHRcdHRoaXMudG9nZ2xlQm90aFNpZGViYXJzKCk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAodGhpcy5zZXR0aW5ncy5hdXRvSGlkZSkge1xyXG5cdFx0XHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgXCJjbGlja1wiLCB0aGlzLmF1dG9IaWRlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHRcdCh0aGlzLmFwcCBhcyBhbnkpLndvcmtzcGFjZS5vbihcInJlc2l6ZVwiLCAoKSA9PiB0aGlzLm9uUmVzaXplKCkpXHJcblx0XHRcdCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdG1vdXNlZG93bkhhbmRsZXIgPSAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRpZiAoZXZ0LmJ1dHRvbiA9PT0gMCkgcmV0dXJuO1xyXG5cdFx0dGhpcy5yZWluaXRpYWxpemUoKTtcclxuXHRcdGNvbnN0IHsgc2V0dGluZ3MgfSA9IHRoaXM7XHJcblx0XHRjb25zdCBSTUIgPSBzZXR0aW5ncy51c2VSaWdodE1vdXNlO1xyXG5cdFx0Y29uc3QgTU1CID0gc2V0dGluZ3MudXNlTWlkZGxlTW91c2U7XHJcblx0XHRpZiAoKE1NQiAmJiBldnQuYnV0dG9uID09PSAxKSB8fCAoUk1CICYmIGV2dC5idXR0b24gPT09IDIpKSB7XHJcblx0XHRcdHRoaXMuc3RhcnRYID0gZXZ0LmNsaWVudFg7XHJcblx0XHRcdHRoaXMuc3RhcnRZID0gZXZ0LmNsaWVudFk7XHJcblx0XHRcdHRoaXMuaXNUcmFja2luZyA9IHRydWU7XHJcblx0XHRcdHRoaXMuZG91YmxlQ2xpY2tUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRcdHRoaXMuZG91YmxlQ2xpY2tUaW1lciA9IG51bGw7XHJcblx0XHRcdFx0dGhpcy5yZW1vdmVDb250ZXh0TWVudUxpc3RlbmVyKCk7XHJcblx0XHRcdH0sIHRoaXMuc2V0dGluZ3MuZGJsQ2xpY2tEZWxheSk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0bW91c2Vtb3ZlSGFuZGxlciA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRpZiAoIXRoaXMuaXNUcmFja2luZykgcmV0dXJuO1xyXG5cclxuXHRcdGNvbnN0IHsgc2V0dGluZ3MgfSA9IHRoaXM7XHJcblx0XHR0aGlzLmVuZFggPSBlLmNsaWVudFg7XHJcblx0XHR0aGlzLmVuZFkgPSBlLmNsaWVudFk7XHJcblxyXG5cdFx0dGhpcy5kaXN0YW5jZVggPSBNYXRoLmFicyh0aGlzLmVuZFggLSB0aGlzLnN0YXJ0WCk7XHJcblx0XHR0aGlzLmRpc3RhbmNlWSA9IE1hdGguYWJzKHRoaXMuZW5kWSAtIHRoaXMuc3RhcnRZKTtcclxuXHJcblx0XHR0aGlzLm1vdmVkWCA9IHRoaXMuZGlzdGFuY2VYID4gc2V0dGluZ3MubW92ZVRocmVzaG9sZEhvcjtcclxuXHRcdHRoaXMubW92ZWRZID0gdGhpcy5kaXN0YW5jZVkgPiBzZXR0aW5ncy5tb3ZlVGhyZXNob2xkVmVydDtcclxuXHJcblx0XHRpZiAodGhpcy5tb3ZlZFggfHwgdGhpcy5tb3ZlZFkpIHtcclxuXHRcdFx0dGhpcy5hZGRDb250ZXh0TWVudUxpc3RlbmVyKCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0bW91c2V1cEhhbmRsZXIgPSAoZXZ0OiBNb3VzZUV2ZW50KSA9PiB7XHJcblx0XHRpZiAoIXRoaXMuaXNUcmFja2luZykgcmV0dXJuO1xyXG5cdFx0dGhpcy5pc1RyYWNraW5nID0gZmFsc2U7IC8vdG8gc3RvcCBvcGVyYXRpb25zIG9uIG1vdXNlbW92ZUhhbmRsZXIgYW5kIHRoaXMgb25lXHJcblxyXG5cdFx0Y29uc3QgeyBzZXR0aW5ncyB9ID0gdGhpcztcclxuXHRcdGNvbnN0IFJNQiA9IHNldHRpbmdzLnVzZVJpZ2h0TW91c2U7XHJcblx0XHRjb25zdCBNTUIgPSBzZXR0aW5ncy51c2VNaWRkbGVNb3VzZTtcclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdCgoTU1CICYmIGV2dC5idXR0b24gPT09IDEpIHx8IChSTUIgJiYgZXZ0LmJ1dHRvbiA9PT0gMikpICYmXHJcblx0XHRcdGV2dC5kZXRhaWwgPT09IDFcclxuXHRcdClcclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdCh0aGlzLmRpc3RhbmNlWCA+IHNldHRpbmdzLm1vdmVUaHJlc2hvbGRIb3IgJiZcclxuXHRcdFx0XHRcdHRoaXMuZW5kWCA8IHRoaXMuc3RhcnRYKSB8fFxyXG5cdFx0XHRcdCh0aGlzLmRpc3RhbmNlWSA+IHNldHRpbmdzLm1vdmVUaHJlc2hvbGRWZXJ0ICYmXHJcblx0XHRcdFx0XHR0aGlzLmVuZFkgPCB0aGlzLnN0YXJ0WSlcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0dGhpcy50b2dnbGUodGhpcy5nZXRMZWZ0U3BsaXQoKSwgMik7XHJcblx0XHRcdH0gZWxzZSBpZiAoXHJcblx0XHRcdFx0KHRoaXMuZGlzdGFuY2VYID4gc2V0dGluZ3MubW92ZVRocmVzaG9sZEhvciAmJlxyXG5cdFx0XHRcdFx0dGhpcy5lbmRYID4gdGhpcy5zdGFydFgpIHx8XHJcblx0XHRcdFx0KHNldHRpbmdzLm1vdmVUaHJlc2hvbGRWZXJ0ICYmIHRoaXMuZW5kWSA+IHRoaXMuc3RhcnRZKVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHR0aGlzLnRvZ2dsZSh0aGlzLmdldFJpZ2h0U3BsaXQoKSwgMik7XHJcblx0XHRcdFx0dGhpcy5yZW1vdmVDb250ZXh0TWVudUxpc3RlbmVyKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRpZiAoXHJcblx0XHRcdCgoTU1CICYmIGV2dC5idXR0b24gPT09IDEpIHx8IChSTUIgJiYgZXZ0LmJ1dHRvbiA9PT0gMikpICYmXHJcblx0XHRcdGV2dC5kZXRhaWwgPT09IDIgJiZcclxuXHRcdFx0dGhpcy5kb3VibGVDbGlja1RpbWVyXHJcblx0XHQpIHtcclxuXHRcdFx0dGhpcy5hZGRDb250ZXh0TWVudUxpc3RlbmVyKCk7XHJcblx0XHRcdHRoaXMudG9nZ2xlQm90aFNpZGViYXJzKCk7XHJcblx0XHRcdHRoaXMucmVtb3ZlQ29udGV4dE1lbnVMaXN0ZW5lcigpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGF1dG9IaWRlT04gPSAoKSA9PiB7XHJcblx0XHRjb25zdCB7IHNldHRpbmdzIH0gPSB0aGlzO1xyXG5cdFx0dGhpcy5yaWJib25JY29uRWwgPSB0aGlzLmFkZFJpYmJvbkljb24oXHJcblx0XHRcdFwibW92ZS1ob3Jpem9udGFsXCIsXHJcblx0XHRcdFwiYXV0b0hpZGUgc3dpdGNoZXJcIixcclxuXHRcdFx0YXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdHNldHRpbmdzLmF1dG9IaWRlID0gIXNldHRpbmdzLmF1dG9IaWRlO1xyXG5cdFx0XHRcdGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0dGhpcy50b2dnbGVBdXRvSGlkZUV2ZW50KCk7XHJcblx0XHRcdFx0dGhpcy50b2dnbGVDb2xvcigpO1xyXG5cdFx0XHRcdG5ldyBOb3RpY2UoXHJcblx0XHRcdFx0XHRzZXR0aW5ncy5hdXRvSGlkZVxyXG5cdFx0XHRcdFx0XHQ/IFwiQXV0b0hpZGUgRW5hYmxlZFwiXHJcblx0XHRcdFx0XHRcdDogXCJBdXRvSGlkZSBEaXNhYmxlZFwiLFxyXG5cdFx0XHRcdFx0MjAwMFxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0XHR0aGlzLnRvZ2dsZUNvbG9yKCk7XHJcblx0fTtcclxuXHJcblx0dG9nZ2xlQ29sb3IoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzLmF1dG9IaWRlXHJcblx0XHRcdD8gdGhpcy5yaWJib25JY29uRWw/LmFkZENsYXNzKFwicmliYm9uLWNvbG9yXCIpXHJcblx0XHRcdDogdGhpcy5yaWJib25JY29uRWw/LnJlbW92ZUNsYXNzKFwicmliYm9uLWNvbG9yXCIpO1xyXG5cdH1cclxuXHJcblx0dG9nZ2xlQXV0b0hpZGVFdmVudCA9ICgpID0+IHtcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmF1dG9IaWRlKSB7XHJcblx0XHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgXCJjbGlja1wiLCB0aGlzLmF1dG9IaWRlKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmF1dG9IaWRlKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb250ZXh0bWVudUhhbmRsZXIoZXZ0OiBNb3VzZUV2ZW50KSB7XHJcblx0XHRldnQucHJldmVudERlZmF1bHQoKTtcclxuXHR9XHJcblxyXG5cdGFkZENvbnRleHRNZW51TGlzdGVuZXIoKSB7XHJcblx0XHRyZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXHJcblx0XHRcdFwiY29udGV4dG1lbnVcIixcclxuXHRcdFx0dGhpcy5jb250ZXh0bWVudUhhbmRsZXIsXHJcblx0XHRcdHRydWVcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRyZWluaXRpYWxpemUoKSB7XHJcblx0XHR0aGlzLnN0YXJ0WCA9IDA7XHJcblx0XHR0aGlzLnN0YXJ0WSA9IDA7XHJcblx0XHR0aGlzLmVuZFggPSAwO1xyXG5cdFx0dGhpcy5lbmRZID0gMDtcclxuXHRcdHRoaXMuaXNUcmFja2luZyA9IGZhbHNlO1xyXG5cdFx0dGhpcy5kaXN0YW5jZVggPSAwO1xyXG5cdFx0dGhpcy5kaXN0YW5jZVkgPSAwO1xyXG5cdFx0dGhpcy5tb3ZlZFggPSBmYWxzZTtcclxuXHRcdHRoaXMubW92ZWRZID0gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRyZW1vdmVDb250ZXh0TWVudUxpc3RlbmVyKGRlbGF5ID0gMjApIHtcclxuXHRcdGlmICh0aGlzLm1vdmVkWCB8fCB0aGlzLm1vdmVkWSB8fCB0aGlzLmRvdWJsZUNsaWNrVGltZXIpXHJcblx0XHRcdHJldHVybiBzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuXHRcdFx0XHRcdFwiY29udGV4dG1lbnVcIixcclxuXHRcdFx0XHRcdHRoaXMuY29udGV4dG1lbnVIYW5kbGVyLFxyXG5cdFx0XHRcdFx0dHJ1ZVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0dGhpcy5tb3ZlZFggPSBmYWxzZTtcclxuXHRcdFx0XHR0aGlzLm1vdmVkWSA9IGZhbHNlO1xyXG5cdFx0XHRcdHRoaXMuZG91YmxlQ2xpY2tUaW1lciA9IG51bGw7XHJcblx0XHRcdH0sIGRlbGF5KTtcclxuXHR9XHJcblxyXG5cdHRvZ2dsZUJvdGhTaWRlYmFycygpIHtcclxuXHRcdGNvbnN0IGlzTGVmdE9wZW4gPSB0aGlzLmlzT3Blbih0aGlzLmdldExlZnRTcGxpdCgpKTtcclxuXHRcdGNvbnN0IGlzUmlnaHRPcGVuID0gdGhpcy5pc09wZW4odGhpcy5nZXRSaWdodFNwbGl0KCkpO1xyXG5cdFx0aWYgKGlzTGVmdE9wZW4gJiYgIWlzUmlnaHRPcGVuKSB7XHJcblx0XHRcdHRoaXMudG9nZ2xlKHRoaXMuZ2V0TGVmdFNwbGl0KCkpO1xyXG5cdFx0fSBlbHNlIGlmIChpc1JpZ2h0T3BlbiAmJiAhaXNMZWZ0T3Blbikge1xyXG5cdFx0XHR0aGlzLnRvZ2dsZSh0aGlzLmdldFJpZ2h0U3BsaXQoKSk7XHJcblx0XHR9IGVsc2UgaWYgKGlzUmlnaHRPcGVuICYmIGlzTGVmdE9wZW4pIHtcclxuXHRcdFx0dGhpcy50b2dnbGUodGhpcy5nZXRMZWZ0U3BsaXQoKSk7XHJcblx0XHRcdHRoaXMudG9nZ2xlKHRoaXMuZ2V0UmlnaHRTcGxpdCgpKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMudG9nZ2xlKHRoaXMuZ2V0TGVmdFNwbGl0KCksIDEpO1xyXG5cdFx0XHR0aGlzLnRvZ2dsZSh0aGlzLmdldFJpZ2h0U3BsaXQoKSwgMSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRnZXRMZWZ0U3BsaXQoKSB7XHJcblx0XHRyZXR1cm4gKHRoaXMuYXBwIGFzIGFueSkud29ya3NwYWNlLmxlZnRTcGxpdDtcclxuXHR9XHJcblxyXG5cdGdldFJpZ2h0U3BsaXQoKSB7XHJcblx0XHRyZXR1cm4gKHRoaXMuYXBwIGFzIGFueSkud29ya3NwYWNlLnJpZ2h0U3BsaXQ7XHJcblx0fVxyXG5cclxuXHRnZXRSb290U3BsaXQoKSB7XHJcblx0XHRyZXR1cm4gKHRoaXMuYXBwIGFzIGFueSkud29ya3NwYWNlLnJvb3RTcGxpdDtcclxuXHR9XHJcblxyXG5cdG9uUmVzaXplKCkge1xyXG5cdFx0Y29uc3QgTFMgPSB0aGlzLmdldExlZnRTcGxpdCgpO1xyXG5cdFx0Y29uc3QgUlMgPSB0aGlzLmdldFJpZ2h0U3BsaXQoKTtcclxuXHRcdGNvbnN0IHsgc2V0dGluZ3MgfSA9IHRoaXM7XHJcblx0XHRjb25zdCB7IG1pblJvb3RXaWR0aCB9ID0gc2V0dGluZ3M7XHJcblxyXG5cdFx0aWYgKFxyXG5cdFx0XHQhc2V0dGluZ3MuYXV0b01pblJvb3RXaWR0aCB8fFxyXG5cdFx0XHQoIXRoaXMuaXNPcGVuKExTKSAmJiAhdGhpcy5pc09wZW4oUlMpKVxyXG5cdFx0KSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGVkaXRvcldpZHRoID0gdGhpcy5nZXRSb290U3BsaXQoKS5jb250YWluZXJFbC5jbGllbnRXaWR0aDtcclxuXHRcdGlmIChlZGl0b3JXaWR0aCA8IG1pblJvb3RXaWR0aCkge1xyXG5cdFx0XHRpZiAoTFMuY29udGFpbmVyRWwuY2xpZW50V2lkdGggPiAyMDApIHtcclxuXHRcdFx0XHRMUy5zZXRTaXplKDIwMCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKFJTLmNvbnRhaW5lckVsLmNsaWVudFdpZHRoID4gMjAwKSB7XHJcblx0XHRcdFx0UlMuc2V0U2l6ZSgyMDApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRpZiAoZWRpdG9yV2lkdGggPCBtaW5Sb290V2lkdGgpIHtcclxuXHRcdFx0Y29uc3QgdXBkYXRlZEVkaXRvcldpZHRoID1cclxuXHRcdFx0XHR0aGlzLmdldFJvb3RTcGxpdCgpLmNvbnRhaW5lckVsLmNsaWVudFdpZHRoO1xyXG5cdFx0XHRpZiAodXBkYXRlZEVkaXRvcldpZHRoIDw9IG1pblJvb3RXaWR0aCkge1xyXG5cdFx0XHRcdHRoaXMudG9nZ2xlQm90aFNpZGViYXJzKCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIHRvZ2dsZShzaWRlOiBXb3Jrc3BhY2VTaWRlZG9jaywgbW9kZTogbnVtYmVyID0gMCkge1xyXG5cdFx0c3dpdGNoIChtb2RlKSB7XHJcblx0XHRcdGNhc2UgMDogLy8gTW9kZSBjbG9zZVxyXG5cdFx0XHRcdHNpZGUuY29sbGFwc2UoKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAxOiAvLyBNb2RlIG9wZW5cclxuXHRcdFx0XHRzaWRlLmV4cGFuZCgpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlIDI6IC8vIE1vZGUgdG9nZ2xlXHJcblx0XHRcdFx0aWYgKHRoaXMuaXNPcGVuKHNpZGUpKSB7XHJcblx0XHRcdFx0XHRzaWRlLmNvbGxhcHNlKCk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHNpZGUuZXhwYW5kKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRkZWZhdWx0OlxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aXNPcGVuKHNpZGU6IFdvcmtzcGFjZVNpZGVkb2NrKSB7XHJcblx0XHRpZiAoc2lkZS5jb2xsYXBzZWQgPT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xyXG5cdFx0ZWxzZSByZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdGF1dG9IaWRlID0gKGV2dDogYW55KSA9PiB7XHJcblx0XHRjb25zdCByb290U3BsaXRFbCA9IHRoaXMuZ2V0Um9vdFNwbGl0KCkuY29udGFpbmVyRWw7XHJcblx0XHRjb25zdCBjbGlja2VkRWxlbWVudCA9IGV2dC50YXJnZXQ7XHJcblx0XHQvL1Jvb3QgYm9keSBjb250ZW50IG9ubHlcclxuXHRcdGNvbnN0IGlzQm9keSA9IGNsaWNrZWRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImNtLWNvbnRlbnRcIik7XHJcblx0XHRjb25zdCBpc0xpbmUgPSBjbGlja2VkRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJjbS1saW5lXCIpO1xyXG5cdFx0Y29uc3QgaXNMaW5rID0gY2xpY2tlZEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY20tdW5kZXJsaW5lXCIpOyAvLyBsaW5rc1xyXG5cdFx0Y29uc3QgaXNSb290ID0gcm9vdFNwbGl0RWwuY29udGFpbnMoY2xpY2tlZEVsZW1lbnQpO1xyXG5cdFx0aWYgKCFpc1Jvb3QpIHJldHVybjtcclxuXHRcdGlmIChpc0xpbmUgfHwgaXNCb2R5IHx8IGlzTGluaykge1xyXG5cdFx0XHRjb25zdCBsZWZ0U3BsaXQgPSB0aGlzLmdldExlZnRTcGxpdCgpO1xyXG5cdFx0XHRjb25zdCByaWdodFNwbGl0ID0gdGhpcy5nZXRSaWdodFNwbGl0KCk7XHJcblx0XHRcdGlmICghbGVmdFNwbGl0LmNvbGxhcHNlZCB8fCAhcmlnaHRTcGxpdC5jb2xsYXBzZWQpIHtcclxuXHRcdFx0XHR0aGlzLnRvZ2dsZUJvdGhTaWRlYmFycygpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0dG9nZ2xlUmlnaHRTaWRlYmFyID0gKGV2dDogYW55KSA9PiB7XHJcblx0XHRjb25zdCBjbGlja2VkRWxlbWVudCA9IGV2dC50YXJnZXQ7XHJcblx0XHRjb25zdCBpc1JpYmJvbiA9IGNsaWNrZWRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcIndvcmtzcGFjZS1yaWJib25cIik7XHJcblx0XHRpZiAoaXNSaWJib24pIHtcclxuXHRcdFx0Y29uc3QgbGVmdFNwbGl0ID0gdGhpcy5nZXRMZWZ0U3BsaXQoKTtcclxuXHRcdFx0dGhpcy50b2dnbGUobGVmdFNwbGl0LCAyKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihcclxuXHRcdFx0e30sXHJcblx0XHRcdERFRkFVTFRfU0VUVElOR1MsXHJcblx0XHRcdGF3YWl0IHRoaXMubG9hZERhdGEoKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcclxuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IEVhc3l0b2dnbGVTaWRlYmFyLCB7IERFRkFVTFRfU0VUVElOR1MgfSBmcm9tIFwiLi9tYWluXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRVRTU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogRWFzeXRvZ2dsZVNpZGViYXI7XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEVhc3l0b2dnbGVTaWRlYmFyKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDFcIiwgeyB0ZXh0OiBcIkVhc3kgVG9nZ2xlIFNpZGViYXJcIiB9KTtcclxuXHRcdGNvbnN0IGNvbnRlbnQgPSBgPGJyPldpdGggUmlnaHRNb3VzZUJ1dHRvbiBvciBNaWRkbGVNb3VzZUJ1dHRvbiA6PGJyPlxyXG5cdFx0PHVsPlxyXG4gICAgICAgICAgICA8bGk+ZG91YmxlIGNsaWNrIHRvIHRvZ2dsZSBib3RoIHNpZGViYXJzIDwvbGk+XHJcblx0XHRcdDxsaT5jbGljayBhbmQgbW92ZSB0b3dhcmQgdGhlIHNpZGVCYXIgeW91IHdhbnQgdG8gdG9nZ2xlPC9saT5cclxuICAgICAgICAgICAgPGxpPnlvdSBjYW4gZG8gcHJldmlvdXMgb3BlcmF0aW9ucyBmcm9tIHRoZSByaWJib24gYmFyIHVzaW5nIGRvdWJsZSBjbGljIGFuZCB2ZXJ0aWNhbCBtb3ZlcyAodXAvZG93bikuIHRoaXMgaXMgdXNlZnVsIHdoZW4gaW4gY2FudmFzPC9saT5cclxuICAgICAgICAgICAgPGxpPmF1dG9IaWRlIHRvIGF1dG9tYXRpY2FsbHkgaGlkZSBzaWRlYmFycyB3aGVuIGNsaWNraW5nIG9uIHRoZSBlZGl0b3I8L2xpPlxyXG4gICAgICAgICAgICA8bGk+cmliYm9uIGJhciBhdXRvSGlkZSBidXR0b24gc3dpdGNoZXI8L2xpPlxyXG4gICAgICAgICAgICA8bGk+aGlkZSBzaWRlYmFycyB1bmRlciBhIG1pbmltYWwgZWRpdG9yIFdJRFRIPC9saT5cclxuXHRcdDwvdWw+XHJcblx0XHRDb21tYW5kIFwidG9nZ2xlIGJvdGggc2lkZWJhcnNcIiBhZGRlZC5cdFxyXG4gICAgICAgIDxicj48YnI+YDtcclxuXHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVEaXYoXCJcIiwgKGVsOiBIVE1MRGl2RWxlbWVudCkgPT4ge1xyXG5cdFx0XHRlbC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiUmlnaHQgTW91c2VcIilcclxuXHRcdFx0LnNldERlc2MoXCJBY3RpdmF0ZXMgUmlnaHQgTW91c2UgdG8gdHJpZ2dlciBvcGVyYXRpb25zXCIpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xyXG5cdFx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVJpZ2h0TW91c2UpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVJpZ2h0TW91c2UgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiTWlkZGxlIE1vdXNlXCIpXHJcblx0XHRcdC5zZXREZXNjKFwiQWN0aXZhdGVzIFJpZ2h0IE1vdXNlIHRvIHRyaWdnZXIgb3BlcmF0aW9uc1wiKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0XHR0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VNaWRkbGVNb3VzZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlTWlkZGxlTW91c2UgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiSG9yaXpvbnRhbCBNb3ZlIHRocmVzaG9sZChweClcIilcclxuXHRcdFx0LnNldERlc2MoXCJ0aGUgbW9zdCB1c2VkXCIpXHJcblx0XHRcdC5hZGRTbGlkZXIoKHNsaWRlcikgPT4ge1xyXG5cdFx0XHRcdHNsaWRlclxyXG5cdFx0XHRcdFx0LnNldExpbWl0cyg1MCwgNTAwLCAxMClcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb3ZlVGhyZXNob2xkSG9yKVxyXG5cdFx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubW92ZVRocmVzaG9sZEhvciA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuYWRkRXh0cmFCdXR0b24oKGJ0bikgPT4ge1xyXG5cdFx0XHRcdGJ0bi5zZXRJY29uKFwicmVzZXRcIilcclxuXHRcdFx0XHRcdC5zZXRUb29sdGlwKFwiUmVzZXQgdG8gZGVmYXVsdFwiKVxyXG5cdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb3ZlVGhyZXNob2xkSG9yID1cclxuXHRcdFx0XHRcdFx0XHRERUZBVUxUX1NFVFRJTkdTLm1vdmVUaHJlc2hvbGRIb3I7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJWZXJ0aWNhbCBNb3ZlIHRocmVzaG9sZChweClcIilcclxuXHRcdFx0LnNldERlc2MoXCJjb3VsZCBiZSB1c2VkIGluIHJpYmJvbiBiYXIsIHdoZW4gdXNpbmcgY2FudmFzXCIpXHJcblx0XHRcdC5hZGRTbGlkZXIoKHNsaWRlcikgPT4ge1xyXG5cdFx0XHRcdHNsaWRlclxyXG5cdFx0XHRcdFx0LnNldExpbWl0cyg1MCwgNTAwLCAxMClcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tb3ZlVGhyZXNob2xkVmVydClcclxuXHRcdFx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1vdmVUaHJlc2hvbGRWZXJ0ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5hZGRFeHRyYUJ1dHRvbigoYnRuKSA9PiB7XHJcblx0XHRcdFx0YnRuLnNldEljb24oXCJyZXNldFwiKVxyXG5cdFx0XHRcdFx0LnNldFRvb2x0aXAoXCJSZXNldCB0byBkZWZhdWx0XCIpXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1vdmVUaHJlc2hvbGRWZXJ0ID1cclxuXHRcdFx0XHRcdFx0XHRERUZBVUxUX1NFVFRJTkdTLm1vdmVUaHJlc2hvbGRWZXJ0O1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiQXV0byBoaWRlXCIpXHJcblx0XHRcdC5zZXREZXNjKFxyXG5cdFx0XHRcdFwiQXV0byBoaWRlIHBhbmVscyB3aGVuIGNsaWNraW5nIG9uIHRoZSBlZGl0b3IuIEFkZCBhIFJpYmJvbiBpY29uIHRvIHN3aXRjaCBhdXRvSGlkZVwiXHJcblx0XHRcdClcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcblx0XHRcdFx0dG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b0hpZGVSaWJib24pXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9IaWRlUmliYm9uID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvSGlkZVJpYmJvbikge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9IaWRlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi50b2dnbGVBdXRvSGlkZUV2ZW50KCk7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4udG9nZ2xlQ29sb3IoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5hdXRvSGlkZU9OKCk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ucmliYm9uSWNvbkVsPy5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5yaWJib25JY29uRWwgPSBudWxsO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9IaWRlID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4udG9nZ2xlQXV0b0hpZGVFdmVudCgpO1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnRvZ2dsZUNvbG9yKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiTWluaW1hbCBlZGl0b3Igd2lkdGhcIilcclxuXHRcdFx0LnNldERlc2MoXHJcblx0XHRcdFx0XCJIaWRlIHBhbmVsKHMpIGlmIHRoZSBwcm9wb3J0aW9uIG9mIHRoZSBlZGl0b3IgaXMgbGVzcyB0aGFuIFggKHRocmVzaG9sZCBiZWxvdykgdGltZXMgdGhlIHdpbmRvdyBzaXplXCJcclxuXHRcdFx0KVxyXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcclxuXHRcdFx0XHR0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvTWluUm9vdFdpZHRoKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvTWluUm9vdFdpZHRoID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIlNldCBlZGl0b3IgbWluIHdpZHRoXCIpXHJcblx0XHRcdC5zZXREZXNjKFwibWluIHdpZHRoIHRyaWdnZXJpbmcgYXV0byByZWR1Y2UvY2xvc2Ugc2lkZWJhcnNcIilcclxuXHRcdFx0LmFkZFNsaWRlcigoc2xpZGVyKSA9PiB7XHJcblx0XHRcdFx0c2xpZGVyXHJcblx0XHRcdFx0XHQuc2V0TGltaXRzKDIwMCwgODAwLCAxMClcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5taW5Sb290V2lkdGgpXHJcblx0XHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5taW5Sb290V2lkdGggPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LmFkZEV4dHJhQnV0dG9uKChidG4pID0+IHtcclxuXHRcdFx0XHRidG4uc2V0SWNvbihcInJlc2V0XCIpXHJcblx0XHRcdFx0XHQuc2V0VG9vbHRpcChcIlJlc2V0IHRvIGRlZmF1bHRcIilcclxuXHRcdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWluUm9vdFdpZHRoID1cclxuXHRcdFx0XHRcdFx0XHRERUZBVUxUX1NFVFRJTkdTLm1pblJvb3RXaWR0aDtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcImRvdWJsZSBjbGljayBkZWxheShtcylcIilcclxuXHRcdFx0LnNldERlc2MoXCJtYXggZGVsYXkgdG8gdHJpZ2dlciBhIGRvdWJsZSBjbGlja1wiKVxyXG5cdFx0XHQuYWRkU2xpZGVyKChzbGlkZXIpID0+IHtcclxuXHRcdFx0XHRzbGlkZXJcclxuXHRcdFx0XHRcdC5zZXRMaW1pdHMoMjAwLCA2MDAsIDEwKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRibENsaWNrRGVsYXkpXHJcblx0XHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kYmxDbGlja0RlbGF5ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5hZGRFeHRyYUJ1dHRvbigoYnRuKSA9PiB7XHJcblx0XHRcdFx0YnRuLnNldEljb24oXCJyZXNldFwiKVxyXG5cdFx0XHRcdFx0LnNldFRvb2x0aXAoXCJSZXNldCB0byBkZWZhdWx0XCIpXHJcblx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRibENsaWNrRGVsYXkgPVxyXG5cdFx0XHRcdFx0XHRcdERFRkFVTFRfU0VUVElOR1MuZGJsQ2xpY2tEZWxheTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQSxpQkFBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUMsbUJBQWtEOzs7QUNBbEQsc0JBQStDO0FBR3hDLElBQU0sZ0JBQU4sY0FBNEIsaUNBQWlCO0FBQUEsRUFHbkQsWUFBWSxLQUFVLFFBQTJCO0FBQ2hELFVBQU0sS0FBSyxNQUFNO0FBQ2pCLFNBQUssU0FBUztBQUFBLEVBQ2Y7QUFBQSxFQUVBLFVBQWdCO0FBQ2YsVUFBTSxFQUFFLFlBQVksSUFBSTtBQUN4QixnQkFBWSxNQUFNO0FBQ2xCLGdCQUFZLFNBQVMsTUFBTSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDMUQsVUFBTSxVQUFVO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFZaEIsZ0JBQVksVUFBVSxJQUFJLENBQUMsT0FBdUI7QUFDakQsU0FBRyxZQUFZO0FBQUEsSUFDaEIsQ0FBQztB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SixhQUFLLFNBQVM7QUFDZDtBQUFBLE1BQ0QsS0FBSztBQUNKLGFBQUssT0FBTztBQUNaO0FBQUEsTUFDRCxLQUFLO0FBQ0osWUFBSSxLQUFLLE9BQU8sSUFBSSxHQUFHO0FBQ3RCLGVBQUssU0FBUztBQUFBLFFBQ2YsT0FBTztBQUNOLGVBQUssT0FBTztBQUFBLFFBQ2I7QUFDQTtBQUFBLE1BQ0Q7QUFDQztBQUFBLElBQ0Y7QUFBQSxFQUNEO0FBQUEsRUFFQSxPQUFPLE1BQXlCO0FBQy9CLFFBQUksS0FBSyxhQUFhO0FBQU0sYUFBTztBQUFBO0FBQzlCLGFBQU87QUFBQSxFQUNiO0FBQUEsRUE2QkEsTUFBTSxlQUFlO0FBQ3BCLFNBQUssV0FBVyxPQUFPO0FBQUEsTUFDdEIsQ0FBQztBQUFBLE1BQ0Q7QUFBQSxNQUNBLE1BQU0sS0FBSyxTQUFTO0FBQUEsSUFDckI7QUFBQSxFQUNEO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbEM7QUFDRDsiLAogICJuYW1lcyI6IFsiRWFzeXRvZ2dsZVNpZGViYXIiLCAiaW1wb3J0X29ic2lkaWFuIiwgIkVhc3l0b2dnbGVTaWRlYmFyIl0KfQo=

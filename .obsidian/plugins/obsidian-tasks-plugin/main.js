"use strict";/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source visit the plugins github repository
*/

/*
License obsidian-tasks:
MIT License

Copyright (c) 2021 Martin Schenck

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

/*
License rrule (included library):
rrule.js: Library for working with recurrence rules for calendar dates.
=======================================================================

Copyright 2010, Jakub Roztocil <jakub@roztocil.name> and Lars Schöning

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    1. Redistributions of source code must retain the above copyright notice,
       this list of conditions and the following disclaimer.

    2. Redistributions in binary form must reproduce the above copyright
       notice, this list of conditions and the following disclaimer in the
       documentation and/or other materials provided with the distribution.

    3. Neither the name of The author nor the names of its contributors may
       be used to endorse or promote products derived from this software
       without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE AUTHOR AND CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.



./rrule.js and ./test/tests.js is based on python-dateutil. LICENCE:

python-dateutil - Extensions to the standard Python datetime module.
====================================================================

Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>

All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright notice,
      this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright notice,
      this list of conditions and the following disclaimer in the documentation
      and/or other materials provided with the distribution.
    * Neither the name of the copyright holder nor the names of its
      contributors may be used to endorse or promote products derived from
      this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/*
License chrono-node (included library):
The MIT License

Copyright (c) 2014, Wanasit Tanakitrungruang

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

var p_=Object.create;var On=Object.defineProperty,h_=Object.defineProperties,m_=Object.getOwnPropertyDescriptor,y_=Object.getOwnPropertyDescriptors,g_=Object.getOwnPropertyNames,Yd=Object.getOwnPropertySymbols,__=Object.getPrototypeOf,jd=Object.prototype.hasOwnProperty,T_=Object.prototype.propertyIsEnumerable;var $d=(r,e,t)=>e in r?On(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ye=(r,e)=>{for(var t in e||(e={}))jd.call(e,t)&&$d(r,t,e[t]);if(Yd)for(var t of Yd(e))T_.call(e,t)&&$d(r,t,e[t]);return r},It=(r,e)=>h_(r,y_(e));var p=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),b_=(r,e)=>{for(var t in e)On(r,t,{get:e[t],enumerable:!0})},Bd=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of g_(e))!jd.call(r,i)&&i!==t&&On(r,i,{get:()=>e[i],enumerable:!(n=m_(e,i))||n.enumerable});return r};var as=(r,e,t)=>(t=r!=null?p_(__(r)):{},Bd(e||!r||!r.__esModule?On(t,"default",{value:r,enumerable:!0}):t,r)),v_=r=>Bd(On({},"__esModule",{value:!0}),r);var ne=(r,e,t)=>new Promise((n,i)=>{var s=u=>{try{o(t.next(u))}catch(l){i(l)}},a=u=>{try{o(t.throw(u))}catch(l){i(l)}},o=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,a);o((t=t.apply(r,e)).next())});var _f=p((pA,fs)=>{var Xd,Qd,Jd,ef,tf,rf,nf,sf,af,ds,Ha,of,uf,Vr,lf,cf,df,ff,pf,hf,mf,yf,gf;(function(r){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof fs=="object"&&typeof fs.exports=="object"?r(t(e,t(fs.exports))):r(t(e));function t(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(s,a){return n[s]=i?i(s,a):a}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])};Xd=function(t,n){e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)},Qd=Object.assign||function(t){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Jd=function(t,n){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)n.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(i[s[a]]=t[s[a]]);return i},ef=function(t,n,i,s){var a=arguments.length,o=a<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,n,i,s);else for(var l=t.length-1;l>=0;l--)(u=t[l])&&(o=(a<3?u(o):a>3?u(n,i,o):u(n,i))||o);return a>3&&o&&Object.defineProperty(n,i,o),o},tf=function(t,n){return function(i,s){n(i,s,t)}},rf=function(t,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,n)},nf=function(t,n,i,s){function a(o){return o instanceof i?o:new i(function(u){u(o)})}return new(i||(i=Promise))(function(o,u){function l(f){try{d(s.next(f))}catch(h){u(h)}}function c(f){try{d(s.throw(f))}catch(h){u(h)}}function d(f){f.done?o(f.value):a(f.value).then(l,c)}d((s=s.apply(t,n||[])).next())})},sf=function(t,n){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,a,o,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(f){return c([d,f])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,a&&(o=d[0]&2?a.return:d[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,d[1])).done)return o;switch(a=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return i.label++,{value:d[1],done:!1};case 5:i.label++,a=d[1],d=[0];continue;case 7:d=i.ops.pop(),i.trys.pop();continue;default:if(o=i.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){i=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){i.label=d[1];break}if(d[0]===6&&i.label<o[1]){i.label=o[1],o=d;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(d);break}o[2]&&i.ops.pop(),i.trys.pop();continue}d=n.call(t,i)}catch(f){d=[6,f],a=0}finally{s=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},gf=function(t,n,i,s){s===void 0&&(s=i),t[s]=n[i]},af=function(t,n){for(var i in t)i!=="default"&&!n.hasOwnProperty(i)&&(n[i]=t[i])},ds=function(t){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&t[n],s=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Ha=function(t,n){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var s=i.call(t),a,o=[],u;try{for(;(n===void 0||n-- >0)&&!(a=s.next()).done;)o.push(a.value)}catch(l){u={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(u)throw u.error}}return o},of=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(Ha(arguments[n]));return t},uf=function(){for(var t=0,n=0,i=arguments.length;n<i;n++)t+=arguments[n].length;for(var s=Array(t),a=0,n=0;n<i;n++)for(var o=arguments[n],u=0,l=o.length;u<l;u++,a++)s[a]=o[u];return s},Vr=function(t){return this instanceof Vr?(this.v=t,this):new Vr(t)},lf=function(t,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(t,n||[]),a,o=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(m){s[m]&&(a[m]=function(y){return new Promise(function(g,O){o.push([m,y,g,O])>1||l(m,y)})})}function l(m,y){try{c(s[m](y))}catch(g){h(o[0][3],g)}}function c(m){m.value instanceof Vr?Promise.resolve(m.value.v).then(d,f):h(o[0][2],m)}function d(m){l("next",m)}function f(m){l("throw",m)}function h(m,y){m(y),o.shift(),o.length&&l(o[0][0],o[0][1])}},cf=function(t){var n,i;return n={},s("next"),s("throw",function(a){throw a}),s("return"),n[Symbol.iterator]=function(){return this},n;function s(a,o){n[a]=t[a]?function(u){return(i=!i)?{value:Vr(t[a](u)),done:a==="return"}:o?o(u):u}:o}},df=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],i;return n?n.call(t):(t=typeof ds=="function"?ds(t):t[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(o){i[o]=t[o]&&function(u){return new Promise(function(l,c){u=t[o](u),a(l,c,u.done,u.value)})}}function a(o,u,l,c){Promise.resolve(c).then(function(d){o({value:d,done:l})},u)}},ff=function(t,n){return Object.defineProperty?Object.defineProperty(t,"raw",{value:n}):t.raw=n,t},pf=function(t){if(t&&t.__esModule)return t;var n={};if(t!=null)for(var i in t)Object.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n.default=t,n},hf=function(t){return t&&t.__esModule?t:{default:t}},mf=function(t,n){if(!n.has(t))throw new TypeError("attempted to get private field on non-instance");return n.get(t)},yf=function(t,n,i){if(!n.has(t))throw new TypeError("attempted to set private field on non-instance");return n.set(t,i),i},r("__extends",Xd),r("__assign",Qd),r("__rest",Jd),r("__decorate",ef),r("__param",tf),r("__metadata",rf),r("__awaiter",nf),r("__generator",sf),r("__exportStar",af),r("__createBinding",gf),r("__values",ds),r("__read",Ha),r("__spread",of),r("__spreadArrays",uf),r("__await",Vr),r("__asyncGenerator",lf),r("__asyncDelegator",cf),r("__asyncValues",df),r("__makeTemplateObject",ff),r("__importStar",pf),r("__importDefault",hf),r("__classPrivateFieldGet",mf),r("__classPrivateFieldSet",yf)})});var Q=p(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.matchAnyPattern=fr.extractTerms=fr.repeatedTimeunitPattern=void 0;function fT(r,e){let t=e.replace(/\((?!\?)/g,"(?:");return`${r}${t}\\s{0,5}(?:,?\\s{0,5}${t}){0,10}`}fr.repeatedTimeunitPattern=fT;function fp(r){let e;return r instanceof Array?e=[...r]:r instanceof Map?e=Array.from(r.keys()):e=Object.keys(r),e}fr.extractTerms=fp;function pT(r){return`(?:${fp(r).sort((t,n)=>n.length-t.length).join("|").replace(/\./g,"\\.")})`}fr.matchAnyPattern=pT});var K=p((so,ao)=>{(function(r,e){typeof so=="object"&&typeof ao!="undefined"?ao.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs=e()})(so,function(){"use strict";var r=1e3,e=6e4,t=36e5,n="millisecond",i="second",s="minute",a="hour",o="day",u="week",l="month",c="quarter",d="year",f="date",h="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},O=function(M,v,_){var D=String(M);return!D||D.length>=v?M:""+Array(v+1-D.length).join(_)+M},S={s:O,z:function(M){var v=-M.utcOffset(),_=Math.abs(v),D=Math.floor(_/60),b=_%60;return(v<=0?"+":"-")+O(D,2,"0")+":"+O(b,2,"0")},m:function M(v,_){if(v.date()<_.date())return-M(_,v);var D=12*(_.year()-v.year())+(_.month()-v.month()),b=v.clone().add(D,l),k=_-b<0,P=v.clone().add(D+(k?-1:1),l);return+(-(D+(_-b)/(k?b-P:P-b))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:l,y:d,w:u,d:o,D:f,h:a,m:s,s:i,ms:n,Q:c}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},N="en",z={};z[N]=g;var te=function(M){return M instanceof Ie},ue=function(M,v,_){var D;if(!M)return N;if(typeof M=="string")z[M]&&(D=M),v&&(z[M]=v,D=M);else{var b=M.name;z[b]=M,D=b}return!_&&D&&(N=D),D||!_&&N},x=function(M,v){if(te(M))return M.clone();var _=typeof v=="object"?v:{};return _.date=M,_.args=arguments,new Ie(_)},w=S;w.l=ue,w.i=te,w.w=function(M,v){return x(M,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var Ie=function(){function M(_){this.$L=ue(_.locale,null,!0),this.parse(_)}var v=M.prototype;return v.parse=function(_){this.$d=function(D){var b=D.date,k=D.utc;if(b===null)return new Date(NaN);if(w.u(b))return new Date;if(b instanceof Date)return new Date(b);if(typeof b=="string"&&!/Z$/i.test(b)){var P=b.match(m);if(P){var Y=P[2]-1||0,J=(P[7]||"0").substring(0,3);return k?new Date(Date.UTC(P[1],Y,P[3]||1,P[4]||0,P[5]||0,P[6]||0,J)):new Date(P[1],Y,P[3]||1,P[4]||0,P[5]||0,P[6]||0,J)}}return new Date(b)}(_),this.$x=_.x||{},this.init()},v.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},v.$utils=function(){return w},v.isValid=function(){return this.$d.toString()!==h},v.isSame=function(_,D){var b=x(_);return this.startOf(D)<=b&&b<=this.endOf(D)},v.isAfter=function(_,D){return x(_)<this.startOf(D)},v.isBefore=function(_,D){return this.endOf(D)<x(_)},v.$g=function(_,D,b){return w.u(_)?this[D]:this.set(b,_)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(_,D){var b=this,k=!!w.u(D)||D,P=w.p(_),Y=function(ct,Ae){var ke=w.w(b.$u?Date.UTC(b.$y,Ae,ct):new Date(b.$y,Ae,ct),b);return k?ke:ke.endOf(o)},J=function(ct,Ae){return w.w(b.toDate()[ct].apply(b.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(Ae)),b)},ae=this.$W,re=this.$M,lt=this.$D,Fe="set"+(this.$u?"UTC":"");switch(P){case d:return k?Y(1,0):Y(31,11);case l:return k?Y(1,re):Y(0,re+1);case u:var nr=this.$locale().weekStart||0,ir=(ae<nr?ae+7:ae)-nr;return Y(k?lt-ir:lt+(6-ir),re);case o:case f:return J(Fe+"Hours",0);case a:return J(Fe+"Minutes",1);case s:return J(Fe+"Seconds",2);case i:return J(Fe+"Milliseconds",3);default:return this.clone()}},v.endOf=function(_){return this.startOf(_,!1)},v.$set=function(_,D){var b,k=w.p(_),P="set"+(this.$u?"UTC":""),Y=(b={},b[o]=P+"Date",b[f]=P+"Date",b[l]=P+"Month",b[d]=P+"FullYear",b[a]=P+"Hours",b[s]=P+"Minutes",b[i]=P+"Seconds",b[n]=P+"Milliseconds",b)[k],J=k===o?this.$D+(D-this.$W):D;if(k===l||k===d){var ae=this.clone().set(f,1);ae.$d[Y](J),ae.init(),this.$d=ae.set(f,Math.min(this.$D,ae.daysInMonth())).$d}else Y&&this.$d[Y](J);return this.init(),this},v.set=function(_,D){return this.clone().$set(_,D)},v.get=function(_){return this[w.p(_)]()},v.add=function(_,D){var b,k=this;_=Number(_);var P=w.p(D),Y=function(re){var lt=x(k);return w.w(lt.date(lt.date()+Math.round(re*_)),k)};if(P===l)return this.set(l,this.$M+_);if(P===d)return this.set(d,this.$y+_);if(P===o)return Y(1);if(P===u)return Y(7);var J=(b={},b[s]=e,b[a]=t,b[i]=r,b)[P]||1,ae=this.$d.getTime()+_*J;return w.w(ae,this)},v.subtract=function(_,D){return this.add(-1*_,D)},v.format=function(_){var D=this,b=this.$locale();if(!this.isValid())return b.invalidDate||h;var k=_||"YYYY-MM-DDTHH:mm:ssZ",P=w.z(this),Y=this.$H,J=this.$m,ae=this.$M,re=b.weekdays,lt=b.months,Fe=function(Ae,ke,sr,Er){return Ae&&(Ae[ke]||Ae(D,k))||sr[ke].substr(0,Er)},nr=function(Ae){return w.s(Y%12||12,Ae,"0")},ir=b.meridiem||function(Ae,ke,sr){var Er=Ae<12?"AM":"PM";return sr?Er.toLowerCase():Er},ct={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ae+1,MM:w.s(ae+1,2,"0"),MMM:Fe(b.monthsShort,ae,lt,3),MMMM:Fe(lt,ae),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:Fe(b.weekdaysMin,this.$W,re,2),ddd:Fe(b.weekdaysShort,this.$W,re,3),dddd:re[this.$W],H:String(Y),HH:w.s(Y,2,"0"),h:nr(1),hh:nr(2),a:ir(Y,J,!0),A:ir(Y,J,!1),m:String(J),mm:w.s(J,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:P};return k.replace(y,function(Ae,ke){return ke||ct[Ae]||P.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(_,D,b){var k,P=w.p(D),Y=x(_),J=(Y.utcOffset()-this.utcOffset())*e,ae=this-Y,re=w.m(this,Y);return re=(k={},k[d]=re/12,k[l]=re,k[c]=re/3,k[u]=(ae-J)/6048e5,k[o]=(ae-J)/864e5,k[a]=ae/t,k[s]=ae/e,k[i]=ae/r,k)[P]||ae,b?re:w.a(re)},v.daysInMonth=function(){return this.endOf(l).$D},v.$locale=function(){return z[this.$L]},v.locale=function(_,D){if(!_)return this.$L;var b=this.clone(),k=ue(_,D,!0);return k&&(b.$L=k),b},v.clone=function(){return w.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},M}(),Oe=Ie.prototype;return x.prototype=Oe,[["$ms",n],["$s",i],["$m",s],["$H",a],["$W",o],["$M",l],["$y",d],["$D",f]].forEach(function(M){Oe[M[1]]=function(v){return this.$g(v,M[0],M[1])}}),x.extend=function(M,v){return M.$i||(M(v,Ie,x),M.$i=!0),x},x.locale=ue,x.isDayjs=te,x.unix=function(M){return x(1e3*M)},x.en=z[N],x.Ls=z,x.p={},x})});var Ce=p(pr=>{"use strict";var hT=pr&&pr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pr,"__esModule",{value:!0});pr.findYearClosestToRef=pr.findMostLikelyADYear=void 0;var mT=hT(K());function yT(r){return r<100&&(r>50?r=r+1900:r=r+2e3),r}pr.findMostLikelyADYear=yT;function gT(r,e,t){let n=mT.default(r),i=n;i=i.month(t-1),i=i.date(e),i=i.year(n.year());let s=i.add(1,"y"),a=i.add(-1,"y");return Math.abs(s.diff(n))<Math.abs(i.diff(n))?i=s:Math.abs(a.diff(n))<Math.abs(i.diff(n))&&(i=a),i.year()}pr.findYearClosestToRef=gT});var Se=p(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.parseTimeUnits=U.TIME_UNITS_PATTERN=U.parseYear=U.YEAR_PATTERN=U.parseOrdinalNumberPattern=U.ORDINAL_NUMBER_PATTERN=U.parseNumberPattern=U.NUMBER_PATTERN=U.TIME_UNIT_DICTIONARY=U.ORDINAL_WORD_DICTIONARY=U.INTEGER_WORD_DICTIONARY=U.MONTH_DICTIONARY=U.FULL_MONTH_NAME_DICTIONARY=U.WEEKDAY_DICTIONARY=void 0;var vs=Q(),_T=Ce();U.WEEKDAY_DICTIONARY={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6};U.FULL_MONTH_NAME_DICTIONARY={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12};U.MONTH_DICTIONARY=Object.assign(Object.assign({},U.FULL_MONTH_NAME_DICTIONARY),{jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12});U.INTEGER_WORD_DICTIONARY={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12};U.ORDINAL_WORD_DICTIONARY={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31};U.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconds:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year"};U.NUMBER_PATTERN=`(?:${vs.matchAnyPattern(U.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function hp(r){let e=r.toLowerCase();return U.INTEGER_WORD_DICTIONARY[e]!==void 0?U.INTEGER_WORD_DICTIONARY[e]:e==="a"||e==="an"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}U.parseNumberPattern=hp;U.ORDINAL_NUMBER_PATTERN=`(?:${vs.matchAnyPattern(U.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function TT(r){let e=r.toLowerCase();return U.ORDINAL_WORD_DICTIONARY[e]!==void 0?U.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}U.parseOrdinalNumberPattern=TT;U.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9])";function bT(r){if(/BE/i.test(r))return r=r.replace(/BE/i,""),parseInt(r)-543;if(/BCE?/i.test(r))return r=r.replace(/BCE?/i,""),-parseInt(r);if(/(AD|CE)/i.test(r))return r=r.replace(/(AD|CE)/i,""),parseInt(r);let e=parseInt(r);return _T.findMostLikelyADYear(e)}U.parseYear=bT;var mp=`(${U.NUMBER_PATTERN})\\s{0,3}(${vs.matchAnyPattern(U.TIME_UNIT_DICTIONARY)})`,pp=new RegExp(mp,"i");U.TIME_UNITS_PATTERN=vs.repeatedTimeunitPattern("(?:(?:about|around)\\s{0,3})?",mp);function vT(r){let e={},t=r,n=pp.exec(t);for(;n;)ET(e,n),t=t.substring(n[0].length).trim(),n=pp.exec(t);return e}U.parseTimeUnits=vT;function ET(r,e){let t=hp(e[1]),n=U.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var yp=p((oo,uo)=>{(function(r,e){typeof oo=="object"&&typeof uo!="undefined"?uo.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_quarterOfYear=e()})(oo,function(){"use strict";var r="month",e="quarter";return function(t,n){var i=n.prototype;i.quarter=function(o){return this.$utils().u(o)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(o-1))};var s=i.add;i.add=function(o,u){return o=Number(o),this.$utils().p(u)===e?this.add(3*o,r):s.bind(this)(o,u)};var a=i.startOf;i.startOf=function(o,u){var l=this.$utils(),c=!!l.u(u)||u;if(l.p(o)===e){var d=this.quarter()-1;return c?this.month(3*d).startOf(r).startOf("day"):this.month(3*d+2).endOf(r).endOf("day")}return a.bind(this)(o,u)}}})});var rt=p(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.implySimilarTime=Dt.assignSimilarTime=Dt.assignSimilarDate=Dt.assignTheNextDay=void 0;var gp=_e();function RT(r,e){e=e.add(1,"day"),_p(r,e),Tp(r,e)}Dt.assignTheNextDay=RT;function _p(r,e){r.assign("day",e.date()),r.assign("month",e.month()+1),r.assign("year",e.year())}Dt.assignSimilarDate=_p;function wT(r,e){r.assign("hour",e.hour()),r.assign("minute",e.minute()),r.assign("second",e.second()),r.assign("millisecond",e.millisecond()),r.get("hour")<12?r.assign("meridiem",gp.Meridiem.AM):r.assign("meridiem",gp.Meridiem.PM)}Dt.assignSimilarTime=wT;function Tp(r,e){r.imply("hour",e.hour()),r.imply("minute",e.minute()),r.imply("second",e.second()),r.imply("millisecond",e.millisecond())}Dt.implySimilarTime=Tp});var bp=p(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.toTimezoneOffset=kr.TIMEZONE_ABBR_MAP=void 0;kr.TIMEZONE_ABBR_MAP={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function MT(r){var e;return r==null?null:typeof r=="number"?r:(e=kr.TIMEZONE_ABBR_MAP[r])!==null&&e!==void 0?e:null}kr.toTimezoneOffset=MT});var ce=p(Pt=>{"use strict";var vp=Pt&&Pt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.ParsingResult=Pt.ParsingComponents=Pt.ReferenceWithTimezone=void 0;var DT=vp(yp()),Es=vp(K()),lo=rt(),PT=bp();Es.default.extend(DT.default);var co=class{constructor(e){var t;e=e!=null?e:new Date,e instanceof Date?this.instant=e:(this.instant=(t=e.instant)!==null&&t!==void 0?t:new Date,this.timezoneOffset=PT.toTimezoneOffset(e.timezone))}};Pt.ReferenceWithTimezone=co;var Nr=class{constructor(e,t){if(this.reference=e,this.knownValues={},this.impliedValues={},t)for(let i in t)this.knownValues[i]=t[i];let n=Es.default(e.instant);this.imply("day",n.date()),this.imply("month",n.month()+1),this.imply("year",n.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues?this:(this.impliedValues[e]=t,this)}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){let e=new Nr(this.reference);e.knownValues={},e.impliedValues={};for(let t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(let t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyDayMonthComponent(){return this.isCertain("day")&&this.isCertain("month")&&!this.isCertain("year")}isValidDate(){let e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {knownValues: ${JSON.stringify(this.knownValues)}, impliedValues: ${JSON.stringify(this.impliedValues)}}, reference: ${JSON.stringify(this.reference)}]`}dayjs(){return Es.default(this.date())}date(){let e=this.dateWithoutTimezoneAdjustment();return new Date(e.getTime()+this.getSystemTimezoneAdjustmentMinute(e)*6e4)}dateWithoutTimezoneAdjustment(){let e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}getSystemTimezoneAdjustmentMinute(e){var t,n;(!e||e.getTime()<0)&&(e=new Date);let i=-e.getTimezoneOffset(),s=(n=(t=this.get("timezoneOffset"))!==null&&t!==void 0?t:this.reference.timezoneOffset)!==null&&n!==void 0?n:i;return i-s}static createRelativeFromReference(e,t){let n=Es.default(e.instant);for(let s in t)n=n.add(t[s],s);let i=new Nr(e);return t.hour||t.minute||t.second?(lo.assignSimilarTime(i,n),lo.assignSimilarDate(i,n),e.timezoneOffset!==null&&i.assign("timezoneOffset",-e.instant.getTimezoneOffset())):(lo.implySimilarTime(i,n),e.timezoneOffset!==null&&i.imply("timezoneOffset",-e.instant.getTimezoneOffset()),t.d?(i.assign("day",n.date()),i.assign("month",n.month()+1),i.assign("year",n.year())):(t.week&&i.imply("weekday",n.day()),i.imply("day",n.date()),t.month?(i.assign("month",n.month()+1),i.assign("year",n.year())):(i.imply("month",n.month()+1),t.year?i.assign("year",n.year()):i.imply("year",n.year())))),i}};Pt.ParsingComponents=Nr;var Fn=class{constructor(e,t,n,i,s){this.reference=e,this.refDate=e.instant,this.index=t,this.text=n,this.start=i||new Nr(e),this.end=s}clone(){let e=new Fn(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}toString(){return`[ParsingResult {index: ${this.index}, text: '${this.text}', ...}]`}};Pt.ParsingResult=Fn});var E=p(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.AbstractParserWithWordBoundaryChecking=void 0;var fo=class{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}patternLeftBoundary(){return"(\\W|^)"}pattern(e){let t=this.innerPattern(e);return t==this.cachedInnerPattern?this.cachedPattern:(this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${t.source}`,t.flags),this.cachedInnerPattern=t,this.cachedPattern)}extract(e,t){var n;let i=(n=t[1])!==null&&n!==void 0?n:"";t.index=t.index+i.length,t[0]=t[0].substring(i.length);for(let s=2;s<t.length;s++)t[s-1]=t[s];return this.innerExtract(e,t)}};Rs.AbstractParserWithWordBoundaryChecking=fo});var Ep=p(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});var ho=Se(),OT=ce(),AT=E(),kT=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${ho.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),NT=new RegExp(`(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${ho.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),po=class extends AT.AbstractParserWithWordBoundaryChecking{innerPattern(e){return e.option.forwardDate?NT:kT}innerExtract(e,t){let n=ho.parseTimeUnits(t[1]);return OT.ParsingComponents.createRelativeFromReference(e.reference,n)}};mo.default=po});var Op=p(go=>{"use strict";Object.defineProperty(go,"__esModule",{value:!0});var CT=Ce(),Dp=Se(),Pp=Se(),ws=Se(),ST=Q(),xT=E(),IT=new RegExp(`(?:on\\s{0,3})?(${ws.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:to|\\-|\\\u2013|until|through|till)?\\s{0,3}(${ws.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${ST.matchAnyPattern(Dp.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s{0,3})(${Pp.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Rp=1,wp=2,UT=3,Mp=4,yo=class extends xT.AbstractParserWithWordBoundaryChecking{innerPattern(){return IT}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=Dp.MONTH_DICTIONARY[t[UT].toLowerCase()],s=ws.parseOrdinalNumberPattern(t[Rp]);if(s>31)return t.index=t.index+t[Rp].length,null;if(n.start.assign("month",i),n.start.assign("day",s),t[Mp]){let a=Pp.parseYear(t[Mp]);n.start.assign("year",a)}else{let a=CT.findYearClosestToRef(e.refDate,s,i);n.start.imply("year",a)}if(t[wp]){let a=ws.parseOrdinalNumberPattern(t[wp]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};go.default=yo});var Sp=p(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});var qT=Ce(),Np=Se(),Ms=Se(),Cp=Se(),WT=Q(),FT=E(),LT=new RegExp(`(${WT.matchAnyPattern(Np.MONTH_DICTIONARY)})(?:-|/|\\s*,?\\s*)(${Ms.ORDINAL_NUMBER_PATTERN})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${Ms.ORDINAL_NUMBER_PATTERN})\\s*)?(?:(?:-|/|\\s*,?\\s*)(${Cp.YEAR_PATTERN}))?(?=\\W|$)(?!\\:\\d)`,"i"),YT=1,$T=2,Ap=3,kp=4,_o=class extends FT.AbstractParserWithWordBoundaryChecking{innerPattern(){return LT}innerExtract(e,t){let n=Np.MONTH_DICTIONARY[t[YT].toLowerCase()],i=Ms.parseOrdinalNumberPattern(t[$T]);if(i>31)return null;let s=e.createParsingComponents({day:i,month:n});if(t[kp]){let u=Cp.parseYear(t[kp]);s.assign("year",u)}else{let u=qT.findYearClosestToRef(e.refDate,i,n);s.imply("year",u)}if(!t[Ap])return s;let a=Ms.parseOrdinalNumberPattern(t[Ap]),o=e.createParsingResult(t.index,t[0]);return o.start=s,o.end=s.clone(),o.end.assign("day",a),o}};To.default=_o});var Up=p(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});var bo=Se(),jT=Ce(),BT=Q(),Ip=Se(),GT=E(),HT=new RegExp(`((?:in)\\s*)?(${BT.matchAnyPattern(bo.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${Ip.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),zT=1,KT=2,xp=3,vo=class extends GT.AbstractParserWithWordBoundaryChecking{innerPattern(){return HT}innerExtract(e,t){let n=t[KT].toLowerCase();if(t[0].length<=3&&!bo.FULL_MONTH_NAME_DICTIONARY[n])return null;let i=e.createParsingResult(t.index+(t[zT]||"").length,t.index+t[0].length);i.start.imply("day",1);let s=bo.MONTH_DICTIONARY[n];if(i.start.assign("month",s),t[xp]){let a=Ip.parseYear(t[xp]);i.start.assign("year",a)}else{let a=jT.findYearClosestToRef(e.refDate,1,s);i.start.imply("year",a)}return i}};Eo.default=vo});var Fp=p(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});var Wp=Se(),VT=Q(),ZT=E(),XT=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${VT.matchAnyPattern(Wp.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),QT=1,JT=2,qp=3,eb=4,Ro=class extends ZT.AbstractParserWithWordBoundaryChecking{innerPattern(){return XT}innerExtract(e,t){let n=t[qp]?parseInt(t[qp]):Wp.MONTH_DICTIONARY[t[JT].toLowerCase()];if(n<1||n>12)return null;let i=parseInt(t[QT]);return{day:parseInt(t[eb]),month:n,year:i}}};wo.default=Ro});var Lp=p(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});var tb=E(),rb=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),nb=1,ib=2,Mo=class extends tb.AbstractParserWithWordBoundaryChecking{innerPattern(){return rb}innerExtract(e,t){let n=parseInt(t[ib]),i=parseInt(t[nb]);return e.createParsingComponents().imply("day",1).assign("month",i).assign("year",n)}};Do.default=Mo});var Cr=p(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.AbstractTimeExpressionParser=void 0;var je=_e();function sb(r,e,t,n){return new RegExp(`${r}${e}(\\d{1,4})(?:(?:\\.|:|\uFF1A)(\\d{1,2})(?:(?::|\uFF1A)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,n)}function ab(r,e){return new RegExp(`^(${r})(\\d{1,4})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}var Yp=2,en=3,Ds=4,Ps=5,Ln=6,Po=class{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?=\\W|$)"}followingSuffix(){return"(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){let n=this.extractPrimaryTimeComponents(e,t);if(!n)return t.index+=t[0].length,null;let i=t.index+t[1].length,s=t[0].substring(t[1].length),a=e.createParsingResult(i,s,n);t.index+=t[0].length;let o=e.text.substring(t.index),l=this.getFollowingTimePatternThroughCache().exec(o);return s.match(/^\d{3,4}/)&&l&&l[0].match(/^\s*([+-])\s*\d{2,4}$/)?null:!l||l[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(e,l,a),a.end&&(a.text+=l[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(e,t,n=!1){let i=e.createParsingComponents(),s=0,a=null,o=parseInt(t[Yp]);if(o>100){if(this.strictMode||t[en]!=null)return null;s=o%100,o=Math.floor(o/100)}if(o>24)return null;if(t[en]!=null){if(t[en].length==1&&!t[Ln])return null;s=parseInt(t[en])}if(s>=60)return null;if(o>12&&(a=je.Meridiem.PM),t[Ln]!=null){if(o>12)return null;let u=t[Ln][0].toLowerCase();u=="a"&&(a=je.Meridiem.AM,o==12&&(o=0)),u=="p"&&(a=je.Meridiem.PM,o!=12&&(o+=12))}if(i.assign("hour",o),i.assign("minute",s),a!==null?i.assign("meridiem",a):o<12?i.imply("meridiem",je.Meridiem.AM):i.imply("meridiem",je.Meridiem.PM),t[Ps]!=null){let u=parseInt(t[Ps].substring(0,3));if(u>=1e3)return null;i.assign("millisecond",u)}if(t[Ds]!=null){let u=parseInt(t[Ds]);if(u>=60)return null;i.assign("second",u)}return i}extractFollowingTimeComponents(e,t,n){let i=e.createParsingComponents();if(t[Ps]!=null){let u=parseInt(t[Ps].substring(0,3));if(u>=1e3)return null;i.assign("millisecond",u)}if(t[Ds]!=null){let u=parseInt(t[Ds]);if(u>=60)return null;i.assign("second",u)}let s=parseInt(t[Yp]),a=0,o=-1;if(t[en]!=null?a=parseInt(t[en]):s>100&&(a=s%100,s=Math.floor(s/100)),a>=60||s>24)return null;if(s>=12&&(o=je.Meridiem.PM),t[Ln]!=null){if(s>12)return null;let u=t[Ln][0].toLowerCase();u=="a"&&(o=je.Meridiem.AM,s==12&&(s=0,i.isCertain("day")||i.imply("day",i.get("day")+1))),u=="p"&&(o=je.Meridiem.PM,s!=12&&(s+=12)),n.start.isCertain("meridiem")||(o==je.Meridiem.AM?(n.start.imply("meridiem",je.Meridiem.AM),n.start.get("hour")==12&&n.start.assign("hour",0)):(n.start.imply("meridiem",je.Meridiem.PM),n.start.get("hour")!=12&&n.start.assign("hour",n.start.get("hour")+12)))}return i.assign("hour",s),i.assign("minute",a),o>=0?i.assign("meridiem",o):n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>s?i.imply("meridiem",je.Meridiem.AM):s<=12&&(i.assign("hour",s+12),i.assign("meridiem",je.Meridiem.PM)):s>12?i.imply("meridiem",je.Meridiem.PM):s<=12&&i.imply("meridiem",je.Meridiem.AM),i.date().getTime()<n.start.date().getTime()&&i.imply("day",i.get("day")+1),i}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;let t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){let n=t[1];if(this.strictMode||n.includes(".")&&!n.match(/\d(\.\d{2})+$/)||parseInt(n)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;let t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;let n=t[1],i=t[2];if(i.includes(".")&&!i.match(/\d(\.\d{2})+$/))return null;let s=parseInt(i),a=parseInt(n);if(s>24||a>24)return null}return e}getPrimaryTimePatternThroughCache(){let e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=sb(this.primaryPatternLeftBoundary(),e,t,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){let e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=ab(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t,this.cachedFollowingTimePatten)}};Os.AbstractTimeExpressionParser=Po});var $p=p(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var As=_e(),ob=Cr(),Oo=class extends ob.AbstractTimeExpressionParser{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|to|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){let n=super.extractPrimaryTimeComponents(e,t);if(n){if(t[0].endsWith("night")){let i=n.get("hour");i>=6&&i<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",As.Meridiem.PM)):i<6&&n.assign("meridiem",As.Meridiem.AM)}if(t[0].endsWith("afternoon")){n.assign("meridiem",As.Meridiem.PM);let i=n.get("hour");i>=0&&i<=6&&n.assign("hour",n.get("hour")+12)}t[0].endsWith("morning")&&(n.assign("meridiem",As.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}};Ao.default=Oo});var nt=p(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.addImpliedTimeUnits=tn.reverseTimeUnits=void 0;function ub(r){let e={};for(let t in r)e[t]=-r[t];return e}tn.reverseTimeUnits=ub;function lb(r,e){let t=r.clone(),n=r.dayjs();for(let i in e)n=n.add(e[i],i);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(t.imply("day",n.date()),t.imply("month",n.month()+1),t.imply("year",n.year())),("second"in e||"minute"in e||"hour"in e)&&(t.imply("second",n.second()),t.imply("minute",n.minute()),t.imply("hour",n.hour())),t}tn.addImpliedTimeUnits=lb});var jp=p(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});var No=Se(),cb=ce(),db=E(),fb=nt(),pb=new RegExp(`(${No.TIME_UNITS_PATTERN})\\s{0,5}(?:ago|before|earlier)(?=(?:\\W|$))`,"i"),hb=new RegExp(`(${No.TIME_UNITS_PATTERN})\\s{0,5}ago(?=(?:\\W|$))`,"i"),ko=class extends db.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?hb:pb}innerExtract(e,t){let n=No.parseTimeUnits(t[1]),i=fb.reverseTimeUnits(n);return cb.ParsingComponents.createRelativeFromReference(e.reference,i)}};Co.default=ko});var Bp=p(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var xo=Se(),mb=ce(),yb=E(),gb=new RegExp(`(${xo.TIME_UNITS_PATTERN})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),_b=new RegExp("("+xo.TIME_UNITS_PATTERN+")(later|from now)(?=(?:\\W|$))","i"),Tb=1,So=class extends yb.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?_b:gb}innerExtract(e,t){let n=xo.parseTimeUnits(t[Tb]);return mb.ParsingComponents.createRelativeFromReference(e.reference,n)}};Io.default=So});var nn=p(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.MergingRefiner=rn.Filter=void 0;var Uo=class{refine(e,t){return t.filter(n=>this.isValid(e,n))}};rn.Filter=Uo;var qo=class{refine(e,t){if(t.length<2)return t;let n=[],i=t[0],s=null;for(let a=1;a<t.length;a++){s=t[a];let o=e.text.substring(i.index+i.text.length,s.index);if(!this.shouldMergeResults(o,i,s,e))n.push(i),i=s;else{let u=i,l=s,c=this.mergeResults(o,u,l,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${u} and ${l} into ${c}`)}),i=c}}return i!=null&&n.push(i),n}};rn.MergingRefiner=qo});var Ot=p(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});var bb=nn(),Wo=class extends bb.MergingRefiner{shouldMergeResults(e,t,n){return!t.end&&!n.end&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){if(!t.start.isOnlyWeekdayComponent()&&!n.start.isOnlyWeekdayComponent()&&(n.start.getCertainComponents().forEach(s=>{t.start.isCertain(s)||t.start.assign(s,n.start.get(s))}),t.start.getCertainComponents().forEach(s=>{n.start.isCertain(s)||n.start.assign(s,t.start.get(s))})),t.start.date().getTime()>n.start.date().getTime()){let s=t.start.dayjs(),a=n.start.dayjs();t.start.isOnlyWeekdayComponent()&&s.add(-7,"days").isBefore(a)?(s=s.add(-7,"days"),t.start.imply("day",s.date()),t.start.imply("month",s.month()+1),t.start.imply("year",s.year())):n.start.isOnlyWeekdayComponent()&&a.add(7,"days").isAfter(s)?(a=a.add(7,"days"),n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())):[n,t]=[t,n]}let i=t.clone();return i.start=t.start,i.end=n.start,i.index=Math.min(t.index,n.index),t.index<n.index?i.text=t.text+e+n.text:i.text=n.text+e+t.text,i}};Fo.default=Wo});var Gp=p(Yn=>{"use strict";var vb=Yn&&Yn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yn,"__esModule",{value:!0});var Eb=vb(Ot()),Lo=class extends Eb.default{patternBetween(){return/^\s*(to|-)\s*$/i}};Yn.default=Lo});var Hp=p(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.mergeDateTimeComponent=sn.mergeDateTimeResult=void 0;var Rb=_e();function wb(r,e){let t=r.clone(),n=r.start,i=e.start;if(t.start=Yo(n,i),r.end!=null||e.end!=null){let s=r.end==null?r.start:r.end,a=e.end==null?e.start:e.end,o=Yo(s,a);r.end==null&&o.date().getTime()<t.start.date().getTime()&&(o.isCertain("day")?o.assign("day",o.get("day")+1):o.imply("day",o.get("day")+1)),t.end=o}return t}sn.mergeDateTimeResult=wb;function Yo(r,e){let t=r.clone();return e.isCertain("hour")?(t.assign("hour",e.get("hour")),t.assign("minute",e.get("minute")),e.isCertain("second")?(t.assign("second",e.get("second")),e.isCertain("millisecond")?t.assign("millisecond",e.get("millisecond")):t.imply("millisecond",e.get("millisecond"))):(t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond")))):(t.imply("hour",e.get("hour")),t.imply("minute",e.get("minute")),t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&t.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?t.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&t.get("meridiem")==null&&t.imply("meridiem",e.get("meridiem")),t.get("meridiem")==Rb.Meridiem.PM&&t.get("hour")<12&&(e.isCertain("hour")?t.assign("hour",t.get("hour")+12):t.imply("hour",t.get("hour")+12)),t}sn.mergeDateTimeComponent=Yo});var $t=p(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});var Mb=nn(),zp=Hp(),$o=class extends Mb.MergingRefiner{shouldMergeResults(e,t,n){return(t.start.isOnlyDate()&&n.start.isOnlyTime()||n.start.isOnlyDate()&&t.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){let i=t.start.isOnlyDate()?zp.mergeDateTimeResult(t,n):zp.mergeDateTimeResult(n,t);return i.index=t.index,i.text=t.text+e+n.text,i}};jo.default=$o});var Kp=p($n=>{"use strict";var Db=$n&&$n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($n,"__esModule",{value:!0});var Pb=Db($t()),Bo=class extends Pb.default{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-)?\\s*$")}};$n.default=Bo});var Vp=p(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});var Ob=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),Ab={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:240,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360},Go=class{constructor(e){this.timezone=Object.assign(Object.assign({},Ab),e)}refine(e,t){var n;let i=(n=e.option.timezones)!==null&&n!==void 0?n:{};return t.forEach(s=>{var a,o;let u=e.text.substring(s.index+s.text.length),l=Ob.exec(u);if(!l)return;let c=l[1].toUpperCase(),d=(o=(a=i[c])!==null&&a!==void 0?a:this.timezone[c])!==null&&o!==void 0?o:null;if(d===null)return;e.debug(()=>{console.log(`Extracting timezone: '${c}' into: ${d} for: ${s.start}`)});let f=s.start.get("timezoneOffset");f!==null&&d!=f&&(s.start.isCertain("timezoneOffset")||c!=l[1])||s.start.isOnlyDate()&&c!=l[1]||(s.text+=l[0],s.start.isCertain("timezoneOffset")||s.start.assign("timezoneOffset",d),s.end!=null&&!s.end.isCertain("timezoneOffset")&&s.end.assign("timezoneOffset",d))}),t}};Ho.default=Go});var ks=p(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});var kb=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),Nb=1,Cb=2,Sb=3,zo=class{refine(e,t){return t.forEach(function(n){if(n.start.isCertain("timezoneOffset"))return;let i=e.text.substring(n.index+n.text.length),s=kb.exec(i);if(!s)return;e.debug(()=>{console.log(`Extracting timezone: '${s[0]}' into : ${n}`)});let a=parseInt(s[Cb]),o=parseInt(s[Sb]||"0"),u=a*60+o;u>14*60||(s[Nb]==="-"&&(u=-u),n.end!=null&&n.end.assign("timezoneOffset",u),n.start.assign("timezoneOffset",u),n.text+=s[0])}),t}};Ko.default=zo});var Zp=p(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var Vo=class{refine(e,t){if(t.length<2)return t;let n=[],i=t[0];for(let s=1;s<t.length;s++){let a=t[s];a.index<i.index+i.text.length?a.text.length>i.text.length&&(i=a):(n.push(i),i=a)}return i!=null&&n.push(i),n}};Zo.default=Vo});var Xp=p(jn=>{"use strict";var xb=jn&&jn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jn,"__esModule",{value:!0});var Ib=xb(K()),Xo=class{refine(e,t){return e.option.forwardDate&&t.forEach(function(n){let i=Ib.default(e.refDate);if(n.start.isOnlyDayMonthComponent()&&i.isAfter(n.start.dayjs()))for(let s=0;s<3&&i.isAfter(n.start.dayjs());s++)n.start.imply("year",n.start.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${n} (${n.start})`)}),n.end&&!n.end.isCertain("year")&&(n.end.imply("year",n.end.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${n} (${n.end})`)}));n.start.isOnlyWeekdayComponent()&&i.isAfter(n.start.dayjs())&&(i.day()>=n.start.get("weekday")?i=i.day(n.start.get("weekday")+7):i=i.day(n.start.get("weekday")),n.start.imply("day",i.date()),n.start.imply("month",i.month()+1),n.start.imply("year",i.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${n} (${n.start})`)}),n.end&&n.end.isOnlyWeekdayComponent()&&(i.day()>n.end.get("weekday")?i=i.day(n.end.get("weekday")+7):i=i.day(n.end.get("weekday")),n.end.imply("day",i.date()),n.end.imply("month",i.month()+1),n.end.imply("year",i.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${n} (${n.end})`)})))}),t}};jn.default=Xo});var Qp=p(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});var Ub=nn(),Qo=class extends Ub.Filter{constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${t.text}'`)}),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,t):!0:(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.start})`)}),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)}),!1):t.start.isOnlyTime()&&(!t.start.isCertain("hour")||!t.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)}),!1):!0}};Jo.default=Qo});var ru=p(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});var qb=E(),Wb=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),Fb=1,Lb=2,Yb=3,Jp=4,$b=5,eh=6,th=7,rh=8,nh=9,eu=class extends qb.AbstractParserWithWordBoundaryChecking{innerPattern(){return Wb}innerExtract(e,t){let n={};if(n.year=parseInt(t[Fb]),n.month=parseInt(t[Lb]),n.day=parseInt(t[Yb]),t[Jp]!=null)if(n.hour=parseInt(t[Jp]),n.minute=parseInt(t[$b]),t[eh]!=null&&(n.second=parseInt(t[eh])),t[th]!=null&&(n.millisecond=parseInt(t[th])),t[rh]==null)n.timezoneOffset=0;else{let i=parseInt(t[rh]),s=0;t[nh]!=null&&(s=parseInt(t[nh]));let a=i*60;a<0?a-=s:a+=s,n.timezoneOffset=a}return n}};tu.default=eu});var ih=p(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});var jb=nn(),nu=class extends jb.MergingRefiner{mergeResults(e,t,n){let i=n.clone();return i.index=t.index,i.text=t.text+e+i.text,i.start.assign("weekday",t.start.get("weekday")),i.end&&i.end.assign("weekday",t.start.get("weekday")),i}shouldMergeResults(e,t,n){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&n.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}};iu.default=nu});var jt=p(an=>{"use strict";var Sr=an&&an.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(an,"__esModule",{value:!0});an.includeCommonConfiguration=void 0;var Bb=Sr(Vp()),Gb=Sr(ks()),sh=Sr(Zp()),Hb=Sr(Xp()),zb=Sr(Qp()),Kb=Sr(ru()),Vb=Sr(ih());function Zb(r,e=!1){return r.parsers.unshift(new Kb.default),r.refiners.unshift(new Vb.default),r.refiners.unshift(new Bb.default),r.refiners.unshift(new Gb.default),r.refiners.unshift(new sh.default),r.refiners.push(new sh.default),r.refiners.push(new Hb.default),r.refiners.push(new zb.default(e)),r}an.includeCommonConfiguration=Zb});var Gt=p(X=>{"use strict";var Xb=X&&X.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(X,"__esModule",{value:!0});X.noon=X.morning=X.midnight=X.yesterdayEvening=X.evening=X.lastNight=X.tonight=X.theDayAfter=X.tomorrow=X.theDayBefore=X.yesterday=X.today=X.now=void 0;var At=ce(),on=Xb(K()),Bt=rt(),Bn=_e();function Qb(r){let e=on.default(r.instant),t=new At.ParsingComponents(r,{});return Bt.assignSimilarDate(t,e),Bt.assignSimilarTime(t,e),r.timezoneOffset!==null&&t.assign("timezoneOffset",e.utcOffset()),t}X.now=Qb;function Jb(r){let e=on.default(r.instant),t=new At.ParsingComponents(r,{});return Bt.assignSimilarDate(t,e),Bt.implySimilarTime(t,e),t}X.today=Jb;function e1(r){return ah(r,1)}X.yesterday=e1;function ah(r,e){return su(r,-e)}X.theDayBefore=ah;function t1(r){return su(r,1)}X.tomorrow=t1;function su(r,e){let t=on.default(r.instant),n=new At.ParsingComponents(r,{});return t=t.add(e,"day"),Bt.assignSimilarDate(n,t),Bt.implySimilarTime(n,t),n}X.theDayAfter=su;function r1(r,e=22){let t=on.default(r.instant),n=new At.ParsingComponents(r,{});return n.imply("hour",e),n.imply("meridiem",Bn.Meridiem.PM),Bt.assignSimilarDate(n,t),n}X.tonight=r1;function n1(r,e=0){let t=on.default(r.instant),n=new At.ParsingComponents(r,{});return t.hour()<6&&(t=t.add(-1,"day")),Bt.assignSimilarDate(n,t),n.imply("hour",e),n}X.lastNight=n1;function i1(r,e=20){let t=new At.ParsingComponents(r,{});return t.imply("meridiem",Bn.Meridiem.PM),t.imply("hour",e),t}X.evening=i1;function s1(r,e=20){let t=on.default(r.instant),n=new At.ParsingComponents(r,{});return t=t.add(-1,"day"),Bt.assignSimilarDate(n,t),n.imply("hour",e),n.imply("meridiem",Bn.Meridiem.PM),n}X.yesterdayEvening=s1;function a1(r){let e=new At.ParsingComponents(r,{});return e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e}X.midnight=a1;function o1(r,e=6){let t=new At.ParsingComponents(r,{});return t.imply("meridiem",Bn.Meridiem.AM),t.imply("hour",e),t}X.morning=o1;function u1(r){let e=new At.ParsingComponents(r,{});return e.imply("meridiem",Bn.Meridiem.AM),e.imply("hour",12),e}X.noon=u1});var oh=p(pt=>{"use strict";var l1=pt&&pt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),c1=pt&&pt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),d1=pt&&pt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&l1(e,r,t);return c1(e,r),e},f1=pt&&pt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pt,"__esModule",{value:!0});var p1=f1(K()),h1=E(),m1=rt(),Gn=d1(Gt()),y1=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i,au=class extends h1.AbstractParserWithWordBoundaryChecking{innerPattern(e){return y1}innerExtract(e,t){let n=p1.default(e.refDate),i=t[0].toLowerCase(),s=e.createParsingComponents();switch(i){case"now":return Gn.now(e.reference);case"today":return Gn.today(e.reference);case"yesterday":return Gn.yesterday(e.reference);case"tomorrow":case"tmr":case"tmrw":return Gn.tomorrow(e.reference);case"tonight":return Gn.tonight(e.reference);default:i.match(/last\s*night/)&&(n.hour()>6&&(n=n.add(-1,"day")),m1.assignSimilarDate(s,n),s.imply("hour",0));break}return s}};pt.default=au});var uh=p(Hn=>{"use strict";var g1=Hn&&Hn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hn,"__esModule",{value:!0});var Ns=_e(),_1=E(),T1=g1(K()),b1=rt(),v1=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|noon)(?=\W|$)/i,ou=class extends _1.AbstractParserWithWordBoundaryChecking{innerPattern(){return v1}innerExtract(e,t){let n=T1.default(e.refDate),i=e.createParsingComponents();switch(t[1].toLowerCase()){case"afternoon":i.imply("meridiem",Ns.Meridiem.PM),i.imply("hour",15);break;case"evening":case"night":i.imply("meridiem",Ns.Meridiem.PM),i.imply("hour",20);break;case"midnight":b1.assignTheNextDay(i,n),i.imply("hour",0),i.imply("minute",0),i.imply("second",0);break;case"morning":i.imply("meridiem",Ns.Meridiem.AM),i.imply("hour",6);break;case"noon":i.imply("meridiem",Ns.Meridiem.AM),i.imply("hour",12);break}return i}};Hn.default=ou});var xr=p(hr=>{"use strict";var E1=hr&&hr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hr,"__esModule",{value:!0});hr.toDayJSClosestWeekday=hr.toDayJSWeekday=void 0;var lh=E1(K());function R1(r,e,t){if(!t)return ch(r,e);let n=lh.default(r);switch(t){case"this":n=n.day(e);break;case"next":n=n.day(e+7);break;case"last":n=n.day(e-7);break}return n}hr.toDayJSWeekday=R1;function ch(r,e){let t=lh.default(r),n=t.day();return Math.abs(e-7-n)<Math.abs(e-n)?t=t.day(e-7):Math.abs(e+7-n)<Math.abs(e-n)?t=t.day(e+7):t=t.day(e),t}hr.toDayJSClosestWeekday=ch});var fh=p(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});var dh=Se(),w1=Q(),M1=E(),D1=xr(),P1=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${w1.matchAnyPattern(dh.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),O1=1,A1=2,k1=3,uu=class extends M1.AbstractParserWithWordBoundaryChecking{innerPattern(){return P1}innerExtract(e,t){let n=t[A1].toLowerCase(),i=dh.WEEKDAY_DICTIONARY[n],s=t[O1],a=t[k1],o=s||a;o=o||"",o=o.toLowerCase();let u=null;o=="last"||o=="past"?u="last":o=="next"?u="next":o=="this"&&(u="this");let l=D1.toDayJSWeekday(e.refDate,i,u);return e.createParsingComponents().assign("weekday",i).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};lu.default=uu});var mh=p(zn=>{"use strict";var N1=zn&&zn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zn,"__esModule",{value:!0});var hh=Se(),ph=ce(),C1=N1(K()),S1=E(),x1=Q(),I1=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${x1.matchAnyPattern(hh.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),U1=1,q1=2,cu=class extends S1.AbstractParserWithWordBoundaryChecking{innerPattern(){return I1}innerExtract(e,t){let n=t[U1].toLowerCase(),i=t[q1].toLowerCase(),s=hh.TIME_UNIT_DICTIONARY[i];if(n=="next"||n.startsWith("after")){let u={};return u[s]=1,ph.ParsingComponents.createRelativeFromReference(e.reference,u)}if(n=="last"||n=="past"){let u={};return u[s]=-1,ph.ParsingComponents.createRelativeFromReference(e.reference,u)}let a=e.createParsingComponents(),o=C1.default(e.reference.instant);return i.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):i.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):i.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};zn.default=cu});var ht=p(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.ParsingContext=cn.Chrono=void 0;var un=ce(),W1=du(),ln=class{constructor(e){e=e||W1.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new ln({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,n){let i=this.parse(e,t,n);return i.length>0?i[0].start.date():null}parse(e,t,n){let i=new Cs(e,t,n),s=[];return this.parsers.forEach(a=>{let o=ln.executeParser(i,a);s=s.concat(o)}),s.sort((a,o)=>a.index-o.index),this.refiners.forEach(function(a){s=a.refine(i,s)}),s}static executeParser(e,t){let n=[],i=t.pattern(e),s=e.text,a=e.text,o=i.exec(a);for(;o;){let u=o.index+s.length-a.length;o.index=u;let l=t.extract(e,o);if(!l){a=s.substring(o.index+1),o=i.exec(a);continue}let c=null;l instanceof un.ParsingResult?c=l:l instanceof un.ParsingComponents?(c=e.createParsingResult(o.index,o[0]),c.start=l):c=e.createParsingResult(o.index,o[0],l),e.debug(()=>console.log(`${t.constructor.name} extracted result ${c}`)),n.push(c),a=s.substring(u+c.text.length),o=i.exec(a)}return n}};cn.Chrono=ln;var Cs=class{constructor(e,t,n){this.text=e,this.reference=new un.ReferenceWithTimezone(t),this.option=n!=null?n:{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof un.ParsingComponents?e:new un.ParsingComponents(this.reference,e)}createParsingResult(e,t,n,i){let s=typeof t=="string"?t:this.text.substring(e,t),a=n?this.createParsingComponents(n):null,o=i?this.createParsingComponents(i):null;return new un.ParsingResult(this.reference,e,s,a,o)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}};cn.ParsingContext=Cs});var Ir=p(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});var yh=Ce(),F1=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),Ss=1,gh=5,_h=2,Th=3,fu=4,pu=class{constructor(e){this.groupNumberMonth=e?Th:_h,this.groupNumberDay=e?_h:Th}pattern(){return F1}extract(e,t){if(t[Ss]=="/"||t[gh]=="/"){t.index+=t[0].length;return}let n=t.index+t[Ss].length,i=t[0].substr(t[Ss].length,t[0].length-t[Ss].length-t[gh].length);if(i.match(/^\d\.\d$/)||i.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!t[fu]&&t[0].indexOf("/")<0)return;let s=e.createParsingResult(n,i),a=parseInt(t[this.groupNumberMonth]),o=parseInt(t[this.groupNumberDay]);if((a<1||a>12)&&a>12)if(o>=1&&o<=12&&a<=31)[o,a]=[a,o];else return null;if(o<1||o>31)return null;if(s.start.assign("day",o),s.start.assign("month",a),t[fu]){let u=parseInt(t[fu]),l=yh.findMostLikelyADYear(u);s.start.assign("year",l)}else{let u=yh.findYearClosestToRef(e.refDate,o,a);s.start.imply("year",u)}return s}};hu.default=pu});var vh=p(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});var bh=Se(),L1=ce(),Y1=E(),$1=nt(),j1=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${bh.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),mu=class extends Y1.AbstractParserWithWordBoundaryChecking{innerPattern(){return j1}innerExtract(e,t){let n=t[1].toLowerCase(),i=bh.parseTimeUnits(t[2]);switch(n){case"last":case"past":case"-":i=$1.reverseTimeUnits(i);break}return L1.ParsingComponents.createRelativeFromReference(e.reference,i)}};yu.default=mu});var Rh=p(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});var B1=nn(),gu=ce(),G1=Se(),H1=nt();function Eh(r){return r.text.match(/\s+(before|from)$/i)!=null}function z1(r){return r.text.match(/\s+(after|since)$/i)!=null}var _u=class extends B1.MergingRefiner{patternBetween(){return/^\s*$/i}shouldMergeResults(e,t,n){return!e.match(this.patternBetween())||!Eh(t)&&!z1(t)?!1:!!n.start.get("day")&&!!n.start.get("month")&&!!n.start.get("year")}mergeResults(e,t,n){let i=G1.parseTimeUnits(t.text);Eh(t)&&(i=H1.reverseTimeUnits(i));let s=gu.ParsingComponents.createRelativeFromReference(new gu.ReferenceWithTimezone(n.start.date()),i);return new gu.ParsingResult(n.reference,t.index,`${t.text}${e}${n.text}`,s)}};Tu.default=_u});var du=p(he=>{"use strict";var ve=he&&he.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(he,"__esModule",{value:!0});he.createConfiguration=he.createCasualConfiguration=he.parseDate=he.parse=he.GB=he.strict=he.casual=void 0;var K1=ve(Ep()),V1=ve(Op()),Z1=ve(Sp()),X1=ve(Up()),Q1=ve(Fp()),J1=ve(Lp()),ev=ve($p()),tv=ve(jp()),rv=ve(Bp()),nv=ve(Gp()),iv=ve(Kp()),sv=jt(),av=ve(oh()),ov=ve(uh()),uv=ve(fh()),lv=ve(mh()),bu=ht(),cv=ve(Ir()),dv=ve(vh()),fv=ve(Rh());he.casual=new bu.Chrono(wh(!1));he.strict=new bu.Chrono(xs(!0,!1));he.GB=new bu.Chrono(xs(!1,!0));function pv(r,e,t){return he.casual.parse(r,e,t)}he.parse=pv;function hv(r,e,t){return he.casual.parseDate(r,e,t)}he.parseDate=hv;function wh(r=!1){let e=xs(!1,r);return e.parsers.unshift(new av.default),e.parsers.unshift(new ov.default),e.parsers.unshift(new X1.default),e.parsers.unshift(new lv.default),e.parsers.unshift(new dv.default),e}he.createCasualConfiguration=wh;function xs(r=!0,e=!1){return sv.includeCommonConfiguration({parsers:[new cv.default(e),new K1.default,new V1.default,new Z1.default,new uv.default,new Q1.default,new J1.default,new ev.default(r),new tv.default(r),new rv.default(r)],refiners:[new fv.default,new iv.default,new nv.default]},r)}he.createConfiguration=xs});var Mh=p(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});var mv=Cr(),vu=class extends mv.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:um|von)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|bis)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};Eu.default=vu});var Kn=p(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.parseTimeUnits=ee.TIME_UNITS_PATTERN=ee.parseYear=ee.YEAR_PATTERN=ee.parseNumberPattern=ee.NUMBER_PATTERN=ee.TIME_UNIT_DICTIONARY=ee.INTEGER_WORD_DICTIONARY=ee.MONTH_DICTIONARY=ee.WEEKDAY_DICTIONARY=void 0;var Ru=Q(),yv=Ce();ee.WEEKDAY_DICTIONARY={sonntag:0,so:0,montag:1,mo:1,dienstag:2,di:2,mittwoch:3,mi:3,donnerstag:4,do:4,freitag:5,fr:5,samstag:6,sa:6};ee.MONTH_DICTIONARY={januar:1,j\u00E4nner:1,janner:1,jan:1,"jan.":1,februar:2,feber:2,feb:2,"feb.":2,m\u00E4rz:3,maerz:3,m\u00E4r:3,"m\xE4r.":3,mrz:3,"mrz.":3,april:4,apr:4,"apr.":4,mai:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,august:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,dezember:12,dez:12,"dez.":12};ee.INTEGER_WORD_DICTIONARY={eins:1,eine:1,einem:1,einen:1,einer:1,zwei:2,drei:3,vier:4,f\u00FCnf:5,fuenf:5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,zw\u00F6lf:12,zwoelf:12};ee.TIME_UNIT_DICTIONARY={sek:"second",sekunde:"second",sekunden:"second",min:"minute",minute:"minute",minuten:"minute",h:"hour",std:"hour",stunde:"hour",stunden:"hour",tag:"d",tage:"d",tagen:"d",woche:"week",wochen:"week",monat:"month",monate:"month",monaten:"month",monats:"month",quartal:"quarter",quartals:"quarter",quartale:"quarter",quartalen:"quarter",a:"year",j:"year",jr:"year",jahr:"year",jahre:"year",jahren:"year",jahres:"year"};ee.NUMBER_PATTERN=`(?:${Ru.matchAnyPattern(ee.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s*an?)?|an?\\b(?:\\s*few)?|few|several|a?\\s*couple\\s*(?:of)?)`;function Ph(r){let e=r.toLowerCase();return ee.INTEGER_WORD_DICTIONARY[e]!==void 0?ee.INTEGER_WORD_DICTIONARY[e]:e==="a"||e==="an"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}ee.parseNumberPattern=Ph;ee.YEAR_PATTERN="(?:[0-9]{1,4}(?:\\s*[vn]\\.?\\s*(?:C(?:hr)?|(?:u\\.?|d\\.?(?:\\s*g\\.?)?)?\\s*Z)\\.?|\\s*(?:u\\.?|d\\.?(?:\\s*g\\.)?)\\s*Z\\.?)?)";function gv(r){if(/v/i.test(r))return-parseInt(r.replace(/[^0-9]+/gi,""));if(/n/i.test(r))return parseInt(r.replace(/[^0-9]+/gi,""));if(/z/i.test(r))return parseInt(r.replace(/[^0-9]+/gi,""));let e=parseInt(r);return yv.findMostLikelyADYear(e)}ee.parseYear=gv;var Oh=`(${ee.NUMBER_PATTERN})\\s{0,5}(${Ru.matchAnyPattern(ee.TIME_UNIT_DICTIONARY)})\\s{0,5}`,Dh=new RegExp(Oh,"i");ee.TIME_UNITS_PATTERN=Ru.repeatedTimeunitPattern("",Oh);function _v(r){let e={},t=r,n=Dh.exec(t);for(;n;)Tv(e,n),t=t.substring(n[0].length),n=Dh.exec(t);return e}ee.parseTimeUnits=_v;function Tv(r,e){let t=Ph(e[1]),n=ee.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var kh=p(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});var Ah=Kn(),bv=Q(),vv=E(),Ev=xr(),Rv=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:a[mn]\\s*?)?(?:(diese[mn]|letzte[mn]|n(?:\xE4|ae)chste[mn])\\s*)?(${bv.matchAnyPattern(Ah.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(diese|letzte|n(?:\xE4|ae)chste)\\s*woche)?(?=\\W|$)`,"i"),wv=1,Mv=3,Dv=2,wu=class extends vv.AbstractParserWithWordBoundaryChecking{innerPattern(){return Rv}innerExtract(e,t){let n=t[Dv].toLowerCase(),i=Ah.WEEKDAY_DICTIONARY[n],s=t[wv],a=t[Mv],o=s||a;o=o||"",o=o.toLowerCase();let u=null;o.match(/letzte/)?u="last":o.match(/chste/)?u="next":o.match(/diese/)&&(u="this");let l=Ev.toDayJSWeekday(e.refDate,i,u);return e.createParsingComponents().assign("weekday",i).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};Mu.default=wu});var xh=p(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});var mr=_e(),Pv=new RegExp("(^|\\s|T)(?:(?:um|von)\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),Ov=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|bis(?:\\s+um)?|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),Av=2,Nh=3,Ch=4,Sh=5,dn=class{pattern(e){return Pv}extract(e,t){let n=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(n.text.match(/^\d{4}$/)||(n.start=dn.extractTimeComponent(n.start.clone(),t),!n.start))return t.index+=t[0].length,null;let i=e.text.substring(t.index+t[0].length),s=Ov.exec(i);return s&&(n.end=dn.extractTimeComponent(n.start.clone(),s),n.end&&(n.text+=s[0])),n}static extractTimeComponent(e,t){let n=0,i=0,s=null;if(n=parseInt(t[Av]),t[Nh]!=null&&(i=parseInt(t[Nh])),i>=60||n>24)return null;if(n>=12&&(s=mr.Meridiem.PM),t[Sh]!=null){if(n>12)return null;let a=t[Sh].toLowerCase();a.match(/morgen|vormittag/)&&(s=mr.Meridiem.AM,n==12&&(n=0)),a.match(/nachmittag|abend/)&&(s=mr.Meridiem.PM,n!=12&&(n+=12)),a.match(/nacht/)&&(n==12?(s=mr.Meridiem.AM,n=0):n<6?s=mr.Meridiem.AM:(s=mr.Meridiem.PM,n+=12))}if(e.assign("hour",n),e.assign("minute",i),s!==null?e.assign("meridiem",s):n<12?e.imply("meridiem",mr.Meridiem.AM):e.imply("meridiem",mr.Meridiem.PM),t[Ch]!=null){let a=parseInt(t[Ch]);if(a>=60)return null;e.assign("second",a)}return e}};Du.default=dn});var Ih=p(Vn=>{"use strict";var kv=Vn&&Vn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vn,"__esModule",{value:!0});var Nv=kv(Ot()),Pu=class extends Nv.default{patternBetween(){return/^\s*(bis(?:\s*(?:am|zum))?|-)\s*$/i}};Vn.default=Pu});var Uh=p(Zn=>{"use strict";var Cv=Zn&&Zn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zn,"__esModule",{value:!0});var Sv=Cv($t()),Ou=class extends Sv.default{patternBetween(){return new RegExp("^\\s*(T|um|am|,|-)?\\s*$")}};Zn.default=Ou});var Au=p(Qn=>{"use strict";var xv=Qn&&Qn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qn,"__esModule",{value:!0});var Iv=xv(K()),Ur=_e(),Uv=E(),qv=rt(),Wv=nt(),Xn=class extends Uv.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(diesen)?\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht)(?=\W|$)/i}innerExtract(e,t){let n=Iv.default(e.refDate),i=t[2].toLowerCase(),s=e.createParsingComponents();return qv.implySimilarTime(s,n),Xn.extractTimeComponents(s,i)}static extractTimeComponents(e,t){switch(t){case"morgen":e.imply("hour",6),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ur.Meridiem.AM);break;case"vormittag":e.imply("hour",9),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ur.Meridiem.AM);break;case"mittag":case"mittags":e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ur.Meridiem.AM);break;case"nachmittag":e.imply("hour",15),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ur.Meridiem.PM);break;case"abend":e.imply("hour",18),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ur.Meridiem.PM);break;case"nacht":e.imply("hour",22),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ur.Meridiem.PM);break;case"mitternacht":e.get("hour")>1&&(e=Wv.addImpliedTimeUnits(e,{day:1})),e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",Ur.Meridiem.AM);break}return e}};Qn.default=Xn});var Fh=p(mt=>{"use strict";var Fv=mt&&mt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lv=mt&&mt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Yv=mt&&mt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Fv(e,r,t);return Lv(e,r),e},Wh=mt&&mt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mt,"__esModule",{value:!0});var $v=Wh(K()),jv=E(),qr=rt(),Bv=Wh(Au()),qh=Yv(Gt()),Gv=new RegExp("(jetzt|heute|morgen|\xFCbermorgen|uebermorgen|gestern|vorgestern|letzte\\s*nacht)(?:\\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht))?(?=\\W|$)","i"),Hv=1,zv=2,ku=class extends jv.AbstractParserWithWordBoundaryChecking{innerPattern(e){return Gv}innerExtract(e,t){let n=$v.default(e.refDate),i=(t[Hv]||"").toLowerCase(),s=(t[zv]||"").toLowerCase(),a=e.createParsingComponents();switch(i){case"jetzt":a=qh.now(e.reference);break;case"heute":a=qh.today(e.reference);break;case"morgen":qr.assignTheNextDay(a,n);break;case"\xFCbermorgen":case"uebermorgen":n=n.add(1,"day"),qr.assignTheNextDay(a,n);break;case"gestern":n=n.add(-1,"day"),qr.assignSimilarDate(a,n),qr.implySimilarTime(a,n);break;case"vorgestern":n=n.add(-2,"day"),qr.assignSimilarDate(a,n),qr.implySimilarTime(a,n);break;default:i.match(/letzte\s*nacht/)&&(n.hour()>6&&(n=n.add(-1,"day")),qr.assignSimilarDate(a,n),a.imply("hour",0));break}return s&&(a=Bv.default.extractTimeComponents(a,s)),a}};mt.default=ku});var Gh=p(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});var Kv=Ce(),jh=Kn(),Bh=Kn(),Vv=Q(),Zv=E(),Xv=new RegExp(`(?:am\\s*?)?(?:den\\s*?)?([0-9]{1,2})\\.(?:\\s*(?:bis(?:\\s*(?:am|zum))?|\\-|\\\u2013|\\s)\\s*([0-9]{1,2})\\.?)?\\s*(${Vv.matchAnyPattern(jh.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${Bh.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Lh=1,Yh=2,Qv=3,$h=4,Nu=class extends Zv.AbstractParserWithWordBoundaryChecking{innerPattern(){return Xv}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=jh.MONTH_DICTIONARY[t[Qv].toLowerCase()],s=parseInt(t[Lh]);if(s>31)return t.index=t.index+t[Lh].length,null;if(n.start.assign("month",i),n.start.assign("day",s),t[$h]){let a=Bh.parseYear(t[$h]);n.start.assign("year",a)}else{let a=Kv.findYearClosestToRef(e.refDate,s,i);n.start.imply("year",a)}if(t[Yh]){let a=parseInt(t[Yh]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};Cu.default=Nu});var Hh=p(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});var Is=Kn(),Jv=ce(),eE=E(),tE=nt(),rE=Q(),Su=class extends eE.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:\\s*((?:n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?|vor|in)\\s*)?(${Is.NUMBER_PATTERN})?(?:\\s*(n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?)?\\s*(${rE.matchAnyPattern(Is.TIME_UNIT_DICTIONARY)})`,"i")}innerExtract(e,t){let n=t[2]?Is.parseNumberPattern(t[2]):1,i=Is.TIME_UNIT_DICTIONARY[t[4].toLowerCase()],s={};s[i]=n;let a=t[1]||t[3]||"";if(a=a.toLowerCase(),!!a)return(/vor/.test(a)||/letzte/.test(a)||/vergangen/.test(a))&&(s=tE.reverseTimeUnits(s)),Jv.ParsingComponents.createRelativeFromReference(e.reference,s)}};xu.default=Su});var Vh=p(Ee=>{"use strict";var yt=Ee&&Ee.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.createConfiguration=Ee.createCasualConfiguration=Ee.parseDate=Ee.parse=Ee.strict=Ee.casual=void 0;var nE=jt(),zh=ht(),iE=yt(Ir()),sE=yt(ru()),aE=yt(Mh()),oE=yt(kh()),uE=yt(xh()),lE=yt(Ih()),cE=yt(Uh()),dE=yt(Fh()),fE=yt(Au()),pE=yt(Gh()),hE=yt(Hh());Ee.casual=new zh.Chrono(Kh());Ee.strict=new zh.Chrono(Iu(!0));function mE(r,e,t){return Ee.casual.parse(r,e,t)}Ee.parse=mE;function yE(r,e,t){return Ee.casual.parseDate(r,e,t)}Ee.parseDate=yE;function Kh(r=!0){let e=Iu(!1,r);return e.parsers.unshift(new fE.default),e.parsers.unshift(new dE.default),e.parsers.unshift(new hE.default),e}Ee.createCasualConfiguration=Kh;function Iu(r=!0,e=!0){return nE.includeCommonConfiguration({parsers:[new sE.default,new iE.default(e),new aE.default,new uE.default,new pE.default,new oE.default],refiners:[new lE.default,new cE.default]},r)}Ee.createConfiguration=Iu});var Xh=p(gt=>{"use strict";var gE=gt&&gt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_E=gt&&gt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),TE=gt&&gt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&gE(e,r,t);return _E(e,r),e},bE=gt&&gt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gt,"__esModule",{value:!0});var vE=bE(K()),EE=_e(),RE=E(),Zh=rt(),Us=TE(Gt()),Uu=class extends RE.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(maintenant|aujourd'hui|demain|hier|cette\s*nuit|la\s*veille)(?=\W|$)/i}innerExtract(e,t){let n=vE.default(e.refDate),i=t[0].toLowerCase(),s=e.createParsingComponents();switch(i){case"maintenant":return Us.now(e.reference);case"aujourd'hui":return Us.today(e.reference);case"hier":return Us.yesterday(e.reference);case"demain":return Us.tomorrow(e.reference);default:i.match(/cette\s*nuit/)?(Zh.assignSimilarDate(s,n),s.imply("hour",22),s.imply("meridiem",EE.Meridiem.PM)):i.match(/la\s*veille/)&&(n=n.add(-1,"day"),Zh.assignSimilarDate(s,n),s.imply("hour",0))}return s}};gt.default=Uu});var Qh=p(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});var Jn=_e(),wE=E(),qu=class extends wE.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(cet?)?\s*(matin|soir|après-midi|aprem|a midi|à minuit)(?=\W|$)/i}innerExtract(e,t){let n=t[2].toLowerCase(),i=e.createParsingComponents();switch(n){case"apr\xE8s-midi":case"aprem":i.imply("hour",14),i.imply("minute",0),i.imply("meridiem",Jn.Meridiem.PM);break;case"soir":i.imply("hour",18),i.imply("minute",0),i.imply("meridiem",Jn.Meridiem.PM);break;case"matin":i.imply("hour",8),i.imply("minute",0),i.imply("meridiem",Jn.Meridiem.AM);break;case"a midi":i.imply("hour",12),i.imply("minute",0),i.imply("meridiem",Jn.Meridiem.AM);break;case"\xE0 minuit":i.imply("hour",0),i.imply("meridiem",Jn.Meridiem.AM);break}return i}};Wu.default=qu});var Jh=p(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});var ME=Cr(),Fu=class extends ME.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:[\xE0a])\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};Lu.default=Fu});var em=p(ei=>{"use strict";var DE=ei&&ei.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ei,"__esModule",{value:!0});var PE=DE($t()),Yu=class extends PE.default{patternBetween(){return new RegExp("^\\s*(T|\xE0|a|vers|de|,|-)?\\s*$")}};ei.default=Yu});var tm=p(ti=>{"use strict";var OE=ti&&ti.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ti,"__esModule",{value:!0});var AE=OE(Ot()),$u=class extends AE.default{patternBetween(){return/^\s*(à|a|-)\s*$/i}};ti.default=$u});var yr=p(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.parseTimeUnits=V.TIME_UNITS_PATTERN=V.parseYear=V.YEAR_PATTERN=V.parseOrdinalNumberPattern=V.ORDINAL_NUMBER_PATTERN=V.parseNumberPattern=V.NUMBER_PATTERN=V.TIME_UNIT_DICTIONARY=V.INTEGER_WORD_DICTIONARY=V.MONTH_DICTIONARY=V.WEEKDAY_DICTIONARY=void 0;var ju=Q();V.WEEKDAY_DICTIONARY={dimanche:0,dim:0,lundi:1,lun:1,mardi:2,mar:2,mercredi:3,mer:3,jeudi:4,jeu:4,vendredi:5,ven:5,samedi:6,sam:6};V.MONTH_DICTIONARY={janvier:1,jan:1,"jan.":1,f\u00E9vrier:2,f\u00E9v:2,"f\xE9v.":2,fevrier:2,fev:2,"fev.":2,mars:3,mar:3,"mar.":3,avril:4,avr:4,"avr.":4,mai:5,juin:6,jun:6,juillet:7,juil:7,jul:7,"jul.":7,ao\u00FBt:8,aout:8,septembre:9,sep:9,"sep.":9,sept:9,"sept.":9,octobre:10,oct:10,"oct.":10,novembre:11,nov:11,"nov.":11,d\u00E9cembre:12,decembre:12,dec:12,"dec.":12};V.INTEGER_WORD_DICTIONARY={un:1,deux:2,trois:3,quatre:4,cinq:5,six:6,sept:7,huit:8,neuf:9,dix:10,onze:11,douze:12,treize:13};V.TIME_UNIT_DICTIONARY={sec:"second",seconde:"second",secondes:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",heure:"hour",heures:"hour",jour:"d",jours:"d",semaine:"week",semaines:"week",mois:"month",trimestre:"quarter",trimestres:"quarter",ans:"year",ann\u00E9e:"year",ann\u00E9es:"year"};V.NUMBER_PATTERN=`(?:${ju.matchAnyPattern(V.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|une?\\b|quelques?|demi-?)`;function nm(r){let e=r.toLowerCase();return V.INTEGER_WORD_DICTIONARY[e]!==void 0?V.INTEGER_WORD_DICTIONARY[e]:e==="une"||e==="un"?1:e.match(/quelques?/)?3:e.match(/demi-?/)?.5:parseFloat(e)}V.parseNumberPattern=nm;V.ORDINAL_NUMBER_PATTERN="(?:[0-9]{1,2}(?:er)?)";function kE(r){let e=r.toLowerCase();return e=e.replace(/(?:er)$/i,""),parseInt(e)}V.parseOrdinalNumberPattern=kE;V.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:AC|AD|p\\.\\s*C(?:hr?)?\\.\\s*n\\.)|[1-2][0-9]{3}|[5-9][0-9])";function NE(r){if(/AC/i.test(r))return r=r.replace(/BC/i,""),-parseInt(r);if(/AD/i.test(r)||/C/i.test(r))return r=r.replace(/[^\d]+/i,""),parseInt(r);let e=parseInt(r);return e<100&&(e>50?e=e+1900:e=e+2e3),e}V.parseYear=NE;var im=`(${V.NUMBER_PATTERN})\\s{0,5}(${ju.matchAnyPattern(V.TIME_UNIT_DICTIONARY)})\\s{0,5}`,rm=new RegExp(im,"i");V.TIME_UNITS_PATTERN=ju.repeatedTimeunitPattern("",im);function CE(r){let e={},t=r,n=rm.exec(t);for(;n;)SE(e,n),t=t.substring(n[0].length),n=rm.exec(t);return e}V.parseTimeUnits=CE;function SE(r,e){let t=nm(e[1]),n=V.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var am=p(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});var sm=yr(),xE=Q(),IE=E(),UE=xr(),qE=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(?:ce)\\s*)?(${xE.matchAnyPattern(sm.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(dernier|prochain)\\s*)?(?=\\W|\\d|$)`,"i"),WE=1,FE=2,Bu=class extends IE.AbstractParserWithWordBoundaryChecking{innerPattern(){return qE}innerExtract(e,t){let n=t[WE].toLowerCase(),i=sm.WEEKDAY_DICTIONARY[n];if(i===void 0)return null;let s=t[FE];s=s||"",s=s.toLowerCase();let a=null;s=="dernier"?a="last":s=="prochain"&&(a="next");let o=UE.toDayJSWeekday(e.refDate,i,a);return e.createParsingComponents().assign("weekday",i).imply("day",o.date()).imply("month",o.month()+1).imply("year",o.year())}};Gu.default=Bu});var cm=p(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});var ri=_e(),LE=new RegExp("(^|\\s|T)(?:(?:[\xE0a])\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),YE=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),$E=2,om=3,um=4,lm=5,fn=class{pattern(e){return LE}extract(e,t){let n=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(n.text.match(/^\d{4}$/)||(n.start=fn.extractTimeComponent(n.start.clone(),t),!n.start))return t.index+=t[0].length,null;let i=e.text.substring(t.index+t[0].length),s=YE.exec(i);return s&&(n.end=fn.extractTimeComponent(n.start.clone(),s),n.end&&(n.text+=s[0])),n}static extractTimeComponent(e,t){let n=0,i=0,s=null;if(n=parseInt(t[$E]),t[om]!=null&&(i=parseInt(t[om])),i>=60||n>24)return null;if(n>=12&&(s=ri.Meridiem.PM),t[lm]!=null){if(n>12)return null;let a=t[lm][0].toLowerCase();a=="a"&&(s=ri.Meridiem.AM,n==12&&(n=0)),a=="p"&&(s=ri.Meridiem.PM,n!=12&&(n+=12))}if(e.assign("hour",n),e.assign("minute",i),s!==null?e.assign("meridiem",s):n<12?e.imply("meridiem",ri.Meridiem.AM):e.imply("meridiem",ri.Meridiem.PM),t[um]!=null){let a=parseInt(t[um]);if(a>=60)return null;e.assign("second",a)}return e}};Hu.default=fn});var ym=p(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});var jE=Ce(),hm=yr(),mm=yr(),qs=yr(),BE=Q(),GE=E(),HE=new RegExp(`(?:on\\s*?)?(${qs.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:au|\\-|\\\u2013|jusqu'au?|\\s)\\s*(${qs.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:de)?\\s*)(${BE.matchAnyPattern(hm.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${mm.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),dm=1,fm=2,zE=3,pm=4,zu=class extends GE.AbstractParserWithWordBoundaryChecking{innerPattern(){return HE}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=hm.MONTH_DICTIONARY[t[zE].toLowerCase()],s=qs.parseOrdinalNumberPattern(t[dm]);if(s>31)return t.index=t.index+t[dm].length,null;if(n.start.assign("month",i),n.start.assign("day",s),t[pm]){let a=mm.parseYear(t[pm]);n.start.assign("year",a)}else{let a=jE.findYearClosestToRef(e.refDate,s,i);n.start.imply("year",a)}if(t[fm]){let a=qs.parseOrdinalNumberPattern(t[fm]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};Ku.default=zu});var _m=p(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});var gm=yr(),KE=ce(),VE=E(),ZE=nt(),Vu=class extends VE.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`il y a\\s*(${gm.TIME_UNITS_PATTERN})(?=(?:\\W|$))`,"i")}innerExtract(e,t){let n=gm.parseTimeUnits(t[1]),i=ZE.reverseTimeUnits(n);return KE.ParsingComponents.createRelativeFromReference(e.reference,i)}};Zu.default=Vu});var bm=p(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});var Tm=yr(),XE=ce(),QE=E(),Xu=class extends QE.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp(`(?:dans|en|pour|pendant|de)\\s*(${Tm.TIME_UNITS_PATTERN})(?=\\W|$)`,"i")}innerExtract(e,t){let n=Tm.parseTimeUnits(t[1]);return XE.ParsingComponents.createRelativeFromReference(e.reference,n)}};Qu.default=Xu});var vm=p(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});var Ws=yr(),JE=ce(),e0=E(),t0=nt(),r0=Q(),Ju=class extends e0.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:les?|la|l'|du|des?)\\s*(${Ws.NUMBER_PATTERN})?(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?\\s*(${r0.matchAnyPattern(Ws.TIME_UNIT_DICTIONARY)})(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?`,"i")}innerExtract(e,t){let n=t[1]?Ws.parseNumberPattern(t[1]):1,i=Ws.TIME_UNIT_DICTIONARY[t[3].toLowerCase()],s={};s[i]=n;let a=t[2]||t[4]||"";if(a=a.toLowerCase(),!!a)return(/derni[eè]re?s?/.test(a)||/pass[ée]e?s?/.test(a)||/pr[ée]c[ée]dents?/.test(a))&&(s=t0.reverseTimeUnits(s)),JE.ParsingComponents.createRelativeFromReference(e.reference,s)}};el.default=Ju});var wm=p(Re=>{"use strict";var it=Re&&Re.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Re,"__esModule",{value:!0});Re.createConfiguration=Re.createCasualConfiguration=Re.parseDate=Re.parse=Re.strict=Re.casual=void 0;var n0=jt(),Em=ht(),i0=it(Xh()),s0=it(Qh()),a0=it(Ir()),o0=it(Jh()),u0=it(em()),l0=it(tm()),c0=it(am()),d0=it(cm()),f0=it(ym()),p0=it(_m()),h0=it(bm()),m0=it(vm());Re.casual=new Em.Chrono(Rm());Re.strict=new Em.Chrono(tl(!0));function y0(r,e,t){return Re.casual.parse(r,e,t)}Re.parse=y0;function g0(r,e,t){return Re.casual.parseDate(r,e,t)}Re.parseDate=g0;function Rm(r=!0){let e=tl(!1,r);return e.parsers.unshift(new i0.default),e.parsers.unshift(new s0.default),e.parsers.unshift(new m0.default),e}Re.createCasualConfiguration=Rm;function tl(r=!0,e=!0){return n0.includeCommonConfiguration({parsers:[new a0.default(e),new f0.default,new o0.default,new d0.default,new p0.default,new h0.default,new c0.default],refiners:[new u0.default,new l0.default]},r)}Re.createConfiguration=tl});var Mm=p(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.toHankaku=void 0;function _0(r){return String(r).replace(/\u2019/g,"'").replace(/\u201D/g,'"').replace(/\u3000/g," ").replace(/\uFFE5/g,"\xA5").replace(/[\uFF01\uFF03-\uFF06\uFF08\uFF09\uFF0C-\uFF19\uFF1C-\uFF1F\uFF21-\uFF3B\uFF3D\uFF3F\uFF41-\uFF5B\uFF5D\uFF5E]/g,T0)}Fs.toHankaku=_0;function T0(r){return String.fromCharCode(r.charCodeAt(0)-65248)}});var Pm=p(ni=>{"use strict";var b0=ni&&ni.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ni,"__esModule",{value:!0});var rl=Mm(),v0=Ce(),E0=b0(K()),R0=/(?:(?:([同今本])|((昭和|平成|令和)?([0-9０-９]{1,4}|元)))年\s*)?([0-9０-９]{1,2})月\s*([0-9０-９]{1,2})日/i,Dm=1,w0=2,nl=3,M0=4,D0=5,P0=6,il=class{pattern(){return R0}extract(e,t){let n=parseInt(rl.toHankaku(t[D0])),i=parseInt(rl.toHankaku(t[P0])),s=e.createParsingComponents({day:i,month:n});if(t[Dm]&&t[Dm].match("\u540C|\u4ECA|\u672C")){let a=E0.default(e.refDate);s.assign("year",a.year())}if(t[w0]){let a=t[M0],o=a=="\u5143"?1:parseInt(rl.toHankaku(a));t[nl]=="\u4EE4\u548C"?o+=2018:t[nl]=="\u5E73\u6210"?o+=1988:t[nl]=="\u662D\u548C"&&(o+=1925),s.assign("year",o)}else{let a=v0.findYearClosestToRef(e.refDate,i,n);s.imply("year",a)}return s}};ni.default=il});var Om=p(ii=>{"use strict";var O0=ii&&ii.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ii,"__esModule",{value:!0});var A0=O0(Ot()),sl=class extends A0.default{patternBetween(){return/^\s*(から|ー|-)\s*$/i}};ii.default=sl});var km=p(_t=>{"use strict";var k0=_t&&_t.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),N0=_t&&_t.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),C0=_t&&_t.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&k0(e,r,t);return N0(e,r),e},S0=_t&&_t.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_t,"__esModule",{value:!0});var x0=S0(K()),Am=_e(),al=C0(Gt()),I0=/今日|当日|昨日|明日|今夜|今夕|今晩|今朝/i,ol=class{pattern(){return I0}extract(e,t){let n=t[0],i=x0.default(e.refDate),s=e.createParsingComponents();switch(n){case"\u6628\u65E5":return al.yesterday(e.reference);case"\u660E\u65E5":return al.tomorrow(e.reference);case"\u4ECA\u65E5":case"\u5F53\u65E5":return al.today(e.reference)}return n=="\u4ECA\u591C"||n=="\u4ECA\u5915"||n=="\u4ECA\u6669"?(s.imply("hour",22),s.assign("meridiem",Am.Meridiem.PM)):n.match("\u4ECA\u671D")&&(s.imply("hour",6),s.assign("meridiem",Am.Meridiem.AM)),s.assign("day",i.date()),s.assign("month",i.month()+1),s.assign("year",i.year()),s}};_t.default=ol});var Sm=p(we=>{"use strict";var ul=we&&we.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(we,"__esModule",{value:!0});we.createConfiguration=we.createCasualConfiguration=we.parseDate=we.parse=we.strict=we.casual=void 0;var U0=ul(Pm()),q0=ul(Om()),W0=ul(km()),Nm=ht();we.casual=new Nm.Chrono(Cm());we.strict=new Nm.Chrono(ll());function F0(r,e,t){return we.casual.parse(r,e,t)}we.parse=F0;function L0(r,e,t){return we.casual.parseDate(r,e,t)}we.parseDate=L0;function Cm(){let r=ll();return r.parsers.unshift(new W0.default),r}we.createCasualConfiguration=Cm;function ll(){return{parsers:[new U0.default],refiners:[new q0.default]}}we.createConfiguration=ll});var Ls=p(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.parseYear=kt.YEAR_PATTERN=kt.MONTH_DICTIONARY=kt.WEEKDAY_DICTIONARY=void 0;kt.WEEKDAY_DICTIONARY={domingo:0,dom:0,segunda:1,"segunda-feira":1,seg:1,ter\u00E7a:2,"ter\xE7a-feira":2,ter:2,quarta:3,"quarta-feira":3,qua:3,quinta:4,"quinta-feira":4,qui:4,sexta:5,"sexta-feira":5,sex:5,s\u00E1bado:6,sabado:6,sab:6};kt.MONTH_DICTIONARY={janeiro:1,jan:1,"jan.":1,fevereiro:2,fev:2,"fev.":2,mar\u00E7o:3,mar:3,"mar.":3,abril:4,abr:4,"abr.":4,maio:5,mai:5,"mai.":5,junho:6,jun:6,"jun.":6,julho:7,jul:7,"jul.":7,agosto:8,ago:8,"ago.":8,setembro:9,set:9,"set.":9,outubro:10,out:10,"out.":10,novembro:11,nov:11,"nov.":11,dezembro:12,dez:12,"dez.":12};kt.YEAR_PATTERN="[0-9]{1,4}(?![^\\s]\\d)(?:\\s*[a|d]\\.?\\s*c\\.?|\\s*a\\.?\\s*d\\.?)?";function Y0(r){if(r.match(/^[0-9]{1,4}$/)){let e=parseInt(r);return e<100&&(e>50?e=e+1900:e=e+2e3),e}return r.match(/a\.?\s*c\.?/i)?(r=r.replace(/a\.?\s*c\.?/i,""),-parseInt(r)):parseInt(r)}kt.parseYear=Y0});var Im=p(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});var xm=Ls(),$0=Q(),j0=E(),B0=xr(),G0=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(este|esta|passado|pr[o\xF3]ximo)\\s*)?(${$0.matchAnyPattern(xm.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(este|esta|passado|pr[\xF3o]ximo)\\s*semana)?(?=\\W|\\d|$)`,"i"),H0=1,z0=2,K0=3,cl=class extends j0.AbstractParserWithWordBoundaryChecking{innerPattern(){return G0}innerExtract(e,t){let n=t[z0].toLowerCase(),i=xm.WEEKDAY_DICTIONARY[n];if(i===void 0)return null;let s=t[H0],a=t[K0],o=s||a||"";o=o.toLowerCase();let u=null;o=="passado"?u="this":o=="pr\xF3ximo"||o=="proximo"?u="next":o=="este"&&(u="this");let l=B0.toDayJSWeekday(e.refDate,i,u);return e.createParsingComponents().assign("weekday",i).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};dl.default=cl});var Um=p(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});var V0=Cr(),fl=class extends V0.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:ao?|\xE0s?|das|da|de|do)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|a(?:o)?|\\?)\\s*"}};pl.default=fl});var qm=p(si=>{"use strict";var Z0=si&&si.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(si,"__esModule",{value:!0});var X0=Z0($t()),hl=class extends X0.default{patternBetween(){return new RegExp("^\\s*(?:,|\xE0)?\\s*$")}};si.default=hl});var Wm=p(ai=>{"use strict";var Q0=ai&&ai.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ai,"__esModule",{value:!0});var J0=Q0(Ot()),ml=class extends J0.default{patternBetween(){return/^\s*(?:-)\s*$/i}};ai.default=ml});var Bm=p(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});var eR=Ce(),$m=Ls(),jm=Ls(),tR=Q(),rR=E(),nR=new RegExp(`([0-9]{1,2})(?:\xBA|\xAA|\xB0)?(?:\\s*(?:desde|de|\\-|\\\u2013|ao?|\\s)\\s*([0-9]{1,2})(?:\xBA|\xAA|\xB0)?)?\\s*(?:de)?\\s*(?:-|/|\\s*(?:de|,)?\\s*)(${tR.matchAnyPattern($m.MONTH_DICTIONARY)})(?:\\s*(?:de|,)?\\s*(${jm.YEAR_PATTERN}))?(?=\\W|$)`,"i"),Fm=1,Lm=2,iR=3,Ym=4,yl=class extends rR.AbstractParserWithWordBoundaryChecking{innerPattern(){return nR}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=$m.MONTH_DICTIONARY[t[iR].toLowerCase()],s=parseInt(t[Fm]);if(s>31)return t.index=t.index+t[Fm].length,null;if(n.start.assign("month",i),n.start.assign("day",s),t[Ym]){let a=jm.parseYear(t[Ym]);n.start.assign("year",a)}else{let a=eR.findYearClosestToRef(e.refDate,s,i);n.start.imply("year",a)}if(t[Lm]){let a=parseInt(t[Lm]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};gl.default=yl});var Gm=p(Ht=>{"use strict";var sR=Ht&&Ht.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),aR=Ht&&Ht.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),oR=Ht&&Ht.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&sR(e,r,t);return aR(e,r),e};Object.defineProperty(Ht,"__esModule",{value:!0});var uR=E(),Ys=oR(Gt()),_l=class extends uR.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(agora|hoje|amanha|amanhã|ontem)(?=\W|$)/i}innerExtract(e,t){let n=t[0].toLowerCase(),i=e.createParsingComponents();switch(n){case"agora":return Ys.now(e.reference);case"hoje":return Ys.today(e.reference);case"amanha":case"amanh\xE3":return Ys.tomorrow(e.reference);case"ontem":return Ys.yesterday(e.reference)}return i}};Ht.default=_l});var Hm=p(oi=>{"use strict";var lR=oi&&oi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(oi,"__esModule",{value:!0});var $s=_e(),cR=E(),dR=rt(),fR=lR(K()),Tl=class extends cR.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(?:esta\s*)?(manha|manhã|tarde|meia-noite|meio-dia|noite)(?=\W|$)/i}innerExtract(e,t){let n=fR.default(e.refDate),i=e.createParsingComponents();switch(t[1].toLowerCase()){case"tarde":i.imply("meridiem",$s.Meridiem.PM),i.imply("hour",15);break;case"noite":i.imply("meridiem",$s.Meridiem.PM),i.imply("hour",22);break;case"manha":case"manh\xE3":i.imply("meridiem",$s.Meridiem.AM),i.imply("hour",6);break;case"meia-noite":dR.assignTheNextDay(i,n),i.imply("hour",0),i.imply("minute",0),i.imply("second",0);break;case"meio-dia":i.imply("meridiem",$s.Meridiem.AM),i.imply("hour",12);break}return i}};oi.default=Tl});var Vm=p(Me=>{"use strict";var gr=Me&&Me.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Me,"__esModule",{value:!0});Me.createConfiguration=Me.createCasualConfiguration=Me.parseDate=Me.parse=Me.strict=Me.casual=void 0;var pR=jt(),zm=ht(),hR=gr(Ir()),mR=gr(Im()),yR=gr(Um()),gR=gr(qm()),_R=gr(Wm()),TR=gr(Bm()),bR=gr(Gm()),vR=gr(Hm());Me.casual=new zm.Chrono(Km());Me.strict=new zm.Chrono(bl(!0));function ER(r,e,t){return Me.casual.parse(r,e,t)}Me.parse=ER;function RR(r,e,t){return Me.casual.parseDate(r,e,t)}Me.parseDate=RR;function Km(r=!0){let e=bl(!1,r);return e.parsers.push(new bR.default),e.parsers.push(new vR.default),e}Me.createCasualConfiguration=Km;function bl(r=!0,e=!0){return pR.includeCommonConfiguration({parsers:[new hR.default(e),new mR.default,new yR.default,new TR.default],refiners:[new gR.default,new _R.default]},r)}Me.createConfiguration=bl});var Zm=p(ui=>{"use strict";var wR=ui&&ui.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ui,"__esModule",{value:!0});var MR=wR(Ot()),vl=class extends MR.default{patternBetween(){return/^\s*(tot|-)\s*$/i}};ui.default=vl});var Xm=p(li=>{"use strict";var DR=li&&li.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(li,"__esModule",{value:!0});var PR=DR($t()),El=class extends PR.default{patternBetween(){return new RegExp("^\\s*(om|na|voor|in de|,|-)?\\s*$")}};li.default=El});var Qm=p(zt=>{"use strict";var OR=zt&&zt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),AR=zt&&zt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kR=zt&&zt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&OR(e,r,t);return AR(e,r),e};Object.defineProperty(zt,"__esModule",{value:!0});var NR=E(),js=kR(Gt()),Rl=class extends NR.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(nu|vandaag|morgen|morgend|gisteren)(?=\W|$)/i}innerExtract(e,t){let n=t[0].toLowerCase(),i=e.createParsingComponents();switch(n){case"nu":return js.now(e.reference);case"vandaag":return js.today(e.reference);case"morgen":case"morgend":return js.tomorrow(e.reference);case"gisteren":return js.yesterday(e.reference)}return i}};zt.default=Rl});var Jm=p(ci=>{"use strict";var CR=ci&&ci.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ci,"__esModule",{value:!0});var Bs=_e(),SR=E(),xR=CR(K()),IR=rt(),UR=1,qR=2,wl=class extends SR.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(deze)?\s*(namiddag|avond|middernacht|ochtend|middag|'s middags|'s avonds|'s ochtends)(?=\W|$)/i}innerExtract(e,t){let n=xR.default(e.refDate),i=e.createParsingComponents();switch(t[UR]==="deze"&&(i.assign("day",e.refDate.getDate()),i.assign("month",e.refDate.getMonth()+1),i.assign("year",e.refDate.getFullYear())),t[qR].toLowerCase()){case"namiddag":case"'s namiddags":i.imply("meridiem",Bs.Meridiem.PM),i.imply("hour",15);break;case"avond":case"'s avonds'":i.imply("meridiem",Bs.Meridiem.PM),i.imply("hour",20);break;case"middernacht":IR.assignTheNextDay(i,n),i.imply("hour",0),i.imply("minute",0),i.imply("second",0);break;case"ochtend":case"'s ochtends":i.imply("meridiem",Bs.Meridiem.AM),i.imply("hour",6);break;case"middag":case"'s middags":i.imply("meridiem",Bs.Meridiem.AM),i.imply("hour",12);break}return i}};ci.default=wl});var Ve=p($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.parseTimeUnits=$.TIME_UNITS_PATTERN=$.parseYear=$.YEAR_PATTERN=$.parseOrdinalNumberPattern=$.ORDINAL_NUMBER_PATTERN=$.parseNumberPattern=$.NUMBER_PATTERN=$.TIME_UNIT_DICTIONARY=$.ORDINAL_WORD_DICTIONARY=$.INTEGER_WORD_DICTIONARY=$.MONTH_DICTIONARY=$.WEEKDAY_DICTIONARY=void 0;var Gs=Q(),WR=Ce();$.WEEKDAY_DICTIONARY={zondag:0,zon:0,"zon.":0,zo:0,"zo.":0,maandag:1,ma:1,"ma.":1,dinsdag:2,din:2,"din.":2,di:2,"di.":2,woensdag:3,woe:3,"woe.":3,wo:3,"wo.":3,donderdag:4,dond:4,"dond.":4,do:4,"do.":4,vrijdag:5,vrij:5,"vrij.":5,vr:5,"vr.":5,zaterdag:6,zat:6,"zat.":6,za:6,"za.":6};$.MONTH_DICTIONARY={januari:1,jan:1,"jan.":1,februari:2,feb:2,"feb.":2,maart:3,mar:3,"mar.":3,april:4,apr:4,"apr.":4,mei:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,augustus:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,december:12,dec:12,"dec.":12};$.INTEGER_WORD_DICTIONARY={een:1,twee:2,drie:3,vier:4,vijf:5,zes:6,zeven:7,acht:8,negen:9,tien:10,elf:11,twaalf:12};$.ORDINAL_WORD_DICTIONARY={eerste:1,tweede:2,derde:3,vierde:4,vijfde:5,zesde:6,zevende:7,achtste:8,negende:9,tiende:10,elfde:11,twaalfde:12,dertiende:13,veertiende:14,vijftiende:15,zestiende:16,zeventiende:17,achttiende:18,negentiende:19,twintigste:20,eenentwintigste:21,twee\u00EBntwintigste:22,drieentwintigste:23,vierentwintigste:24,vijfentwintigste:25,zesentwintigste:26,zevenentwintigste:27,achtentwintig:28,negenentwintig:29,dertigste:30,eenendertigste:31};$.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconden:"second",min:"minute",mins:"minute",minute:"minute",minuut:"minute",minuten:"minute",minuutje:"minute",h:"hour",hr:"hour",hrs:"hour",uur:"hour",u:"hour",uren:"hour",dag:"d",dagen:"d",week:"week",weken:"week",maand:"month",maanden:"month",jaar:"year",jr:"year",jaren:"year"};$.NUMBER_PATTERN=`(?:${Gs.matchAnyPattern($.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+[\\.,][0-9]+|halve?|half|paar)`;function ty(r){let e=r.toLowerCase();return $.INTEGER_WORD_DICTIONARY[e]!==void 0?$.INTEGER_WORD_DICTIONARY[e]:e==="paar"?2:e==="half"||e.match(/halve?/)?.5:parseFloat(e.replace(",","."))}$.parseNumberPattern=ty;$.ORDINAL_NUMBER_PATTERN=`(?:${Gs.matchAnyPattern($.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:ste|de)?)`;function FR(r){let e=r.toLowerCase();return $.ORDINAL_WORD_DICTIONARY[e]!==void 0?$.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:ste|de)$/i,""),parseInt(e))}$.parseOrdinalNumberPattern=FR;$.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:voor Christus|na Christus)|[1-2][0-9]{3}|[5-9][0-9])";function LR(r){if(/voor Christus/i.test(r))return r=r.replace(/voor Christus/i,""),-parseInt(r);if(/na Christus/i.test(r))return r=r.replace(/na Christus/i,""),parseInt(r);let e=parseInt(r);return WR.findMostLikelyADYear(e)}$.parseYear=LR;var ry=`(${$.NUMBER_PATTERN})\\s{0,5}(${Gs.matchAnyPattern($.TIME_UNIT_DICTIONARY)})\\s{0,5}`,ey=new RegExp(ry,"i");$.TIME_UNITS_PATTERN=Gs.repeatedTimeunitPattern("(?:(?:binnen|in)\\s*)?",ry);function YR(r){let e={},t=r,n=ey.exec(t);for(;n;)$R(e,n),t=t.substring(n[0].length),n=ey.exec(t);return e}$.parseTimeUnits=YR;function $R(r,e){let t=ty(e[1]),n=$.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var iy=p(Dl=>{"use strict";Object.defineProperty(Dl,"__esModule",{value:!0});var ny=Ve(),jR=ce(),BR=E(),Ml=class extends BR.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(?:binnen|in|binnen de|voor)\\s*("+ny.TIME_UNITS_PATTERN+")(?=\\W|$)","i")}innerExtract(e,t){let n=ny.parseTimeUnits(t[1]);return jR.ParsingComponents.createRelativeFromReference(e.reference,n)}};Dl.default=Ml});var ay=p(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});var sy=Ve(),GR=Q(),HR=E(),zR=xr(),KR=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:op\\s*?)?(?:(deze|vorige|volgende)\\s*(?:week\\s*)?)?(${GR.matchAnyPattern(sy.WEEKDAY_DICTIONARY)})(?=\\W|$)`,"i"),VR=1,ZR=2,XR=3,Pl=class extends HR.AbstractParserWithWordBoundaryChecking{innerPattern(){return KR}innerExtract(e,t){let n=t[ZR].toLowerCase(),i=sy.WEEKDAY_DICTIONARY[n],s=t[VR],a=t[XR],o=s||a;o=o||"",o=o.toLowerCase();let u=null;o=="vorige"?u="last":o=="volgende"?u="next":o=="deze"&&(u="this");let l=zR.toDayJSWeekday(e.refDate,i,u);return e.createParsingComponents().assign("weekday",i).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};Ol.default=Pl});var fy=p(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});var QR=Ce(),cy=Ve(),Hs=Ve(),dy=Ve(),JR=Q(),ew=E(),tw=new RegExp(`(?:on\\s*?)?(${Hs.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:tot|\\-|\\\u2013|until|through|till|\\s)\\s*(${Hs.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:of)?\\s*)(`+JR.matchAnyPattern(cy.MONTH_DICTIONARY)+`)(?:(?:-|/|,?\\s*)(${dy.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),rw=3,oy=1,uy=2,ly=4,Al=class extends ew.AbstractParserWithWordBoundaryChecking{innerPattern(){return tw}innerExtract(e,t){let n=cy.MONTH_DICTIONARY[t[rw].toLowerCase()],i=Hs.parseOrdinalNumberPattern(t[oy]);if(i>31)return t.index=t.index+t[oy].length,null;let s=e.createParsingComponents({day:i,month:n});if(t[ly]){let u=dy.parseYear(t[ly]);s.assign("year",u)}else{let u=QR.findYearClosestToRef(e.refDate,i,n);s.imply("year",u)}if(!t[uy])return s;let a=Hs.parseOrdinalNumberPattern(t[uy]),o=e.createParsingResult(t.index,t[0]);return o.start=s,o.end=s.clone(),o.end.assign("day",a),o}};kl.default=Al});var yy=p(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});var hy=Ve(),nw=Ce(),iw=Q(),my=Ve(),sw=E(),aw=new RegExp(`(${iw.matchAnyPattern(hy.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${my.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),ow=1,py=2,Nl=class extends sw.AbstractParserWithWordBoundaryChecking{innerPattern(){return aw}innerExtract(e,t){let n=e.createParsingComponents();n.imply("day",1);let i=t[ow],s=hy.MONTH_DICTIONARY[i.toLowerCase()];if(n.assign("month",s),t[py]){let a=my.parseYear(t[py]);n.assign("year",a)}else{let a=nw.findYearClosestToRef(e.refDate,1,s);n.imply("year",a)}return n}};Cl.default=Nl});var gy=p(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});var uw=E(),lw=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),cw=1,dw=2,Sl=class extends uw.AbstractParserWithWordBoundaryChecking{innerPattern(){return lw}innerExtract(e,t){let n=parseInt(t[dw]),i=parseInt(t[cw]);return e.createParsingComponents().imply("day",1).assign("month",i).assign("year",n)}};xl.default=Sl});var _y=p(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});var fw=Cr(),Il=class extends fw.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:om)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|om|\\?)\\s*"}primarySuffix(){return"(?:\\s*(?:uur))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};Ul.default=Il});var vy=p(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});var by=Ve(),pw=Q(),hw=E(),mw=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${pw.matchAnyPattern(by.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),yw=1,gw=2,Ty=3,_w=4,ql=class extends hw.AbstractParserWithWordBoundaryChecking{innerPattern(){return mw}innerExtract(e,t){let n=t[Ty]?parseInt(t[Ty]):by.MONTH_DICTIONARY[t[gw].toLowerCase()];if(n<1||n>12)return null;let i=parseInt(t[yw]);return{day:parseInt(t[_w]),month:n,year:i}}};Wl.default=ql});var Ey=p(di=>{"use strict";var Tw=di&&di.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(di,"__esModule",{value:!0});var bw=E(),zs=_e(),Fl=rt(),vw=Tw(K()),Ew=1,Rw=2,Ll=class extends bw.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(gisteren|morgen|van)(ochtend|middag|namiddag|avond|nacht)(?=\W|$)/i}innerExtract(e,t){let n=t[Ew].toLowerCase(),i=t[Rw].toLowerCase(),s=e.createParsingComponents(),a=vw.default(e.refDate);switch(n){case"gisteren":Fl.assignSimilarDate(s,a.add(-1,"day"));break;case"van":Fl.assignSimilarDate(s,a);break;case"morgen":Fl.assignTheNextDay(s,a);break}switch(i){case"ochtend":s.imply("meridiem",zs.Meridiem.AM),s.imply("hour",6);break;case"middag":s.imply("meridiem",zs.Meridiem.AM),s.imply("hour",12);break;case"namiddag":s.imply("meridiem",zs.Meridiem.PM),s.imply("hour",15);break;case"avond":s.imply("meridiem",zs.Meridiem.PM),s.imply("hour",20);break}return s}};di.default=Ll});var wy=p($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});var Ry=Ve(),ww=ce(),Mw=E(),Dw=nt(),Pw=new RegExp(`(deze|vorige|afgelopen|komende|over|\\+|-)\\s*(${Ry.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),Yl=class extends Mw.AbstractParserWithWordBoundaryChecking{innerPattern(){return Pw}innerExtract(e,t){let n=t[1].toLowerCase(),i=Ry.parseTimeUnits(t[2]);switch(n){case"vorige":case"afgelopen":case"-":i=Dw.reverseTimeUnits(i);break}return ww.ParsingComponents.createRelativeFromReference(e.reference,i)}};$l.default=Yl});var Py=p(fi=>{"use strict";var Ow=fi&&fi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fi,"__esModule",{value:!0});var Dy=Ve(),My=ce(),Aw=Ow(K()),kw=E(),Nw=Q(),Cw=new RegExp(`(dit|deze|komende|volgend|volgende|afgelopen|vorige)\\s*(${Nw.matchAnyPattern(Dy.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),Sw=1,xw=2,jl=class extends kw.AbstractParserWithWordBoundaryChecking{innerPattern(){return Cw}innerExtract(e,t){let n=t[Sw].toLowerCase(),i=t[xw].toLowerCase(),s=Dy.TIME_UNIT_DICTIONARY[i];if(n=="volgend"||n=="volgende"||n=="komende"){let u={};return u[s]=1,My.ParsingComponents.createRelativeFromReference(e.reference,u)}if(n=="afgelopen"||n=="vorige"){let u={};return u[s]=-1,My.ParsingComponents.createRelativeFromReference(e.reference,u)}let a=e.createParsingComponents(),o=Aw.default(e.reference.instant);return i.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):i.match(/maand/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):i.match(/jaar/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};fi.default=jl});var Oy=p(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});var Gl=Ve(),Iw=ce(),Uw=E(),qw=nt(),Ww=new RegExp("("+Gl.TIME_UNITS_PATTERN+")(?:geleden|voor|eerder)(?=(?:\\W|$))","i"),Fw=new RegExp("("+Gl.TIME_UNITS_PATTERN+")geleden(?=(?:\\W|$))","i"),Bl=class extends Uw.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?Fw:Ww}innerExtract(e,t){let n=Gl.parseTimeUnits(t[1]),i=qw.reverseTimeUnits(n);return Iw.ParsingComponents.createRelativeFromReference(e.reference,i)}};Hl.default=Bl});var Ay=p(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});var Kl=Ve(),Lw=ce(),Yw=E(),$w=new RegExp("("+Kl.TIME_UNITS_PATTERN+")(later|na|vanaf nu|voortaan|vooruit|uit)(?=(?:\\W|$))","i"),jw=new RegExp("("+Kl.TIME_UNITS_PATTERN+")(later|vanaf nu)(?=(?:\\W|$))","i"),Bw=1,zl=class extends Yw.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?jw:$w}innerExtract(e,t){let n=Kl.parseTimeUnits(t[Bw]);return Lw.ParsingComponents.createRelativeFromReference(e.reference,n)}};Vl.default=zl});var Sy=p(De=>{"use strict";var xe=De&&De.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(De,"__esModule",{value:!0});De.createConfiguration=De.createCasualConfiguration=De.parseDate=De.parse=De.strict=De.casual=void 0;var Gw=jt(),ky=ht(),Hw=xe(Zm()),zw=xe(Xm()),Kw=xe(Qm()),Vw=xe(Jm()),Zw=xe(Ir()),Xw=xe(iy()),Qw=xe(ay()),Jw=xe(fy()),Ny=xe(yy()),eM=xe(gy()),tM=xe(_y()),rM=xe(vy()),nM=xe(Ey()),iM=xe(wy()),sM=xe(Py()),aM=xe(Oy()),oM=xe(Ay());De.casual=new ky.Chrono(Cy());De.strict=new ky.Chrono(Zl(!0));function uM(r,e,t){return De.casual.parse(r,e,t)}De.parse=uM;function lM(r,e,t){return De.casual.parseDate(r,e,t)}De.parseDate=lM;function Cy(r=!0){let e=Zl(!1,r);return e.parsers.unshift(new Kw.default),e.parsers.unshift(new Vw.default),e.parsers.unshift(new nM.default),e.parsers.unshift(new Ny.default),e.parsers.unshift(new sM.default),e.parsers.unshift(new iM.default),e}De.createCasualConfiguration=Cy;function Zl(r=!0,e=!0){return Gw.includeCommonConfiguration({parsers:[new Zw.default(e),new Xw.default,new Jw.default,new Ny.default,new Qw.default,new rM.default,new eM.default,new tM.default(r),new aM.default(r),new oM.default(r)],refiners:[new zw.default,new Hw.default]},r)}De.createConfiguration=Zl});var qy=p(pi=>{"use strict";var cM=pi&&pi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pi,"__esModule",{value:!0});var dM=cM(K()),fM=E(),pM=1,xy=2,hM=3,Iy=4,Uy=5,mM=6,Xl=class extends fM.AbstractParserWithWordBoundaryChecking{innerPattern(e){return new RegExp("(\u800C\u5BB6|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(e,t){let n=t.index,i=e.createParsingResult(n,t[0]),s=dM.default(e.refDate),a=s;if(t[pM])i.start.imply("hour",s.hour()),i.start.imply("minute",s.minute()),i.start.imply("second",s.second()),i.start.imply("millisecond",s.millisecond());else if(t[xy]){let o=t[xy],u=t[hM];o=="\u660E"||o=="\u807D"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u5F8C"?a=a.add(2,"day"):o=="\u5927\u5F8C"&&(a=a.add(3,"day")),u=="\u65E9"||u=="\u671D"?i.start.imply("hour",6):u=="\u665A"&&(i.start.imply("hour",22),i.start.imply("meridiem",1))}else if(t[Iy]){let u=t[Iy][0];u=="\u65E9"||u=="\u671D"||u=="\u4E0A"?i.start.imply("hour",6):u=="\u4E0B"||u=="\u664F"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):u=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):u=="\u591C"||u=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):u=="\u51CC"&&i.start.imply("hour",0)}else if(t[Uy]){let o=t[Uy];o=="\u660E"||o=="\u807D"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u5F8C"?a=a.add(2,"day"):o=="\u5927\u5F8C"&&(a=a.add(3,"day"));let u=t[mM];if(u){let l=u[0];l=="\u65E9"||l=="\u671D"||l=="\u4E0A"?i.start.imply("hour",6):l=="\u4E0B"||l=="\u664F"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):l=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):l=="\u591C"||l=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):l=="\u51CC"&&i.start.imply("hour",0)}}return i.start.assign("day",a.date()),i.start.assign("month",a.month()+1),i.start.assign("year",a.year()),i}};pi.default=Xl});var pn=p(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.zhStringToYear=Be.zhStringToNumber=Be.WEEKDAY_OFFSET=Be.NUMBER=void 0;Be.NUMBER={\u96F6:0,\u4E00:1,\u4E8C:2,\u5169:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10,\u5EFF:20,\u5345:30};Be.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function yM(r){let e=0;for(let t=0;t<r.length;t++){let n=r[t];n==="\u5341"?e=e===0?Be.NUMBER[n]:e*Be.NUMBER[n]:e+=Be.NUMBER[n]}return e}Be.zhStringToNumber=yM;function gM(r){let e="";for(let t=0;t<r.length;t++){let n=r[t];e=e+Be.NUMBER[n]}return parseInt(e)}Be.zhStringToYear=gM});var Fy=p(hi=>{"use strict";var _M=hi&&hi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hi,"__esModule",{value:!0});var TM=_M(K()),bM=E(),Wr=pn(),Ql=1,Wy=2,Jl=3,ec=class extends bM.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(Wr.NUMBER).join("")+"]{4}|["+Object.keys(Wr.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(Wr.NUMBER).join("")+"]{1,2})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(Wr.NUMBER).join("")+"]{1,2})?(?:\\s*)(?:\u65E5|\u865F)?")}innerExtract(e,t){let n=TM.default(e.refDate),i=e.createParsingResult(t.index,t[0]),s=parseInt(t[Wy]);if(isNaN(s)&&(s=Wr.zhStringToNumber(t[Wy])),i.start.assign("month",s),t[Jl]){let a=parseInt(t[Jl]);isNaN(a)&&(a=Wr.zhStringToNumber(t[Jl])),i.start.assign("day",a)}else i.start.imply("day",n.date());if(t[Ql]){let a=parseInt(t[Ql]);isNaN(a)&&(a=Wr.zhStringToYear(t[Ql])),i.start.assign("year",a)}else i.start.imply("year",n.year());return i}};hi.default=ec});var Yy=p(mi=>{"use strict";var vM=mi&&mi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mi,"__esModule",{value:!0});var EM=vM(K()),RM=E(),Ly=pn(),wM=new RegExp("(\\d+|["+Object.keys(Ly.NUMBER).join("")+"]+|\u534A|\u5E7E)(?:\\s*)(?:\u500B)?(\u79D2(?:\u9418)?|\u5206\u9418|\u5C0F\u6642|\u9418|\u65E5|\u5929|\u661F\u671F|\u79AE\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u904E)?\u5F8C|(?:\u4E4B)?\u5167)","i"),tc=1,MM=2,rc=class extends RM.AbstractParserWithWordBoundaryChecking{innerPattern(){return wM}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=parseInt(t[tc]);if(isNaN(i)&&(i=Ly.zhStringToNumber(t[tc])),isNaN(i)){let u=t[tc];if(u==="\u5E7E")i=3;else if(u==="\u534A")i=.5;else return null}let s=EM.default(e.refDate),o=t[MM][0];return o.match(/[日天星禮月年]/)?(o=="\u65E5"||o=="\u5929"?s=s.add(i,"d"):o=="\u661F"||o=="\u79AE"?s=s.add(i*7,"d"):o=="\u6708"?s=s.add(i,"month"):o=="\u5E74"&&(s=s.add(i,"year")),n.start.assign("year",s.year()),n.start.assign("month",s.month()+1),n.start.assign("day",s.date()),n):(o=="\u79D2"?s=s.add(i,"second"):o=="\u5206"?s=s.add(i,"minute"):(o=="\u5C0F"||o=="\u9418")&&(s=s.add(i,"hour")),n.start.imply("year",s.year()),n.start.imply("month",s.month()+1),n.start.imply("day",s.date()),n.start.assign("hour",s.hour()),n.start.assign("minute",s.minute()),n.start.assign("second",s.second()),n)}};mi.default=rc});var jy=p(yi=>{"use strict";var DM=yi&&yi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yi,"__esModule",{value:!0});var PM=DM(K()),OM=E(),$y=pn(),AM=new RegExp("(?<prefix>\u4E0A|\u4ECA|\u4E0B|\u9019|\u5462)(?:\u500B)?(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys($y.WEEKDAY_OFFSET).join("|")+")"),nc=class extends OM.AbstractParserWithWordBoundaryChecking{innerPattern(){return AM}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=t.groups.weekday,s=$y.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=null,o=t.groups.prefix;o=="\u4E0A"?a="last":o=="\u4E0B"?a="next":(o=="\u4ECA"||o=="\u9019"||o=="\u5462")&&(a="this");let u=PM.default(e.refDate),l=!1,c=u.day();return a=="last"||a=="past"?(u=u.day(s-7),l=!0):a=="next"?(u=u.day(s+7),l=!0):a=="this"?u=u.day(s):Math.abs(s-7-c)<Math.abs(s-c)?u=u.day(s-7):Math.abs(s+7-c)<Math.abs(s-c)?u=u.day(s+7):u=u.day(s),n.start.assign("weekday",s),l?(n.start.assign("day",u.date()),n.start.assign("month",u.month()+1),n.start.assign("year",u.year())):(n.start.imply("day",u.date()),n.start.imply("month",u.month()+1),n.start.imply("year",u.year())),n}};yi.default=nc});var By=p(gi=>{"use strict";var kM=gi&&gi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gi,"__esModule",{value:!0});var NM=kM(K()),CM=E(),at=pn(),SM=new RegExp("(?:\u7531|\u5F9E|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(at.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(at.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(at.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),xM=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(at.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(at.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(at.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),Ks=1,Vs=2,Zs=3,Xs=4,Qs=5,Js=6,st=7,hn=8,ea=9,ic=class extends CM.AbstractParserWithWordBoundaryChecking{innerPattern(){return SM}innerExtract(e,t){if(t.index>0&&e.text[t.index-1].match(/\w/))return null;let n=NM.default(e.refDate),i=e.createParsingResult(t.index,t[0]),s=n.clone();if(t[Ks]){var a=t[Ks];a=="\u660E"||a=="\u807D"?n.hour()>1&&s.add(1,"day"):a=="\u6628"||a=="\u5C0B"||a=="\u7434"?s.add(-1,"day"):a=="\u524D"?s.add(-2,"day"):a=="\u5927\u524D"?s.add(-3,"day"):a=="\u5F8C"?s.add(2,"day"):a=="\u5927\u5F8C"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else if(t[Xs]){var o=t[Xs];o=="\u660E"||o=="\u807D"?s.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?s.add(-1,"day"):o=="\u524D"?s.add(-2,"day"):o=="\u5927\u524D"?s.add(-3,"day"):o=="\u5F8C"?s.add(2,"day"):o=="\u5927\u5F8C"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else i.start.imply("day",s.date()),i.start.imply("month",s.month()+1),i.start.imply("year",s.year());let u=0,l=0,c=-1;if(t[hn]){var d=parseInt(t[hn]);if(isNaN(d)&&(d=at.zhStringToNumber(t[hn])),d>=60)return null;i.start.assign("second",d)}if(u=parseInt(t[Js]),isNaN(u)&&(u=at.zhStringToNumber(t[Js])),t[st]?t[st]=="\u534A"?l=30:t[st]=="\u6B63"||t[st]=="\u6574"?l=0:(l=parseInt(t[st]),isNaN(l)&&(l=at.zhStringToNumber(t[st]))):u>100&&(l=u%100,u=Math.floor(u/100)),l>=60||u>24)return null;if(u>=12&&(c=1),t[ea]){if(u>12)return null;var f=t[ea][0].toLowerCase();f=="a"&&(c=0,u==12&&(u=0)),f=="p"&&(c=1,u!=12&&(u+=12))}else if(t[Vs]){var h=t[Vs],m=h[0];m=="\u671D"||m=="\u65E9"?(c=0,u==12&&(u=0)):m=="\u665A"&&(c=1,u!=12&&(u+=12))}else if(t[Zs]){var y=t[Zs],g=y[0];g=="\u4E0A"||g=="\u671D"||g=="\u65E9"||g=="\u51CC"?(c=0,u==12&&(u=0)):(g=="\u4E0B"||g=="\u664F"||g=="\u665A")&&(c=1,u!=12&&(u+=12))}else if(t[Qs]){var O=t[Qs],S=O[0];S=="\u4E0A"||S=="\u671D"||S=="\u65E9"||S=="\u51CC"?(c=0,u==12&&(u=0)):(S=="\u4E0B"||S=="\u664F"||S=="\u665A")&&(c=1,u!=12&&(u+=12))}if(i.start.assign("hour",u),i.start.assign("minute",l),c>=0?i.start.assign("meridiem",c):u<12?i.start.imply("meridiem",0):i.start.imply("meridiem",1),t=xM.exec(e.text.substring(i.index+i.text.length)),!t)return i.text.match(/^\d+$/)?null:i;let N=s.clone();if(i.end=e.createParsingComponents(),t[Ks]){var a=t[Ks];a=="\u660E"||a=="\u807D"?n.hour()>1&&N.add(1,"day"):a=="\u6628"||a=="\u5C0B"||a=="\u7434"?N.add(-1,"day"):a=="\u524D"?N.add(-2,"day"):a=="\u5927\u524D"?N.add(-3,"day"):a=="\u5F8C"?N.add(2,"day"):a=="\u5927\u5F8C"&&N.add(3,"day"),i.end.assign("day",N.date()),i.end.assign("month",N.month()+1),i.end.assign("year",N.year())}else if(t[Xs]){var o=t[Xs];o=="\u660E"||o=="\u807D"?N.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?N.add(-1,"day"):o=="\u524D"?N.add(-2,"day"):o=="\u5927\u524D"?N.add(-3,"day"):o=="\u5F8C"?N.add(2,"day"):o=="\u5927\u5F8C"&&N.add(3,"day"),i.end.assign("day",N.date()),i.end.assign("month",N.month()+1),i.end.assign("year",N.year())}else i.end.imply("day",N.date()),i.end.imply("month",N.month()+1),i.end.imply("year",N.year());if(u=0,l=0,c=-1,t[hn]){var d=parseInt(t[hn]);if(isNaN(d)&&(d=at.zhStringToNumber(t[hn])),d>=60)return null;i.end.assign("second",d)}if(u=parseInt(t[Js]),isNaN(u)&&(u=at.zhStringToNumber(t[Js])),t[st]?t[st]=="\u534A"?l=30:t[st]=="\u6B63"||t[st]=="\u6574"?l=0:(l=parseInt(t[st]),isNaN(l)&&(l=at.zhStringToNumber(t[st]))):u>100&&(l=u%100,u=Math.floor(u/100)),l>=60||u>24)return null;if(u>=12&&(c=1),t[ea]){if(u>12)return null;var f=t[ea][0].toLowerCase();f=="a"&&(c=0,u==12&&(u=0)),f=="p"&&(c=1,u!=12&&(u+=12)),i.start.isCertain("meridiem")||(c==0?(i.start.imply("meridiem",0),i.start.get("hour")==12&&i.start.assign("hour",0)):(i.start.imply("meridiem",1),i.start.get("hour")!=12&&i.start.assign("hour",i.start.get("hour")+12)))}else if(t[Vs]){var h=t[Vs],m=h[0];m=="\u671D"||m=="\u65E9"?(c=0,u==12&&(u=0)):m=="\u665A"&&(c=1,u!=12&&(u+=12))}else if(t[Zs]){var y=t[Zs],g=y[0];g=="\u4E0A"||g=="\u671D"||g=="\u65E9"||g=="\u51CC"?(c=0,u==12&&(u=0)):(g=="\u4E0B"||g=="\u664F"||g=="\u665A")&&(c=1,u!=12&&(u+=12))}else if(t[Qs]){var O=t[Qs],S=O[0];S=="\u4E0A"||S=="\u671D"||S=="\u65E9"||S=="\u51CC"?(c=0,u==12&&(u=0)):(S=="\u4E0B"||S=="\u664F"||S=="\u665A")&&(c=1,u!=12&&(u+=12))}return i.text=i.text+t[0],i.end.assign("hour",u),i.end.assign("minute",l),c>=0?i.end.assign("meridiem",c):i.start.isCertain("meridiem")&&i.start.get("meridiem")==1&&i.start.get("hour")>u?i.end.imply("meridiem",0):u>12&&i.end.imply("meridiem",1),i.end.date().getTime()<i.start.date().getTime()&&i.end.imply("day",i.end.get("day")+1),i}};gi.default=ic});var Hy=p(_i=>{"use strict";var IM=_i&&_i.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_i,"__esModule",{value:!0});var UM=IM(K()),qM=E(),Gy=pn(),WM=new RegExp("(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys(Gy.WEEKDAY_OFFSET).join("|")+")"),sc=class extends qM.AbstractParserWithWordBoundaryChecking{innerPattern(){return WM}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=t.groups.weekday,s=Gy.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=UM.default(e.refDate),o=!1,u=a.day();return Math.abs(s-7-u)<Math.abs(s-u)?a=a.day(s-7):Math.abs(s+7-u)<Math.abs(s-u)?a=a.day(s+7):a=a.day(s),n.start.assign("weekday",s),o?(n.start.assign("day",a.date()),n.start.assign("month",a.month()+1),n.start.assign("year",a.year())):(n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())),n}};_i.default=sc});var zy=p(Ti=>{"use strict";var FM=Ti&&Ti.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ti,"__esModule",{value:!0});var LM=FM(Ot()),ac=class extends LM.default{patternBetween(){return/^\s*(至|到|\-|\~|～|－|ー)\s*$/i}};Ti.default=ac});var Ky=p(bi=>{"use strict";var YM=bi&&bi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bi,"__esModule",{value:!0});var $M=YM($t()),oc=class extends $M.default{patternBetween(){return/^\s*$/i}};bi.default=oc});var Vy=p(me=>{"use strict";var Kt=me&&me.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(me,"__esModule",{value:!0});me.createConfiguration=me.createCasualConfiguration=me.parseDate=me.parse=me.strict=me.casual=me.hant=void 0;var uc=ht(),jM=Kt(ks()),BM=jt(),GM=Kt(qy()),HM=Kt(Fy()),zM=Kt(Yy()),KM=Kt(jy()),VM=Kt(By()),ZM=Kt(Hy()),XM=Kt(zy()),QM=Kt(Ky());me.hant=new uc.Chrono(lc());me.casual=new uc.Chrono(lc());me.strict=new uc.Chrono(cc());function JM(r,e,t){return me.casual.parse(r,e,t)}me.parse=JM;function eD(r,e,t){return me.casual.parseDate(r,e,t)}me.parseDate=eD;function lc(){let r=cc();return r.parsers.unshift(new GM.default),r}me.createCasualConfiguration=lc;function cc(){let r=BM.includeCommonConfiguration({parsers:[new HM.default,new KM.default,new ZM.default,new VM.default,new zM.default],refiners:[new XM.default,new QM.default]});return r.refiners=r.refiners.filter(e=>!(e instanceof jM.default)),r}me.createConfiguration=cc});var Jy=p(vi=>{"use strict";var tD=vi&&vi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vi,"__esModule",{value:!0});var rD=tD(K()),nD=E(),iD=1,Zy=2,sD=3,Xy=4,Qy=5,aD=6,dc=class extends nD.AbstractParserWithWordBoundaryChecking{innerPattern(e){return new RegExp("(\u73B0\u5728|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(e,t){let n=t.index,i=e.createParsingResult(n,t[0]),s=rD.default(e.refDate),a=s;if(t[iD])i.start.imply("hour",s.hour()),i.start.imply("minute",s.minute()),i.start.imply("second",s.second()),i.start.imply("millisecond",s.millisecond());else if(t[Zy]){let o=t[Zy],u=t[sD];o=="\u660E"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u540E"?a=a.add(2,"day"):o=="\u5927\u540E"&&(a=a.add(3,"day")),u=="\u65E9"?i.start.imply("hour",6):u=="\u665A"&&(i.start.imply("hour",22),i.start.imply("meridiem",1))}else if(t[Xy]){let u=t[Xy][0];u=="\u65E9"||u=="\u4E0A"?i.start.imply("hour",6):u=="\u4E0B"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):u=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):u=="\u591C"||u=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):u=="\u51CC"&&i.start.imply("hour",0)}else if(t[Qy]){let o=t[Qy];o=="\u660E"?s.hour()>1&&(a=a.add(1,"day")):o=="\u6628"?a=a.add(-1,"day"):o=="\u524D"?a=a.add(-2,"day"):o=="\u5927\u524D"?a=a.add(-3,"day"):o=="\u540E"?a=a.add(2,"day"):o=="\u5927\u540E"&&(a=a.add(3,"day"));let u=t[aD];if(u){let l=u[0];l=="\u65E9"||l=="\u4E0A"?i.start.imply("hour",6):l=="\u4E0B"?(i.start.imply("hour",15),i.start.imply("meridiem",1)):l=="\u4E2D"?(i.start.imply("hour",12),i.start.imply("meridiem",1)):l=="\u591C"||l=="\u665A"?(i.start.imply("hour",22),i.start.imply("meridiem",1)):l=="\u51CC"&&i.start.imply("hour",0)}}return i.start.assign("day",a.date()),i.start.assign("month",a.month()+1),i.start.assign("year",a.year()),i}};vi.default=dc});var mn=p(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.zhStringToYear=Ge.zhStringToNumber=Ge.WEEKDAY_OFFSET=Ge.NUMBER=void 0;Ge.NUMBER={\u96F6:0,"\u3007":0,\u4E00:1,\u4E8C:2,\u4E24:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10};Ge.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function oD(r){let e=0;for(let t=0;t<r.length;t++){let n=r[t];n==="\u5341"?e=e===0?Ge.NUMBER[n]:e*Ge.NUMBER[n]:e+=Ge.NUMBER[n]}return e}Ge.zhStringToNumber=oD;function uD(r){let e="";for(let t=0;t<r.length;t++){let n=r[t];e=e+Ge.NUMBER[n]}return parseInt(e)}Ge.zhStringToYear=uD});var tg=p(Ei=>{"use strict";var lD=Ei&&Ei.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ei,"__esModule",{value:!0});var cD=lD(K()),dD=E(),Fr=mn(),fc=1,eg=2,pc=3,hc=class extends dD.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(Fr.NUMBER).join("")+"]{4}|["+Object.keys(Fr.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(Fr.NUMBER).join("")+"]{1,3})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(Fr.NUMBER).join("")+"]{1,3})?(?:\\s*)(?:\u65E5|\u53F7)?")}innerExtract(e,t){let n=cD.default(e.refDate),i=e.createParsingResult(t.index,t[0]),s=parseInt(t[eg]);if(isNaN(s)&&(s=Fr.zhStringToNumber(t[eg])),i.start.assign("month",s),t[pc]){let a=parseInt(t[pc]);isNaN(a)&&(a=Fr.zhStringToNumber(t[pc])),i.start.assign("day",a)}else i.start.imply("day",n.date());if(t[fc]){let a=parseInt(t[fc]);isNaN(a)&&(a=Fr.zhStringToYear(t[fc])),i.start.assign("year",a)}else i.start.imply("year",n.year());return i}};Ei.default=hc});var ng=p(Ri=>{"use strict";var fD=Ri&&Ri.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ri,"__esModule",{value:!0});var pD=fD(K()),hD=E(),rg=mn(),mD=new RegExp("(\\d+|["+Object.keys(rg.NUMBER).join("")+"]+|\u534A|\u51E0)(?:\\s*)(?:\u4E2A)?(\u79D2(?:\u949F)?|\u5206\u949F|\u5C0F\u65F6|\u949F|\u65E5|\u5929|\u661F\u671F|\u793C\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u8FC7)?\u540E|(?:\u4E4B)?\u5185)","i"),mc=1,yD=2,yc=class extends hD.AbstractParserWithWordBoundaryChecking{innerPattern(){return mD}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=parseInt(t[mc]);if(isNaN(i)&&(i=rg.zhStringToNumber(t[mc])),isNaN(i)){let u=t[mc];if(u==="\u51E0")i=3;else if(u==="\u534A")i=.5;else return null}let s=pD.default(e.refDate),o=t[yD][0];return o.match(/[日天星礼月年]/)?(o=="\u65E5"||o=="\u5929"?s=s.add(i,"d"):o=="\u661F"||o=="\u793C"?s=s.add(i*7,"d"):o=="\u6708"?s=s.add(i,"month"):o=="\u5E74"&&(s=s.add(i,"year")),n.start.assign("year",s.year()),n.start.assign("month",s.month()+1),n.start.assign("day",s.date()),n):(o=="\u79D2"?s=s.add(i,"second"):o=="\u5206"?s=s.add(i,"minute"):(o=="\u5C0F"||o=="\u949F")&&(s=s.add(i,"hour")),n.start.imply("year",s.year()),n.start.imply("month",s.month()+1),n.start.imply("day",s.date()),n.start.assign("hour",s.hour()),n.start.assign("minute",s.minute()),n.start.assign("second",s.second()),n)}};Ri.default=yc});var sg=p(wi=>{"use strict";var gD=wi&&wi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wi,"__esModule",{value:!0});var _D=gD(K()),TD=E(),ig=mn(),bD=new RegExp("(?<prefix>\u4E0A|\u4E0B|\u8FD9)(?:\u4E2A)?(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(ig.WEEKDAY_OFFSET).join("|")+")"),gc=class extends TD.AbstractParserWithWordBoundaryChecking{innerPattern(){return bD}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=t.groups.weekday,s=ig.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=null,o=t.groups.prefix;o=="\u4E0A"?a="last":o=="\u4E0B"?a="next":o=="\u8FD9"&&(a="this");let u=_D.default(e.refDate),l=!1,c=u.day();return a=="last"||a=="past"?(u=u.day(s-7),l=!0):a=="next"?(u=u.day(s+7),l=!0):a=="this"?u=u.day(s):Math.abs(s-7-c)<Math.abs(s-c)?u=u.day(s-7):Math.abs(s+7-c)<Math.abs(s-c)?u=u.day(s+7):u=u.day(s),n.start.assign("weekday",s),l?(n.start.assign("day",u.date()),n.start.assign("month",u.month()+1),n.start.assign("year",u.year())):(n.start.imply("day",u.date()),n.start.imply("month",u.month()+1),n.start.imply("year",u.year())),n}};wi.default=gc});var ag=p(Mi=>{"use strict";var vD=Mi&&Mi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mi,"__esModule",{value:!0});var ED=vD(K()),RD=E(),ut=mn(),wD=new RegExp("(?:\u4ECE|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(ut.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(ut.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(ut.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),MD=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(ut.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(ut.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(ut.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),ta=1,ra=2,na=3,ia=4,sa=5,aa=6,ot=7,yn=8,oa=9,_c=class extends RD.AbstractParserWithWordBoundaryChecking{innerPattern(){return wD}innerExtract(e,t){if(t.index>0&&e.text[t.index-1].match(/\w/))return null;let n=ED.default(e.refDate),i=e.createParsingResult(t.index,t[0]),s=n.clone();if(t[ta]){let c=t[ta];c=="\u660E"?n.hour()>1&&s.add(1,"day"):c=="\u6628"?s.add(-1,"day"):c=="\u524D"?s.add(-2,"day"):c=="\u5927\u524D"?s.add(-3,"day"):c=="\u540E"?s.add(2,"day"):c=="\u5927\u540E"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else if(t[ia]){let c=t[ia];c=="\u660E"?s.add(1,"day"):c=="\u6628"?s.add(-1,"day"):c=="\u524D"?s.add(-2,"day"):c=="\u5927\u524D"?s.add(-3,"day"):c=="\u540E"?s.add(2,"day"):c=="\u5927\u540E"&&s.add(3,"day"),i.start.assign("day",s.date()),i.start.assign("month",s.month()+1),i.start.assign("year",s.year())}else i.start.imply("day",s.date()),i.start.imply("month",s.month()+1),i.start.imply("year",s.year());let a=0,o=0,u=-1;if(t[yn]){let c=parseInt(t[yn]);if(isNaN(c)&&(c=ut.zhStringToNumber(t[yn])),c>=60)return null;i.start.assign("second",c)}if(a=parseInt(t[aa]),isNaN(a)&&(a=ut.zhStringToNumber(t[aa])),t[ot]?t[ot]=="\u534A"?o=30:t[ot]=="\u6B63"||t[ot]=="\u6574"?o=0:(o=parseInt(t[ot]),isNaN(o)&&(o=ut.zhStringToNumber(t[ot]))):a>100&&(o=a%100,a=Math.floor(a/100)),o>=60||a>24)return null;if(a>=12&&(u=1),t[oa]){if(a>12)return null;let c=t[oa][0].toLowerCase();c=="a"&&(u=0,a==12&&(a=0)),c=="p"&&(u=1,a!=12&&(a+=12))}else if(t[ra]){let d=t[ra][0];d=="\u65E9"?(u=0,a==12&&(a=0)):d=="\u665A"&&(u=1,a!=12&&(a+=12))}else if(t[na]){let d=t[na][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(u=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(u=1,a!=12&&(a+=12))}else if(t[sa]){let d=t[sa][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(u=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(u=1,a!=12&&(a+=12))}if(i.start.assign("hour",a),i.start.assign("minute",o),u>=0?i.start.assign("meridiem",u):a<12?i.start.imply("meridiem",0):i.start.imply("meridiem",1),t=MD.exec(e.text.substring(i.index+i.text.length)),!t)return i.text.match(/^\d+$/)?null:i;let l=s.clone();if(i.end=e.createParsingComponents(),t[ta]){let c=t[ta];c=="\u660E"?n.hour()>1&&l.add(1,"day"):c=="\u6628"?l.add(-1,"day"):c=="\u524D"?l.add(-2,"day"):c=="\u5927\u524D"?l.add(-3,"day"):c=="\u540E"?l.add(2,"day"):c=="\u5927\u540E"&&l.add(3,"day"),i.end.assign("day",l.date()),i.end.assign("month",l.month()+1),i.end.assign("year",l.year())}else if(t[ia]){let c=t[ia];c=="\u660E"?l.add(1,"day"):c=="\u6628"?l.add(-1,"day"):c=="\u524D"?l.add(-2,"day"):c=="\u5927\u524D"?l.add(-3,"day"):c=="\u540E"?l.add(2,"day"):c=="\u5927\u540E"&&l.add(3,"day"),i.end.assign("day",l.date()),i.end.assign("month",l.month()+1),i.end.assign("year",l.year())}else i.end.imply("day",l.date()),i.end.imply("month",l.month()+1),i.end.imply("year",l.year());if(a=0,o=0,u=-1,t[yn]){let c=parseInt(t[yn]);if(isNaN(c)&&(c=ut.zhStringToNumber(t[yn])),c>=60)return null;i.end.assign("second",c)}if(a=parseInt(t[aa]),isNaN(a)&&(a=ut.zhStringToNumber(t[aa])),t[ot]?t[ot]=="\u534A"?o=30:t[ot]=="\u6B63"||t[ot]=="\u6574"?o=0:(o=parseInt(t[ot]),isNaN(o)&&(o=ut.zhStringToNumber(t[ot]))):a>100&&(o=a%100,a=Math.floor(a/100)),o>=60||a>24)return null;if(a>=12&&(u=1),t[oa]){if(a>12)return null;let c=t[oa][0].toLowerCase();c=="a"&&(u=0,a==12&&(a=0)),c=="p"&&(u=1,a!=12&&(a+=12)),i.start.isCertain("meridiem")||(u==0?(i.start.imply("meridiem",0),i.start.get("hour")==12&&i.start.assign("hour",0)):(i.start.imply("meridiem",1),i.start.get("hour")!=12&&i.start.assign("hour",i.start.get("hour")+12)))}else if(t[ra]){let d=t[ra][0];d=="\u65E9"?(u=0,a==12&&(a=0)):d=="\u665A"&&(u=1,a!=12&&(a+=12))}else if(t[na]){let d=t[na][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(u=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(u=1,a!=12&&(a+=12))}else if(t[sa]){let d=t[sa][0];d=="\u4E0A"||d=="\u65E9"||d=="\u51CC"?(u=0,a==12&&(a=0)):(d=="\u4E0B"||d=="\u665A")&&(u=1,a!=12&&(a+=12))}return i.text=i.text+t[0],i.end.assign("hour",a),i.end.assign("minute",o),u>=0?i.end.assign("meridiem",u):i.start.isCertain("meridiem")&&i.start.get("meridiem")==1&&i.start.get("hour")>a?i.end.imply("meridiem",0):a>12&&i.end.imply("meridiem",1),i.end.date().getTime()<i.start.date().getTime()&&i.end.imply("day",i.end.get("day")+1),i}};Mi.default=_c});var ug=p(Di=>{"use strict";var DD=Di&&Di.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Di,"__esModule",{value:!0});var PD=DD(K()),OD=E(),og=mn(),AD=new RegExp("(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(og.WEEKDAY_OFFSET).join("|")+")"),Tc=class extends OD.AbstractParserWithWordBoundaryChecking{innerPattern(){return AD}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=t.groups.weekday,s=og.WEEKDAY_OFFSET[i];if(s===void 0)return null;let a=PD.default(e.refDate),o=!1,u=a.day();return Math.abs(s-7-u)<Math.abs(s-u)?a=a.day(s-7):Math.abs(s+7-u)<Math.abs(s-u)?a=a.day(s+7):a=a.day(s),n.start.assign("weekday",s),o?(n.start.assign("day",a.date()),n.start.assign("month",a.month()+1),n.start.assign("year",a.year())):(n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())),n}};Di.default=Tc});var lg=p(Pi=>{"use strict";var kD=Pi&&Pi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pi,"__esModule",{value:!0});var ND=kD(Ot()),bc=class extends ND.default{patternBetween(){return/^\s*(至|到|-|~|～|－|ー)\s*$/i}};Pi.default=bc});var cg=p(Oi=>{"use strict";var CD=Oi&&Oi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Oi,"__esModule",{value:!0});var SD=CD($t()),vc=class extends SD.default{patternBetween(){return/^\s*$/i}};Oi.default=vc});var dg=p(ye=>{"use strict";var Vt=ye&&ye.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ye,"__esModule",{value:!0});ye.createConfiguration=ye.createCasualConfiguration=ye.parseDate=ye.parse=ye.strict=ye.casual=ye.hans=void 0;var Ec=ht(),xD=Vt(ks()),ID=jt(),UD=Vt(Jy()),qD=Vt(tg()),WD=Vt(ng()),FD=Vt(sg()),LD=Vt(ag()),YD=Vt(ug()),$D=Vt(lg()),jD=Vt(cg());ye.hans=new Ec.Chrono(Rc());ye.casual=new Ec.Chrono(Rc());ye.strict=new Ec.Chrono(wc());function BD(r,e,t){return ye.casual.parse(r,e,t)}ye.parse=BD;function GD(r,e,t){return ye.casual.parseDate(r,e,t)}ye.parseDate=GD;function Rc(){let r=wc();return r.parsers.unshift(new UD.default),r}ye.createCasualConfiguration=Rc;function wc(){let r=ID.includeCommonConfiguration({parsers:[new qD.default,new FD.default,new YD.default,new LD.default,new WD.default],refiners:[new $D.default,new jD.default]});return r.refiners=r.refiners.filter(e=>!(e instanceof xD.default)),r}ye.createConfiguration=wc});var pg=p(Ze=>{"use strict";var fg=Ze&&Ze.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),HD=Ze&&Ze.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zD=Ze&&Ze.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&fg(e,r,t)},KD=Ze&&Ze.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&fg(e,r,t);return HD(e,r),e};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.hans=void 0;zD(Vy(),Ze);Ze.hans=KD(dg())});var He=p(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.parseTimeUnits=I.TIME_UNITS_PATTERN=I.parseYear=I.YEAR_PATTERN=I.parseOrdinalNumberPattern=I.ORDINAL_NUMBER_PATTERN=I.parseNumberPattern=I.NUMBER_PATTERN=I.TIME_UNIT_DICTIONARY=I.ORDINAL_WORD_DICTIONARY=I.INTEGER_WORD_DICTIONARY=I.MONTH_DICTIONARY=I.FULL_MONTH_NAME_DICTIONARY=I.WEEKDAY_DICTIONARY=I.REGEX_PARTS=void 0;var ua=Q(),VD=Ce();I.REGEX_PARTS={leftBoundary:"([^\\p{L}\\p{N}_]|^)",rightBoundary:"(?=[^\\p{L}\\p{N}_]|$)",flags:"iu"};I.WEEKDAY_DICTIONARY={\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435:0,\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u044F:0,\u0432\u0441\u043A:0,"\u0432\u0441\u043A.":0,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A:1,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A\u0430:1,\u043F\u043D:1,"\u043F\u043D.":1,\u0432\u0442\u043E\u0440\u043D\u0438\u043A:2,\u0432\u0442\u043E\u0440\u043D\u0438\u043A\u0430:2,\u0432\u0442:2,"\u0432\u0442.":2,\u0441\u0440\u0435\u0434\u0430:3,\u0441\u0440\u0435\u0434\u044B:3,\u0441\u0440\u0435\u0434\u0443:3,\u0441\u0440:3,"\u0441\u0440.":3,\u0447\u0435\u0442\u0432\u0435\u0440\u0433:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430:4,\u0447\u0442:4,"\u0447\u0442.":4,\u043F\u044F\u0442\u043D\u0438\u0446\u0430:5,\u043F\u044F\u0442\u043D\u0438\u0446\u0443:5,\u043F\u044F\u0442\u043D\u0438\u0446\u044B:5,\u043F\u0442:5,"\u043F\u0442.":5,\u0441\u0443\u0431\u0431\u043E\u0442\u0430:6,\u0441\u0443\u0431\u0431\u043E\u0442\u0443:6,\u0441\u0443\u0431\u0431\u043E\u0442\u044B:6,\u0441\u0431:6,"\u0441\u0431.":6};I.FULL_MONTH_NAME_DICTIONARY={\u044F\u043D\u0432\u0430\u0440\u044C:1,\u044F\u043D\u0432\u0430\u0440\u044F:1,\u044F\u043D\u0432\u0430\u0440\u0435:1,\u0444\u0435\u0432\u0440\u044F\u043B\u044C:2,\u0444\u0435\u0432\u0440\u044F\u043B\u044F:2,\u0444\u0435\u0432\u0440\u044F\u043B\u0435:2,\u043C\u0430\u0440\u0442:3,\u043C\u0430\u0440\u0442\u0430:3,\u043C\u0430\u0440\u0442\u0435:3,\u0430\u043F\u0440\u0435\u043B\u044C:4,\u0430\u043F\u0440\u0435\u043B\u044F:4,\u0430\u043F\u0440\u0435\u043B\u0435:4,\u043C\u0430\u0439:5,\u043C\u0430\u044F:5,\u043C\u0430\u0435:5,\u0438\u044E\u043D\u044C:6,\u0438\u044E\u043D\u044F:6,\u0438\u044E\u043D\u0435:6,\u0438\u044E\u043B\u044C:7,\u0438\u044E\u043B\u044F:7,\u0438\u044E\u043B\u0435:7,\u0430\u0432\u0433\u0443\u0441\u0442:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0430:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0435:8,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u0435:9,\u043E\u043A\u0442\u044F\u0431\u0440\u044C:10,\u043E\u043A\u0442\u044F\u0431\u0440\u044F:10,\u043E\u043A\u0442\u044F\u0431\u0440\u0435:10,\u043D\u043E\u044F\u0431\u0440\u044C:11,\u043D\u043E\u044F\u0431\u0440\u044F:11,\u043D\u043E\u044F\u0431\u0440\u0435:11,\u0434\u0435\u043A\u0430\u0431\u0440\u044C:12,\u0434\u0435\u043A\u0430\u0431\u0440\u044F:12,\u0434\u0435\u043A\u0430\u0431\u0440\u0435:12};I.MONTH_DICTIONARY=Object.assign(Object.assign({},I.FULL_MONTH_NAME_DICTIONARY),{\u044F\u043D\u0432:1,"\u044F\u043D\u0432.":1,\u0444\u0435\u0432:2,"\u0444\u0435\u0432.":2,\u043C\u0430\u0440:3,"\u043C\u0430\u0440.":3,\u0430\u043F\u0440:4,"\u0430\u043F\u0440.":4,\u0430\u0432\u0433:8,"\u0430\u0432\u0433.":8,\u0441\u0435\u043D:9,"\u0441\u0435\u043D.":9,\u043E\u043A\u0442:10,"\u043E\u043A\u0442.":10,\u043D\u043E\u044F:11,"\u043D\u043E\u044F.":11,\u0434\u0435\u043A:12,"\u0434\u0435\u043A.":12});I.INTEGER_WORD_DICTIONARY={\u043E\u0434\u0438\u043D:1,\u043E\u0434\u043D\u0430:1,\u043E\u0434\u043D\u043E\u0439:1,\u043E\u0434\u043D\u0443:1,\u0434\u0432\u0435:2,\u0434\u0432\u0430:2,\u0434\u0432\u0443\u0445:2,\u0442\u0440\u0438:3,\u0442\u0440\u0435\u0445:3,\u0442\u0440\u0451\u0445:3,\u0447\u0435\u0442\u044B\u0440\u0435:4,\u0447\u0435\u0442\u044B\u0440\u0435\u0445:4,\u0447\u0435\u0442\u044B\u0440\u0451\u0445:4,\u043F\u044F\u0442\u044C:5,\u043F\u044F\u0442\u0438:5,\u0448\u0435\u0441\u0442\u044C:6,\u0448\u0435\u0441\u0442\u0438:6,\u0441\u0435\u043C\u044C:7,\u0441\u0435\u043C\u0438:7,\u0432\u043E\u0441\u0435\u043C\u044C:8,\u0432\u043E\u0441\u0435\u043C\u044C\u043C\u0438:8,\u0434\u0435\u0432\u044F\u0442\u044C:9,\u0434\u0435\u0432\u044F\u0442\u0438:9,\u0434\u0435\u0441\u044F\u0442\u044C:10,\u0434\u0435\u0441\u044F\u0442\u0438:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u044C:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u0438:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u044C:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u0438:12};I.ORDINAL_WORD_DICTIONARY={\u043F\u0435\u0440\u0432\u043E\u0435:1,\u043F\u0435\u0440\u0432\u043E\u0433\u043E:1,\u0432\u0442\u043E\u0440\u043E\u0435:2,\u0432\u0442\u043E\u0440\u043E\u0433\u043E:2,\u0442\u0440\u0435\u0442\u044C\u0435:3,\u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E:3,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E:4,\u043F\u044F\u0442\u043E\u0435:5,\u043F\u044F\u0442\u043E\u0433\u043E:5,\u0448\u0435\u0441\u0442\u043E\u0435:6,\u0448\u0435\u0441\u0442\u043E\u0433\u043E:6,\u0441\u0435\u0434\u044C\u043C\u043E\u0435:7,\u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E:7,\u0432\u043E\u0441\u044C\u043C\u043E\u0435:8,\u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E:8,\u0434\u0435\u0432\u044F\u0442\u043E\u0435:9,\u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E:9,\u0434\u0435\u0441\u044F\u0442\u043E\u0435:10,\u0434\u0435\u0441\u044F\u0442\u043E\u0433\u043E:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:12,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:13,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:13,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:14,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:14,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:15,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:15,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:16,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:16,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:17,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:17,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:18,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:18,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:19,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:19,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0435:20,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:20,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0435":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0433\u043E":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0435":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0433\u043E":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0435":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0433\u043E":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0435":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0435":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0435":29,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E":29,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0435:30,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0433\u043E:30,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":31,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":31};I.TIME_UNIT_DICTIONARY={\u0441\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u044B:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0443:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0438:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0443:"second",\u043C\u0438\u043D:"minute",\u043C\u0438\u043D\u0443\u0442\u0430:"minute",\u043C\u0438\u043D\u0443\u0442:"minute",\u043C\u0438\u043D\u0443\u0442\u044B:"minute",\u043C\u0438\u043D\u0443\u0442\u0443:"minute",\u043C\u0438\u043D\u0443\u0442\u043E\u043A:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0438:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0443:"minute",\u0447\u0430\u0441:"hour",\u0447\u0430\u0441\u043E\u0432:"hour",\u0447\u0430\u0441\u0430:"hour",\u0447\u0430\u0441\u0443:"hour",\u0447\u0430\u0441\u0438\u043A\u043E\u0432:"hour",\u0447\u0430\u0441\u0438\u043A\u0430:"hour",\u0447\u0430\u0441\u0438\u043A\u0435:"hour",\u0447\u0430\u0441\u0438\u043A:"hour",\u0434\u0435\u043D\u044C:"d",\u0434\u043D\u044F:"d",\u0434\u043D\u0435\u0439:"d",\u0441\u0443\u0442\u043E\u043A:"d",\u0441\u0443\u0442\u043A\u0438:"d",\u043D\u0435\u0434\u0435\u043B\u044F:"week",\u043D\u0435\u0434\u0435\u043B\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u044E:"week",\u043D\u0435\u0434\u0435\u043B\u044C:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u0435\u043A:"week",\u043C\u0435\u0441\u044F\u0446:"month",\u043C\u0435\u0441\u044F\u0446\u0435:"month",\u043C\u0435\u0441\u044F\u0446\u0435\u0432:"month",\u043C\u0435\u0441\u044F\u0446\u0430:"month",\u043A\u0432\u0430\u0440\u0442\u0430\u043B:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u0435:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u043E\u0432:"quarter",\u0433\u043E\u0434:"year",\u0433\u043E\u0434\u0430:"year",\u0433\u043E\u0434\u0443:"year",\u0433\u043E\u0434\u043E\u0432:"year",\u043B\u0435\u0442:"year",\u0433\u043E\u0434\u0438\u043A:"year",\u0433\u043E\u0434\u0438\u043A\u0430:"year",\u0433\u043E\u0434\u0438\u043A\u043E\u0432:"year"};I.NUMBER_PATTERN=`(?:${ua.matchAnyPattern(I.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|\u043F\u043E\u043B|\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E|\u043F\u0430\u0440(?:\u044B|\u0443)|\\s{0,3})`;function mg(r){let e=r.toLowerCase();return I.INTEGER_WORD_DICTIONARY[e]!==void 0?I.INTEGER_WORD_DICTIONARY[e]:e.match(/несколько/)?3:e.match(/пол/)?.5:e.match(/пар/)?2:e===""?1:parseFloat(e)}I.parseNumberPattern=mg;I.ORDINAL_NUMBER_PATTERN=`(?:${ua.matchAnyPattern(I.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:\u0433\u043E|\u043E\u0433\u043E|\u0435|\u043E\u0435)?)`;function ZD(r){let e=r.toLowerCase();return I.ORDINAL_WORD_DICTIONARY[e]!==void 0?I.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}I.parseOrdinalNumberPattern=ZD;var Mc="(?:\\s+(?:\u0433\u043E\u0434\u0443|\u0433\u043E\u0434\u0430|\u0433\u043E\u0434|\u0433|\u0433.))?";I.YEAR_PATTERN=`(?:[1-9][0-9]{0,3}${Mc}\\s*(?:\u043D.\u044D.|\u0434\u043E \u043D.\u044D.|\u043D. \u044D.|\u0434\u043E \u043D. \u044D.)|[1-2][0-9]{3}${Mc}|[5-9][0-9]${Mc})`;function XD(r){if(/(год|года|г|г.)/i.test(r)&&(r=r.replace(/(год|года|г|г.)/i,"")),/(до н.э.|до н. э.)/i.test(r))return r=r.replace(/(до н.э.|до н. э.)/i,""),-parseInt(r);if(/(н. э.|н.э.)/i.test(r))return r=r.replace(/(н. э.|н.э.)/i,""),parseInt(r);let e=parseInt(r);return VD.findMostLikelyADYear(e)}I.parseYear=XD;var yg=`(${I.NUMBER_PATTERN})\\s{0,3}(${ua.matchAnyPattern(I.TIME_UNIT_DICTIONARY)})`,hg=new RegExp(yg,"i");I.TIME_UNITS_PATTERN=ua.repeatedTimeunitPattern("(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s{0,3})?",yg);function QD(r){let e={},t=r,n=hg.exec(t);for(;n;)JD(e,n),t=t.substring(n[0].length).trim(),n=hg.exec(t);return e}I.parseTimeUnits=QD;function JD(r,e){let t=mg(e[1]),n=I.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var _g=p(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});var Ai=He(),eP=ce(),tP=E(),gg=`(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s*(?:~\\s*)?)?(${Ai.TIME_UNITS_PATTERN})${Ai.REGEX_PARTS.rightBoundary}`,rP=new RegExp(`(?:\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435|\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0438)\\s*${gg}`,Ai.REGEX_PARTS.flags),nP=new RegExp(gg,"i"),Dc=class extends tP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ai.REGEX_PARTS.leftBoundary}innerPattern(e){return e.option.forwardDate?nP:rP}innerExtract(e,t){let n=Ai.parseTimeUnits(t[1]);return eP.ParsingComponents.createRelativeFromReference(e.reference,n)}};Pc.default=Dc});var Rg=p(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});var iP=Ce(),ki=He(),Eg=He(),la=He(),sP=Q(),aP=E(),oP=new RegExp(`(?:\u0441)?\\s*(${la.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:\u043F\u043E|-|\u2013|\u0434\u043E)?\\s{0,3}(${la.ORDINAL_NUMBER_PATTERN}))?(?:-|\\/|\\s{0,3}(?:of)?\\s{0,3})(${sP.matchAnyPattern(ki.MONTH_DICTIONARY)})(?:(?:-|\\/|,?\\s{0,3})(${Eg.YEAR_PATTERN}(?![^\\s]\\d)))?${ki.REGEX_PARTS.rightBoundary}`,ki.REGEX_PARTS.flags),Tg=1,bg=2,uP=3,vg=4,Oc=class extends aP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return ki.REGEX_PARTS.leftBoundary}innerPattern(){return oP}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),i=ki.MONTH_DICTIONARY[t[uP].toLowerCase()],s=la.parseOrdinalNumberPattern(t[Tg]);if(s>31)return t.index=t.index+t[Tg].length,null;if(n.start.assign("month",i),n.start.assign("day",s),t[vg]){let a=Eg.parseYear(t[vg]);n.start.assign("year",a)}else{let a=iP.findYearClosestToRef(e.refDate,s,i);n.start.imply("year",a)}if(t[bg]){let a=la.parseOrdinalNumberPattern(t[bg]);n.end=n.start.clone(),n.end.assign("day",a)}return n}};Ac.default=Oc});var Dg=p(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});var Ni=He(),lP=Ce(),cP=Q(),Mg=He(),dP=E(),fP=new RegExp(`((?:\u0432)\\s*)?(${cP.matchAnyPattern(Ni.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${Mg.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,Ni.REGEX_PARTS.flags),pP=2,wg=3,kc=class extends dP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ni.REGEX_PARTS.leftBoundary}innerPattern(){return fP}innerExtract(e,t){let n=t[pP].toLowerCase();if(t[0].length<=3&&!Ni.FULL_MONTH_NAME_DICTIONARY[n])return null;let i=e.createParsingResult(t.index,t.index+t[0].length);i.start.imply("day",1);let s=Ni.MONTH_DICTIONARY[n];if(i.start.assign("month",s),t[wg]){let a=Mg.parseYear(t[wg]);i.start.assign("year",a)}else{let a=lP.findYearClosestToRef(e.refDate,1,s);i.start.imply("year",a)}return i}};Nc.default=kc});var Og=p(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});var ca=_e(),hP=Cr(),Pg=He(),Cc=class extends hP.AbstractTimeExpressionParser{constructor(e){super(e)}patternFlags(){return Pg.REGEX_PARTS.flags}primaryPatternLeftBoundary(){return"(^|\\s|T|(?:[^\\p{L}\\p{N}_]))"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|\u0434\u043E|\u0438|\u043F\u043E|\\?)\\s*"}primaryPrefix(){return"(?:(?:\u0432|\u0441)\\s*)??"}primarySuffix(){return`(?:\\s*(?:\u0443\u0442\u0440\u0430|\u0432\u0435\u0447\u0435\u0440\u0430|\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F))?(?!\\/)${Pg.REGEX_PARTS.rightBoundary}`}extractPrimaryTimeComponents(e,t){let n=super.extractPrimaryTimeComponents(e,t);if(n){if(t[0].endsWith("\u0432\u0435\u0447\u0435\u0440\u0430")){let i=n.get("hour");i>=6&&i<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",ca.Meridiem.PM)):i<6&&n.assign("meridiem",ca.Meridiem.AM)}if(t[0].endsWith("\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F")){n.assign("meridiem",ca.Meridiem.PM);let i=n.get("hour");i>=0&&i<=6&&n.assign("hour",n.get("hour")+12)}t[0].endsWith("\u0443\u0442\u0440\u0430")&&(n.assign("meridiem",ca.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}};Sc.default=Cc});var Ag=p(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});var da=He(),mP=ce(),yP=E(),gP=nt(),_P=new RegExp(`(${da.TIME_UNITS_PATTERN})\\s{0,5}\u043D\u0430\u0437\u0430\u0434(?=(?:\\W|$))`,da.REGEX_PARTS.flags),xc=class extends yP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return da.REGEX_PARTS.leftBoundary}innerPattern(){return _P}innerExtract(e,t){let n=da.parseTimeUnits(t[1]),i=gP.reverseTimeUnits(n);return mP.ParsingComponents.createRelativeFromReference(e.reference,i)}};Ic.default=xc});var kg=p(Ci=>{"use strict";var TP=Ci&&Ci.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ci,"__esModule",{value:!0});var bP=TP(Ot()),Uc=class extends bP.default{patternBetween(){return/^\s*(и до|и по|до|по|-)\s*$/i}};Ci.default=Uc});var Ng=p(Si=>{"use strict";var vP=Si&&Si.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Si,"__esModule",{value:!0});var EP=vP($t()),qc=class extends EP.default{patternBetween(){return new RegExp("^\\s*(T|\u0432|,|-)?\\s*$")}};Si.default=qc});var Cg=p(Zt=>{"use strict";var RP=Zt&&Zt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wP=Zt&&Zt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),MP=Zt&&Zt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&RP(e,r,t);return wP(e,r),e};Object.defineProperty(Zt,"__esModule",{value:!0});var DP=E(),xi=MP(Gt()),Wc=He(),PP=new RegExp(`(?:\u0441|\u0441\u043E)?\\s*(\u0441\u0435\u0433\u043E\u0434\u043D\u044F|\u0432\u0447\u0435\u0440\u0430|\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430)${Wc.REGEX_PARTS.rightBoundary}`,Wc.REGEX_PARTS.flags),Fc=class extends DP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Wc.REGEX_PARTS.leftBoundary}innerPattern(e){return PP}innerExtract(e,t){let n=t[1].toLowerCase(),i=e.createParsingComponents();switch(n){case"\u0441\u0435\u0433\u043E\u0434\u043D\u044F":return xi.today(e.reference);case"\u0432\u0447\u0435\u0440\u0430":return xi.yesterday(e.reference);case"\u0437\u0430\u0432\u0442\u0440\u0430":return xi.tomorrow(e.reference);case"\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430":return xi.theDayAfter(e.reference,2);case"\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430":return xi.theDayBefore(e.reference,2)}return i}};Zt.default=Fc});var Sg=p(Tt=>{"use strict";var OP=Tt&&Tt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),AP=Tt&&Tt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kP=Tt&&Tt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&OP(e,r,t);return AP(e,r),e},NP=Tt&&Tt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Tt,"__esModule",{value:!0});var CP=E(),Lr=kP(Gt()),SP=rt(),xP=NP(K()),Lc=He(),IP=new RegExp(`(\u0441\u0435\u0439\u0447\u0430\u0441|\u043F\u0440\u043E\u0448\u043B\u044B\u043C\\s*\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u043F\u0440\u043E\u0448\u043B\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u0435\u0433\u043E\u0434\u043D\u044F\\s*\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u0438\u043C \u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u0434\u0435\u043D\u044C|\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u0432\u0435\u0447\u0435\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u043D\u043E\u0447\u044C)${Lc.REGEX_PARTS.rightBoundary}`,Lc.REGEX_PARTS.flags),Yc=class extends CP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Lc.REGEX_PARTS.leftBoundary}innerPattern(){return IP}innerExtract(e,t){let n=xP.default(e.refDate),i=t[0].toLowerCase(),s=e.createParsingComponents();if(i==="\u0441\u0435\u0439\u0447\u0430\u0441")return Lr.now(e.reference);if(i==="\u0432\u0435\u0447\u0435\u0440\u043E\u043C"||i==="\u0432\u0435\u0447\u0435\u0440\u0430")return Lr.evening(e.reference);if(i.endsWith("\u0443\u0442\u0440\u043E\u043C")||i.endsWith("\u0443\u0442\u0440\u0430"))return Lr.morning(e.reference);if(i.match(/в\s*полдень/))return Lr.noon(e.reference);if(i.match(/прошлой\s*ночью/))return Lr.lastNight(e.reference);if(i.match(/прошлым\s*вечером/))return Lr.yesterdayEvening(e.reference);if(i.match(/следующей\s*ночью/)){let a=n.hour()<22?1:2;n=n.add(a,"day"),SP.assignSimilarDate(s,n),s.imply("hour",0)}return i.match(/в\s*полночь/)||i.endsWith("\u043D\u043E\u0447\u044C\u044E")?Lr.midnight(e.reference):s}};Tt.default=Yc});var xg=p(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});var Ii=He(),UP=Q(),qP=E(),WP=xr(),FP=new RegExp(`(?:(?:,|\\(|\uFF08)\\s*)?(?:\u0432\\s*?)?(?:(\u044D\u0442\u0443|\u044D\u0442\u043E\u0442|\u043F\u0440\u043E\u0448\u043B\u044B\u0439|\u043F\u0440\u043E\u0448\u043B\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E)\\s*)?(${UP.matchAnyPattern(Ii.WEEKDAY_DICTIONARY)})(?:\\s*(?:,|\\)|\uFF09))?(?:\\s*\u043D\u0430\\s*(\u044D\u0442\u043E\u0439|\u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439)\\s*\u043D\u0435\u0434\u0435\u043B\u0435)?${Ii.REGEX_PARTS.rightBoundary}`,Ii.REGEX_PARTS.flags),LP=1,YP=2,$P=3,$c=class extends qP.AbstractParserWithWordBoundaryChecking{innerPattern(){return FP}patternLeftBoundary(){return Ii.REGEX_PARTS.leftBoundary}innerExtract(e,t){let n=t[YP].toLowerCase(),i=Ii.WEEKDAY_DICTIONARY[n],s=t[LP],a=t[$P],o=s||a;o=o||"",o=o.toLowerCase();let u=null;o=="\u043F\u0440\u043E\u0448\u043B\u044B\u0439"||o=="\u043F\u0440\u043E\u0448\u043B\u0443\u044E"||o=="\u043F\u0440\u043E\u0448\u043B\u043E\u0439"?u="last":o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439"||o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E"||o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||o=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E"?u="next":(o=="\u044D\u0442\u043E\u0442"||o=="\u044D\u0442\u0443"||o=="\u044D\u0442\u043E\u0439")&&(u="this");let l=WP.toDayJSWeekday(e.refDate,i,u);return e.createParsingComponents().assign("weekday",i).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};jc.default=$c});var Ug=p(qi=>{"use strict";var jP=qi&&qi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qi,"__esModule",{value:!0});var Ui=He(),Ig=ce(),BP=jP(K()),GP=E(),HP=Q(),zP=new RegExp(`(\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C|\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439|\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C|\u043D\u0430 \u044D\u0442\u043E\u0439|\u0432 \u044D\u0442\u043E\u043C)\\s*(${HP.matchAnyPattern(Ui.TIME_UNIT_DICTIONARY)})(?=\\s*)${Ui.REGEX_PARTS.rightBoundary}`,Ui.REGEX_PARTS.flags),KP=1,VP=2,Bc=class extends GP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ui.REGEX_PARTS.leftBoundary}innerPattern(){return zP}innerExtract(e,t){let n=t[KP].toLowerCase(),i=t[VP].toLowerCase(),s=Ui.TIME_UNIT_DICTIONARY[i];if(n=="\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||n=="\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C"){let u={};return u[s]=1,Ig.ParsingComponents.createRelativeFromReference(e.reference,u)}if(n=="\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C"||n=="\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439"){let u={};return u[s]=-1,Ig.ParsingComponents.createRelativeFromReference(e.reference,u)}let a=e.createParsingComponents(),o=BP.default(e.reference.instant);return s.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):s.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):s.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}};qi.default=Bc});var qg=p(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});var Wi=He(),ZP=ce(),XP=E(),QP=nt(),JP=new RegExp(`(\u044D\u0442\u0438|\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435|\u043F\u0440\u043E\u0448\u043B\u044B\u0435|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0435|\u043F\u043E\u0441\u043B\u0435|\u0447\u0435\u0440\u0435\u0437|\\+|-)\\s*(${Wi.TIME_UNITS_PATTERN})${Wi.REGEX_PARTS.rightBoundary}`,Wi.REGEX_PARTS.flags),Gc=class extends XP.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Wi.REGEX_PARTS.leftBoundary}innerPattern(){return JP}innerExtract(e,t){let n=t[1].toLowerCase(),i=Wi.parseTimeUnits(t[2]);switch(n){case"\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435":case"\u043F\u0440\u043E\u0448\u043B\u044B\u0435":case"-":i=QP.reverseTimeUnits(i);break}return ZP.ParsingComponents.createRelativeFromReference(e.reference,i)}};Hc.default=Gc});var Lg=p(Pe=>{"use strict";var Xe=Pe&&Pe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.createConfiguration=Pe.createCasualConfiguration=Pe.parseDate=Pe.parse=Pe.strict=Pe.casual=void 0;var eO=Xe(_g()),tO=Xe(Rg()),rO=Xe(Dg()),nO=Xe(Og()),iO=Xe(Ag()),sO=Xe(kg()),aO=Xe(Ng()),oO=jt(),uO=Xe(Cg()),lO=Xe(Sg()),cO=Xe(xg()),dO=Xe(Ug()),Wg=ht(),fO=Xe(Ir()),pO=Xe(qg());Pe.casual=new Wg.Chrono(Fg());Pe.strict=new Wg.Chrono(zc(!0));function hO(r,e,t){return Pe.casual.parse(r,e,t)}Pe.parse=hO;function mO(r,e,t){return Pe.casual.parseDate(r,e,t)}Pe.parseDate=mO;function Fg(){let r=zc(!1);return r.parsers.unshift(new uO.default),r.parsers.unshift(new lO.default),r.parsers.unshift(new rO.default),r.parsers.unshift(new dO.default),r.parsers.unshift(new pO.default),r}Pe.createCasualConfiguration=Fg;function zc(r=!0){return oO.includeCommonConfiguration({parsers:[new fO.default(!0),new eO.default,new tO.default,new cO.default,new nO.default(r),new iO.default],refiners:[new aO.default,new sO.default]},r)}Pe.createConfiguration=zc});var _e=p(q=>{"use strict";var yO=q&&q.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gO=q&&q.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_r=q&&q.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yO(e,r,t);return gO(e,r),e};Object.defineProperty(q,"__esModule",{value:!0});q.parseDate=q.parse=q.casual=q.strict=q.ru=q.zh=q.nl=q.pt=q.ja=q.fr=q.de=q.Meridiem=q.Chrono=q.en=void 0;var Kc=_r(du());q.en=Kc;var _O=ht();Object.defineProperty(q,"Chrono",{enumerable:!0,get:function(){return _O.Chrono}});var TO;(function(r){r[r.AM=0]="AM",r[r.PM=1]="PM"})(TO=q.Meridiem||(q.Meridiem={}));var bO=_r(Vh());q.de=bO;var vO=_r(wm());q.fr=vO;var EO=_r(Sm());q.ja=EO;var RO=_r(Vm());q.pt=RO;var wO=_r(Sy());q.nl=wO;var MO=_r(pg());q.zh=MO;var DO=_r(Lg());q.ru=DO;q.strict=Kc.strict;q.casual=Kc.casual;function PO(r,e,t){return q.casual.parse(r,e,t)}q.parse=PO;function OO(r,e,t){return q.casual.parseDate(r,e,t)}q.parseDate=OO});var Ct=p(vr=>{"use strict";vr.__esModule=!0;var UO;(function(r){r.AND="AND",r.OR="OR",r.XOR="XOR",r.NOT="NOT"})(UO=vr.Operators||(vr.Operators={}));var qO;(function(r){r.OPEN_PARENTHESIS="(",r.CLOSE_PARENTHESIS=")"})(qO=vr.StructuralCharacters||(vr.StructuralCharacters={}));var WO;(function(r){r.IDENTIFIER="IDENTIFIER",r.OPERATOR="OPERATOR",r.STRUCTURAL_CHARACTER="STRUCTURAL_CHARACTER",r.EOF="EOF",r.COMMENT="COMMENT"})(WO=vr.Tokens||(vr.Tokens={}))});var ld=p(Oa=>{"use strict";Oa.__esModule=!0;var de=Ct();Oa.OPERATOR_PRECEDENCE={NOT:0,XOR:1,AND:2,OR:3};Oa.VALID_TOKENS={identifierOnly:[{name:de.Tokens.IDENTIFIER},{name:de.Tokens.STRUCTURAL_CHARACTER,value:de.StructuralCharacters.OPEN_PARENTHESIS}],identifierOrNot:[{name:de.Tokens.IDENTIFIER},{name:de.Tokens.STRUCTURAL_CHARACTER,value:de.StructuralCharacters.OPEN_PARENTHESIS},{name:de.Tokens.OPERATOR,value:de.Operators.NOT}],binaryOperator:[{name:de.Tokens.OPERATOR,value:de.Operators.AND},{name:de.Tokens.OPERATOR,value:de.Operators.OR},{name:de.Tokens.OPERATOR,value:de.Operators.XOR}],binaryOperatorOrClose:[{name:de.Tokens.OPERATOR,value:de.Operators.AND},{name:de.Tokens.OPERATOR,value:de.Operators.OR},{name:de.Tokens.OPERATOR,value:de.Operators.XOR},{name:de.Tokens.STRUCTURAL_CHARACTER,value:de.StructuralCharacters.CLOSE_PARENTHESIS}]}});var cd=p(Qt=>{"use strict";Qt.__esModule=!0;var Tn=Ct();Qt.STRUCTURAL_CHARACTERS={"(":Tn.StructuralCharacters.OPEN_PARENTHESIS,")":Tn.StructuralCharacters.CLOSE_PARENTHESIS};Qt.OPERATORS={AND:Tn.Operators.AND,OR:Tn.Operators.OR,XOR:Tn.Operators.XOR,NOT:Tn.Operators.NOT};Qt.SEPARATORS=new Set([32,9,10,13].map(function(r){return String.fromCodePoint(r)}));Qt.QUOTED_IDENTIFIER_DELIMITER=String.fromCodePoint(34);Qt.COMMENT_DELIMITER=String.fromCodePoint(35);Qt.EOL=String.fromCodePoint(10);Qt.ESCAPE_CHARACTER=String.fromCodePoint(92)});var Xg=p(Jt=>{"use strict";var dd=Jt&&Jt.__assign||function(){return dd=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},dd.apply(this,arguments)};Jt.__esModule=!0;var Zg=Ct(),jr=cd();Jt.createResult=function(r,e,t){return{token:dd({name:r},e!==null?{value:e}:{}),remainingString:t}};Jt.getComment=function(r){for(var e=r.length,t=0;t<r.length;t+=1){var n=r[t];if(n===jr.EOL){e=t;break}}return Jt.createResult(Zg.Tokens.COMMENT,r.slice(0,e),r.slice(e+1))};Jt.getQuotedIdentifier=function(r){for(var e=!1,t="",n=null,i=0;i<r.length;i+=1){var s=r[i];if(n===null)s===jr.QUOTED_IDENTIFIER_DELIMITER?e?t=t.slice(-1)+jr.QUOTED_IDENTIFIER_DELIMITER:n=i:(s===jr.ESCAPE_CHARACTER?e=!0:e=!1,t=t+=s);else{if(!jr.SEPARATORS.has(s)&&!jr.STRUCTURAL_CHARACTERS[s])throw new Error("Unexpected character: "+s+" Expected ) character or separator");break}}if(n===null)throw new Error("Unexpected end of expression: expected "+jr.QUOTED_IDENTIFIER_DELIMITER+" character");return Jt.createResult(Zg.Tokens.IDENTIFIER,t,r.slice(n+1))}});var Qg=p(fd=>{"use strict";fd.__esModule=!0;var bn=Ct(),Qe=cd(),vn=Xg();fd.lex=function(r){for(var e=null,t=null,n=null,i=0;i<r.length;i+=1){var s=r[i];if(e===null){if(!Qe.SEPARATORS.has(s)){var a=Qe.STRUCTURAL_CHARACTERS[s];if(a){var o=r[i+1];if(a===bn.StructuralCharacters.CLOSE_PARENTHESIS&&o&&!Qe.SEPARATORS.has(o)&&o!==bn.StructuralCharacters.CLOSE_PARENTHESIS)throw new Error("Unexpected character: "+o+". A closing parenthesis should be followed by another closing parenthesis or whitespace");return vn.createResult(bn.Tokens.STRUCTURAL_CHARACTER,Qe.STRUCTURAL_CHARACTERS[s],r.slice(i+1))}if(s===Qe.QUOTED_IDENTIFIER_DELIMITER)return vn.getQuotedIdentifier(r.slice(i+1));if(s===Qe.COMMENT_DELIMITER)return vn.getComment(r.slice(i+1));e=i}}else if(Qe.SEPARATORS.has(s)||Qe.STRUCTURAL_CHARACTERS[s]){t=i,n=s;break}else if(s===Qe.QUOTED_IDENTIFIER_DELIMITER||s===Qe.COMMENT_DELIMITER)throw new Error("Unexpected character: "+s)}if(e!==null){t=t!=null?t:r.length;var u=r.slice(e,t),l=r.slice(t);if(Qe.OPERATORS[u]){if(n&&!Qe.SEPARATORS.has(n))throw new Error("Unexpected character: "+n+". Operators should be separated using whitespace");return vn.createResult(bn.Tokens.OPERATOR,Qe.OPERATORS[u],l)}else return vn.createResult(bn.Tokens.IDENTIFIER,u,l)}return vn.createResult(bn.Tokens.EOF,null,"")}});var Jg=p(er=>{"use strict";var FO=er&&er.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n};er.__esModule=!0;var LO=Qg(),En=Ct(),Aa=ld();er.newTokenGenerator=function(r){var e=r;return function(t,n){for(n===void 0&&(n=!1);;){var i=LO.lex(e),s=i.token,a=i.remainingString;if(e=a,s.name!==En.Tokens.COMMENT)return er.validateToken(s,t,n),s}}};er.getValue=function(r,e){var t=r(Aa.VALID_TOKENS.identifierOrNot),n=t.value===En.Operators.NOT;n&&(t=r(Aa.VALID_TOKENS.identifierOnly));var i=t.name===En.Tokens.STRUCTURAL_CHARACTER?e(r,!0):[t];return n?FO(i,[{name:En.Tokens.OPERATOR,value:En.Operators.NOT}]):i};er.previousOperatorTakesPrecedent=function(r,e){return Aa.OPERATOR_PRECEDENCE[r]<=Aa.OPERATOR_PRECEDENCE[e]};er.validateToken=function(r,e,t){if(t===void 0&&(t=!1),r.name===En.Tokens.EOF){if(t)return;throw new Error("Unexpected end of expression")}for(var n=0,i=e;n<i.length;n++){var s=i[n];if(s.name===r.name&&(!s.value||s.value===r.value))return}throw new TypeError("Invalid token")}});var hd=p(Vi=>{"use strict";var Rn=Vi&&Vi.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n};Vi.__esModule=!0;var e_=Ct(),t_=ld(),ka=Jg();Vi.parse=function(r){if(typeof r!="string")throw new Error("Expected string but received "+typeof r);var e=ka.newTokenGenerator(r);return pd(e)};var pd=function(r,e){e===void 0&&(e=!1);for(var t=Rn(ka.getValue(r,pd)),n=[];;){var i=e?t_.VALID_TOKENS.binaryOperatorOrClose:t_.VALID_TOKENS.binaryOperator,s=r(i,!e);if(s.name===e_.Tokens.EOF||s.name===e_.Tokens.STRUCTURAL_CHARACTER)return Rn(t,Rn(n).reverse());for(;n.length;){var a=n[n.length-1]||null;if(a&&ka.previousOperatorTakesPrecedent(a.value,s.value))t=Rn(t,[a]),n=n.slice(0,-1);else break}n=Rn(n,[s]),t=Rn(t,ka.getValue(r,pd))}}});var md=p(tr=>{"use strict";tr.__esModule=!0;var r_=Ct();tr.andUtil=function(r,e){return r&&e};tr.orUtil=function(r,e){return r||e};tr.xorUtil=function(r,e){return r!==e};tr.notUtil=function(r){return!r};tr.isIdentifier=function(r){var e=r.name,t=r.value;return e===r_.Tokens.IDENTIFIER&&typeof t=="string"};tr.isOperator=function(r){var e=r.name,t=r.value;return e===r_.Tokens.OPERATOR&&typeof t=="string"};tr.throwInvalidExpression=function(r){throw new TypeError("Invalid postfix expression: "+r)}});var n_=p(_d=>{"use strict";var Zi;_d.__esModule=!0;var yd=Ct(),gd=md();_d.OPERATOR_MAP=(Zi={},Zi[yd.Operators.AND]=gd.andUtil,Zi[yd.Operators.OR]=gd.orUtil,Zi[yd.Operators.XOR]=gd.xorUtil,Zi)});var s_=p(Gr=>{"use strict";var Td=Gr&&Gr.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),i=0,e=0;e<t;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n};Gr.__esModule=!0;var YO=hd(),i_=Ct(),$O=n_(),Br=md();Gr.getEvaluator=function(r){var e=YO.parse(r);return function(t){return Gr.evaluate(e,t)}};Gr.evaluate=function(r,e){if(!Array.isArray(r))throw new Error(r+" should be an array. evaluate takes in a parsed expression. Use in combination with parse or use getEvaluator");var t=r.reduce(function(n,i,s){if(!(i&&(Br.isIdentifier(i)||Br.isOperator(i))))throw new Error("Invalid token: "+i+". Found in parsed expression at index "+s);if(i.name===i_.Tokens.IDENTIFIER)return Td(n,[Boolean(e[i.value])]);var a=n[n.length-2],o=n[n.length-1];if(i.value===i_.Operators.NOT)return o===void 0&&Br.throwInvalidExpression("missing identifier"),Td(n.slice(0,-1),[Br.notUtil(o)]);(o===void 0||a===void 0)&&Br.throwInvalidExpression("missing identifier");var u=$O.OPERATOR_MAP[i.value];return u||Br.throwInvalidExpression("unknown operator"),Td(n.slice(0,-2),[u(a,o)])},[]);return t.length!==1&&Br.throwInvalidExpression("too many identifiers after evaluation"),t[0]}});var o_=p(Xi=>{"use strict";Xi.__esModule=!0;var a_=s_();Xi.getEvaluator=a_.getEvaluator;Xi.evaluate=a_.evaluate;var jO=hd();Xi.parse=jO.parse});var ZO={};b_(ZO,{default:()=>Ua});module.exports=v_(ZO);var f_=require("obsidian");var ms=require("obsidian");var QO=new Error("timeout while waiting for mutex to become available"),JO=new Error("mutex already locked"),E_=new Error("request for lock canceled"),Gd=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?s(c.value):i(c.value).then(o,u)}l((n=n.apply(r,e||[])).next())})},Ya=class{constructor(e,t=E_){if(this._maxConcurrency=e,this._cancelError=t,this._queue=[],this._waiters=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}acquire(){let e=this.isLocked(),t=new Promise((n,i)=>this._queue.push({resolve:n,reject:i}));return e||this._dispatch(),t}runExclusive(e){return Gd(this,void 0,void 0,function*(){let[t,n]=yield this.acquire();try{return yield e(t)}finally{n()}})}waitForUnlock(){return Gd(this,void 0,void 0,function*(){return this.isLocked()?new Promise(t=>this._waiters.push({resolve:t})):Promise.resolve()})}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){let e=this._currentReleaser;this._currentReleaser=void 0,e()}}cancel(){this._queue.forEach(e=>e.reject(this._cancelError)),this._queue=[]}_dispatch(){let e=this._queue.shift();if(!e)return;let t=!1;this._currentReleaser=()=>{t||(t=!0,this._value++,this._resolveWaiters(),this._dispatch())},e.resolve([this._value--,this._currentReleaser])}_resolveWaiters(){this._waiters.forEach(e=>e.resolve()),this._waiters=[]}},R_=function(r,e,t,n){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(c){try{l(n.next(c))}catch(d){a(d)}}function u(c){try{l(n.throw(c))}catch(d){a(d)}}function l(c){c.done?s(c.value):i(c.value).then(o,u)}l((n=n.apply(r,e||[])).next())})},os=class{constructor(e){this._semaphore=new Ya(1,e)}acquire(){return R_(this,void 0,void 0,function*(){let[,e]=yield this._semaphore.acquire();return e})}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.release()}cancel(){return this._semaphore.cancel()}};var Qf=require("obsidian");var Hd=require("obsidian");var w_={globalFilter:"",removeGlobalFilter:!1,setDoneDate:!0,autoSuggestInEditor:!0,autoSuggestMinMatch:0,autoSuggestMaxItems:6},$a=Ye({},w_),ie=()=>Ye({},$a),Ut=r=>($a=Ye(Ye({},$a),r),ie());var ja,Ba,zd=({metadataCache:r,vault:e})=>{ja=r,Ba=e},us=t=>ne(void 0,[t],function*({originalTask:r,newTasks:e}){if(Ba===void 0||ja===void 0){console.error("Tasks: cannot use File before initializing it.");return}Array.isArray(e)||(e=[e]),Kd({originalTask:r,newTasks:e,vault:Ba,metadataCache:ja,previousTries:0})}),Kd=s=>ne(void 0,[s],function*({originalTask:r,newTasks:e,vault:t,metadataCache:n,previousTries:i}){let a=()=>{if(i>10){console.error("Tasks: Too many retries. File update not possible ...");return}let g=Math.min(Math.pow(10,i),100);setTimeout(()=>{Kd({originalTask:r,newTasks:e,vault:t,metadataCache:n,previousTries:i+1})},g)},o=t.getAbstractFileByPath(r.path);if(!(o instanceof Hd.TFile))return console.warn(`Tasks: No file found for task ${r.description}. Retrying ...`),a();if(o.extension!=="md"){console.error("Tasks: Only supporting files with the .md file extension.");return}let u=n.getFileCache(o);if(u==null||u===null)return console.warn(`Tasks: No file cache found for file ${o.path}. Retrying ...`),a();let l=u.listItems;if(l===void 0||l.length===0)return console.warn(`Tasks: No list items found in file cache of ${o.path}. Retrying ...`),a();let d=(yield t.read(o)).split(`
`),{globalFilter:f}=ie(),h,m=0;for(let g of l){if(g.position.start.line<r.sectionStart||g.task===void 0)continue;if(d[g.position.start.line].includes(f)){if(m===r.sectionIndex){h=g;break}m++}}if(h===void 0){console.error("Tasks: could not find task to toggle in the file.");return}let y=[...d.slice(0,h.position.start.line),...e.map(g=>g.toFileLineString()),...d.slice(h.position.start.line+1)];yield t.modify(o,y.join(`
`))});var Kr=class{constructor(){this.hideTaskCount=!1;this.hideBacklinks=!1;this.hidePriority=!1;this.hideStartDate=!1;this.hideScheduledDate=!1;this.hideDoneDate=!1;this.hideDueDate=!1;this.hideRecurrenceRule=!1;this.hideEditButton=!1;this.shortMode=!1}};var ls=["MO","TU","WE","TH","FR","SA","SU"],pe=function(){function r(e,t){if(t===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t}return r.fromStr=function(e){return new r(ls.indexOf(e))},r.prototype.nth=function(e){return this.n===e?this:new r(this.weekday,e)},r.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},r.prototype.toString=function(){var e=ls[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},r.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},r}();var se=function(r){return r!=null},ze=function(r){return typeof r=="number"},Ga=function(r){return ls.indexOf(r)>=0},Ne=Array.isArray,Je=function(r,e){e===void 0&&(e=r),arguments.length===1&&(e=r,r=0);for(var t=[],n=r;n<e;n++)t.push(n);return t};var j=function(r,e){var t=0,n=[];if(Ne(r))for(;t<e;t++)n[t]=[].concat(r);else for(;t<e;t++)n[t]=r;return n},Vd=function(r){return Ne(r)?r:[r]};function wr(r,e,t){t===void 0&&(t=" ");var n=String(r);return e=e>>0,n.length>e?String(n):(e=e-n.length,e>t.length&&(t+=j(t,e/t.length)),t.slice(0,e)+String(n))}var Zd=function(r,e,t){var n=r.split(e);return t?n.slice(0,t).concat([n.slice(t).join(e)]):n},Ue=function(r,e){var t=r%e;return t*e<0?t+e:t},cs=function(r,e){return{div:Math.floor(r/e),mod:Ue(r,e)}},Ke=function(r){return!se(r)||r.length===0},fe=function(r){return!Ke(r)},B=function(r,e){return fe(r)&&r.indexOf(e)!==-1};var or;(function(r){r.MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],r.ONE_DAY=1e3*60*60*24,r.MAXYEAR=9999,r.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),r.PY_WEEKDAYS=[6,0,1,2,3,4,5],r.getYearDay=function(e){var t=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return Math.ceil((t.valueOf()-new Date(e.getUTCFullYear(),0,1).valueOf())/r.ONE_DAY)+1},r.isLeapYear=function(e){return e%4===0&&e%100!==0||e%400===0},r.isDate=function(e){return e instanceof Date},r.isValidDate=function(e){return r.isDate(e)&&!isNaN(e.getTime())},r.tzOffset=function(e){return e.getTimezoneOffset()*60*1e3},r.daysBetween=function(e,t){var n=e.getTime()-r.tzOffset(e),i=t.getTime()-r.tzOffset(t),s=n-i;return Math.round(s/r.ONE_DAY)},r.toOrdinal=function(e){return r.daysBetween(e,r.ORDINAL_BASE)},r.fromOrdinal=function(e){return new Date(r.ORDINAL_BASE.getTime()+e*r.ONE_DAY)},r.getMonthDays=function(e){var t=e.getUTCMonth();return t===1&&r.isLeapYear(e.getUTCFullYear())?29:r.MONTH_DAYS[t]},r.getWeekday=function(e){return r.PY_WEEKDAYS[e.getUTCDay()]},r.monthRange=function(e,t){var n=new Date(Date.UTC(e,t,1));return[r.getWeekday(n),r.getMonthDays(n)]},r.combine=function(e,t){return t=t||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},r.clone=function(e){var t=new Date(e.getTime());return t},r.cloneDates=function(e){for(var t=[],n=0;n<e.length;n++)t.push(r.clone(e[n]));return t},r.sort=function(e){e.sort(function(t,n){return t.getTime()-n.getTime()})},r.timeToUntilString=function(e,t){t===void 0&&(t=!0);var n=new Date(e);return[wr(n.getUTCFullYear().toString(),4,"0"),wr(n.getUTCMonth()+1,2,"0"),wr(n.getUTCDate(),2,"0"),"T",wr(n.getUTCHours(),2,"0"),wr(n.getUTCMinutes(),2,"0"),wr(n.getUTCSeconds(),2,"0"),t?"Z":""].join("")},r.untilStringToDate=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,n=t.exec(e);if(!n)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))}})(or||(or={}));var A=or;var M_=function(){function r(e,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=t,e==="between"?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):e==="before"?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):e==="after"&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}return r.prototype.accept=function(e){++this.total;var t=this.minDate&&e<this.minDate,n=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(t)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return t?!0:(this.add(e),!1);return this.add(e)},r.prototype.add=function(e){return this._result.push(e),!0},r.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},r.prototype.clone=function(){return new r(this.method,this.args)},r}(),qt=M_;var Tf=as(_f(),1),{__extends:Zr,__assign:$e,__rest:hA,__decorate:mA,__param:yA,__metadata:gA,__awaiter:_A,__generator:TA,__exportStar:bA,__createBinding:vA,__values:EA,__read:RA,__spread:wA,__spreadArrays:Mr,__await:MA,__asyncGenerator:DA,__asyncDelegator:PA,__asyncValues:OA,__makeTemplateObject:AA,__importStar:kA,__importDefault:NA,__classPrivateFieldGet:CA,__classPrivateFieldSet:SA}=Tf.default;var D_=function(r){Zr(e,r);function e(t,n,i){var s=r.call(this,t,n)||this;return s.iterator=i,s}return e.prototype.add=function(t){return this.iterator(t,this._result.length)?(this._result.push(t),!0):!1},e}(qt),za=D_;var P_={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},Dr=P_;var bf=function(r,e){return r.indexOf(e)!==-1},O_=function(r){return r.toString()},A_=function(r,e,t){return e+" "+t+", "+r},k_=function(){function r(e,t,n,i){if(t===void 0&&(t=O_),n===void 0&&(n=Dr),i===void 0&&(i=A_),this.text=[],this.language=n||Dr,this.gettext=t,this.dateFormatter=i,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var s=[].concat(this.options.bymonthday),a=[].concat(this.options.bynmonthday);s.sort(function(c,d){return c-d}),a.sort(function(c,d){return d-c}),this.bymonthday=s.concat(a),this.bymonthday.length||(this.bymonthday=null)}if(se(this.origOptions.byweekday)){var o=Ne(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],u=String(o);this.byweekday={allWeeks:o.filter(function(c){return!c.n}),someWeeks:o.filter(function(c){return Boolean(c.n)}),isWeekdays:u.indexOf("MO")!==-1&&u.indexOf("TU")!==-1&&u.indexOf("WE")!==-1&&u.indexOf("TH")!==-1&&u.indexOf("FR")!==-1&&u.indexOf("SA")===-1&&u.indexOf("SU")===-1,isEveryDay:u.indexOf("MO")!==-1&&u.indexOf("TU")!==-1&&u.indexOf("WE")!==-1&&u.indexOf("TH")!==-1&&u.indexOf("FR")!==-1&&u.indexOf("SA")!==-1&&u.indexOf("SU")!==-1};var l=function(c,d){return c.weekday-d.weekday};this.byweekday.allWeeks.sort(l),this.byweekday.someWeeks.sort(l),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return r.isFullyConvertible=function(e){var t=!0;if(!(e.options.freq in r.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var n in e.origOptions){if(bf(["dtstart","wkst","freq"],n))return!0;if(!bf(r.IMPLEMENTED[e.options.freq],n))return!1}return t},r.prototype.isFullyConvertible=function(){return r.isFullyConvertible(this.rrule)},r.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in r.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[R.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var t=this.options.until;this.add(this.dateFormatter(t.getUTCFullYear(),this.language.monthNames[t.getUTCMonth()],t.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},r.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},r.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},r.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},r.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},r.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},r.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},r.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},r.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},r.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},r.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},r.prototype.nth=function(e){e=parseInt(e.toString(),10);var t,n,i=this.gettext;if(e===-1)return i("last");switch(n=Math.abs(e),n){case 1:case 21:case 31:t=n+i("st");break;case 2:case 22:t=n+i("nd");break;case 3:case 23:t=n+i("rd");break;default:t=n+i("th")}return e<0?t+" "+i("last"):t},r.prototype.monthtext=function(e){return this.language.monthNames[e-1]},r.prototype.weekdaytext=function(e){var t=ze(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[t]},r.prototype.plural=function(e){return e%100!==1},r.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},r.prototype.list=function(e,t,n,i){i===void 0&&(i=","),Ne(e)||(e=[e]);var s=function(u,l,c){for(var d="",f=0;f<u.length;f++)f!==0&&(f===u.length-1?d+=" "+c+" ":d+=l+" "),d+=u[f];return d};t=t||function(u){return u.toString()};var a=this,o=function(u){return t&&t.call(a,u)};return n?s(e.map(o),i,n):e.map(o).join(i+" ")},r}(),vt=k_;var N_=function(){function r(e){this.done=!0,this.rules=e}return r.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},r.prototype.isDone=function(){return this.done&&this.symbol===null},r.prototype.nextSymbol=function(){var e,t,n=this;this.symbol=null,this.value=null;do{if(this.done)return!1;var i=void 0;e=null;for(var s in this.rules){i=this.rules[s];var a=i.exec(n.text);a&&(e===null||a[0].length>e[0].length)&&(e=a,t=s)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(t==="SKIP");return this.symbol=t,this.value=e,!0},r.prototype.accept=function(e){if(this.symbol===e){if(this.value){var t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1},r.prototype.acceptNumber=function(){return this.accept("number")},r.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},r}();function An(r,e){e===void 0&&(e=Dr);var t={},n=new N_(e.tokens);if(!n.start(r))return null;return i(),t;function i(){n.expect("every");var f=n.acceptNumber();if(f&&(t.interval=parseInt(f[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":t.freq=R.DAILY,n.nextSymbol()&&(a(),d());break;case"weekday(s)":t.freq=R.WEEKLY,t.byweekday=[R.MO,R.TU,R.WE,R.TH,R.FR],n.nextSymbol(),d();break;case"week(s)":t.freq=R.WEEKLY,n.nextSymbol()&&(s(),d());break;case"hour(s)":t.freq=R.HOURLY,n.nextSymbol()&&(s(),d());break;case"minute(s)":t.freq=R.MINUTELY,n.nextSymbol()&&(s(),d());break;case"month(s)":t.freq=R.MONTHLY,n.nextSymbol()&&(s(),d());break;case"year(s)":t.freq=R.YEARLY,n.nextSymbol()&&(s(),d());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":t.freq=R.WEEKLY;var h=n.symbol.substr(0,2).toUpperCase();if(t.byweekday=[R[h]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var m=u();if(!m)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");t.byweekday.push(R[m]),n.nextSymbol()}c(),d();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(t.freq=R.YEARLY,t.bymonth=[o()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var y=o();if(!y)throw new Error("Unexpected symbol "+n.symbol+", expected month");t.bymonth.push(y),n.nextSymbol()}s(),d();break;default:throw new Error("Unknown symbol")}}function s(){var f=n.accept("on"),h=n.accept("the");if(!!(f||h))do{var m=l(),y=u(),g=o();if(m)y?(n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(R[y].nth(m))):(t.bymonthday||(t.bymonthday=[]),t.bymonthday.push(m),n.accept("day(s)"));else if(y)n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(R[y]);else if(n.symbol==="weekday(s)")n.nextSymbol(),t.byweekday||(t.byweekday=[R.MO,R.TU,R.WE,R.TH,R.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var O=n.acceptNumber();if(!O)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(t.byweekno=[parseInt(O[0],10)];n.accept("comma");){if(O=n.acceptNumber(),!O)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.byweekno.push(parseInt(O[0],10))}}else if(g)n.nextSymbol(),t.bymonth||(t.bymonth=[]),t.bymonth.push(g);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function a(){var f=n.accept("at");if(!!f)do{var h=n.acceptNumber();if(!h)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(t.byhour=[parseInt(h[0],10)];n.accept("comma");){if(h=n.acceptNumber(),!h)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");t.byhour.push(parseInt(h[0],10))}}while(n.accept("comma")||n.accept("at"))}function o(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function u(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function l(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var f=parseInt(n.value[1],10);if(f<-366||f>366)throw new Error("Nth out of range: "+f);return n.nextSymbol(),n.accept("last")?-f:f;default:return!1}}function c(){n.accept("on"),n.accept("the");var f=l();if(!!f)for(t.bymonthday=[f],n.nextSymbol();n.accept("comma");){if(f=l(),!f)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.bymonthday.push(f),n.nextSymbol()}}function d(){if(n.symbol==="until"){var f=Date.parse(n.text);if(!f)throw new Error("Cannot parse until date:"+n.text);t.until=new Date(f)}else n.accept("for")&&(t.count=parseInt(n.value[0],10),n.expect("number"))}}var W;(function(r){r[r.YEARLY=0]="YEARLY",r[r.MONTHLY=1]="MONTHLY",r[r.WEEKLY=2]="WEEKLY",r[r.DAILY=3]="DAILY",r[r.HOURLY=4]="HOURLY",r[r.MINUTELY=5]="MINUTELY",r[r.SECONDLY=6]="SECONDLY"})(W||(W={}));function kn(r){return r<W.HOURLY}var vf=function(r,e){return e===void 0&&(e=Dr),new R(An(r,e)||void 0)},Xr=["count","until","interval","byweekday","bymonthday","bymonth"];vt.IMPLEMENTED=[];vt.IMPLEMENTED[W.HOURLY]=Xr;vt.IMPLEMENTED[W.MINUTELY]=Xr;vt.IMPLEMENTED[W.DAILY]=["byhour"].concat(Xr);vt.IMPLEMENTED[W.WEEKLY]=Xr;vt.IMPLEMENTED[W.MONTHLY]=Xr;vt.IMPLEMENTED[W.YEARLY]=["byweekno","byyearday"].concat(Xr);var Ef=function(r,e,t,n){return new vt(r,e,t,n).toString()},Rf=vt.isFullyConvertible;var Qr=function(){function r(e,t,n,i){this.hour=e,this.minute=t,this.second=n,this.millisecond=i||0}return r.prototype.getHours=function(){return this.hour},r.prototype.getMinutes=function(){return this.minute},r.prototype.getSeconds=function(){return this.second},r.prototype.getMilliseconds=function(){return this.millisecond},r.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},r}();var wf=function(r){Zr(e,r);function e(t,n,i,s,a,o,u){var l=r.call(this,s,a,o,u)||this;return l.year=t,l.month=n,l.day=i,l}return e.fromDate=function(t){return new this(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.valueOf()%1e3)},e.prototype.getWeekday=function(){return or.getWeekday(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(t){this.year+=t},e.prototype.addMonths=function(t){if(this.month+=t,this.month>12){var n=Math.floor(this.month/12),i=Ue(this.month,12);this.month=i,this.year+=n,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(t,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+t*7:this.day+=-(this.getWeekday()-n)+t*7,this.fixDay()},e.prototype.addDaily=function(t){this.day+=t,this.fixDay()},e.prototype.addHours=function(t,n,i){for(n&&(this.hour+=Math.floor((23-this.hour)/t)*t);;){this.hour+=t;var s=cs(this.hour,24),a=s.div,o=s.mod;if(a&&(this.hour=o,this.addDaily(a)),Ke(i)||B(i,this.hour))break}},e.prototype.addMinutes=function(t,n,i,s){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/t)*t);;){this.minute+=t;var a=cs(this.minute,60),o=a.div,u=a.mod;if(o&&(this.minute=u,this.addHours(o,!1,i)),(Ke(i)||B(i,this.hour))&&(Ke(s)||B(s,this.minute)))break}},e.prototype.addSeconds=function(t,n,i,s,a){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/t)*t);;){this.second+=t;var o=cs(this.second,60),u=o.div,l=o.mod;if(u&&(this.second=l,this.addMinutes(u,!1,i,s)),(Ke(i)||B(i,this.hour))&&(Ke(s)||B(s,this.minute))&&(Ke(a)||B(a,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var t=or.monthRange(this.year,this.month-1)[1];if(!(this.day<=t))for(;this.day>t;){if(this.day-=t,++this.month,this.month===13&&(this.month=1,++this.year,this.year>or.MAXYEAR))return;t=or.monthRange(this.year,this.month-1)[1]}}},e.prototype.add=function(t,n){var i=t.freq,s=t.interval,a=t.wkst,o=t.byhour,u=t.byminute,l=t.bysecond;switch(i){case W.YEARLY:return this.addYears(s);case W.MONTHLY:return this.addMonths(s);case W.WEEKLY:return this.addWeekly(s,a);case W.DAILY:return this.addDaily(s);case W.HOURLY:return this.addHours(s,n,o);case W.MINUTELY:return this.addMinutes(s,n,o,u);case W.SECONDLY:return this.addSeconds(s,n,o,u,l)}},e}(Qr);function Ka(r){for(var e=[],t=Object.keys(r),n=0,i=t;n<i.length;n++){var s=i[n];B(Pf,s)||e.push(s),A.isDate(r[s])&&!A.isValidDate(r[s])&&e.push(s)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return $e({},r)}function Mf(r){var e=$e($e({},Nn),Ka(r));if(se(e.byeaster)&&(e.freq=R.YEARLY),!(se(e.freq)&&R.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: "+e.freq+" "+r.freq);if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),se(e.wkst)?ze(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=R.MO.weekday,se(e.bysetpos)){ze(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var t=0;t<e.bysetpos.length;t++){var n=e.bysetpos[t];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(e.byweekno)||fe(e.byweekno)||fe(e.byyearday)||Boolean(e.bymonthday)||fe(e.bymonthday)||se(e.byweekday)||se(e.byeaster)))switch(e.freq){case R.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case R.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case R.WEEKLY:e.byweekday=[A.getWeekday(e.dtstart)];break}if(se(e.bymonth)&&!Ne(e.bymonth)&&(e.bymonth=[e.bymonth]),se(e.byyearday)&&!Ne(e.byyearday)&&ze(e.byyearday)&&(e.byyearday=[e.byyearday]),!se(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(Ne(e.bymonthday)){for(var i=[],s=[],t=0;t<e.bymonthday.length;t++){var n=e.bymonthday[t];n>0?i.push(n):n<0&&s.push(n)}e.bymonthday=i,e.bynmonthday=s}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(se(e.byweekno)&&!Ne(e.byweekno)&&(e.byweekno=[e.byweekno]),!se(e.byweekday))e.bynweekday=null;else if(ze(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(Ga(e.byweekday))e.byweekday=[pe.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof pe)!e.byweekday.n||e.freq>R.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var a=[],o=[],t=0;t<e.byweekday.length;t++){var u=e.byweekday[t];if(ze(u)){a.push(u);continue}else if(Ga(u)){a.push(pe.fromStr(u).weekday);continue}!u.n||e.freq>R.MONTHLY?a.push(u.weekday):o.push([u.weekday,u.n])}e.byweekday=fe(a)?a:null,e.bynweekday=fe(o)?o:null}return se(e.byhour)?ze(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<R.HOURLY?[e.dtstart.getUTCHours()]:null,se(e.byminute)?ze(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<R.MINUTELY?[e.dtstart.getUTCMinutes()]:null,se(e.bysecond)?ze(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<R.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function Df(r){var e=r.dtstart.getTime()%1e3;if(!kn(r.freq))return[];var t=[];return r.byhour.forEach(function(n){r.byminute.forEach(function(i){r.bysecond.forEach(function(s){t.push(new Qr(n,i,s,e))})})}),t}function Sn(r){var e=r.split(`
`).map(C_).filter(function(t){return t!==null});return $e($e({},e[0]),e[1])}function Cn(r){var e={},t=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(r);if(!t)return e;var n=t[0],i=t[1],s=t[2];return i&&(e.tzid=i),e.dtstart=A.untilStringToDate(s),e}function C_(r){if(r=r.replace(/^\s+|\s+$/,""),!r.length)return null;var e=/^([A-Z]+?)[:;]/.exec(r.toUpperCase());if(!e)return Of(r);var t=e[0],n=e[1];switch(n.toUpperCase()){case"RRULE":case"EXRULE":return Of(r);case"DTSTART":return Cn(r);default:throw new Error("Unsupported RFC prop "+n+" in "+r)}}function Of(r){var e=r.replace(/^RRULE:/i,""),t=Cn(e),n=r.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(i){var s=i.split("="),a=s[0],o=s[1];switch(a.toUpperCase()){case"FREQ":t.freq=W[o.toUpperCase()];break;case"WKST":t.wkst=et[o.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var u=S_(o),l=a.toLowerCase();t[l]=u;break;case"BYWEEKDAY":case"BYDAY":t.byweekday=x_(o);break;case"DTSTART":case"TZID":var c=Cn(r);t.tzid=c.tzid,t.dtstart=c.dtstart;break;case"UNTIL":t.until=A.untilStringToDate(o);break;case"BYEASTER":t.byeaster=Number(o);break;default:throw new Error("Unknown RRULE property '"+a+"'")}}),t}function S_(r){if(r.indexOf(",")!==-1){var e=r.split(",");return e.map(Af)}return Af(r)}function Af(r){return/^[+-]?\d+$/.test(r)?Number(r):r}function x_(r){var e=r.split(",");return e.map(function(t){if(t.length===2)return et[t];var n=t.match(/^([+-]?\d{1,2})([A-Z]{2})$/),i=Number(n[1]),s=n[2],a=et[s].weekday;return new pe(a,i)})}var Pr=function(){function r(e,t){this.date=e,this.tzid=t}return Object.defineProperty(r.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!0,configurable:!0}),r.prototype.toString=function(){var e=A.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":"+e:";TZID="+this.tzid+":"+e},r.prototype.getTime=function(){return this.date.getTime()},r.prototype.rezonedDate=function(){var e;if(this.isUTC)return this.date;var t=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(this.date.toLocaleString(void 0,{timeZone:t})),i=new Date(this.date.toLocaleString(void 0,{timeZone:(e=this.tzid,e!=null?e:"UTC")})),s=i.getTime()-n.getTime();return new Date(this.date.getTime()-s)},r}();function xn(r){for(var e=[],t="",n=Object.keys(r),i=Object.keys(Nn),s=0;s<n.length;s++)if(n[s]!=="tzid"&&!!B(i,n[s])){var a=n[s].toUpperCase(),o=r[n[s]],u="";if(!(!se(o)||Ne(o)&&!o.length)){switch(a){case"FREQ":u=R.FREQUENCIES[r.freq];break;case"WKST":ze(o)?u=new pe(o).toString():u=o.toString();break;case"BYWEEKDAY":a="BYDAY",u=Vd(o).map(function(h){return h instanceof pe?h:Ne(h)?new pe(h[0],h[1]):new pe(h)}).toString();break;case"DTSTART":t=I_(o,r.tzid);break;case"UNTIL":u=A.timeToUntilString(o,!r.tzid);break;default:if(Ne(o)){for(var l=[],c=0;c<o.length;c++)l[c]=String(o[c]);u=l.toString()}else u=String(o)}u&&e.push([a,u])}}var d=e.map(function(h){var m=h[0],y=h[1];return m+"="+y.toString()}).join(";"),f="";return d!==""&&(f="RRULE:"+d),[t,f].filter(function(h){return!!h}).join(`
`)}function I_(r,e){return r?"DTSTART"+new Pr(new Date(r),e).toString():""}function U_(r,e){return Array.isArray(r)?!Array.isArray(e)||r.length!==e.length?!1:r.every(function(t,n){return t.getTime()===e[n].getTime()}):r instanceof Date?e instanceof Date&&r.getTime()===e.getTime():r===e}var kf=function(){function r(){this.all=!1,this.before=[],this.after=[],this.between=[]}return r.prototype._cacheAdd=function(e,t,n){t&&(t=t instanceof Date?A.clone(t):A.cloneDates(t)),e==="all"?this.all=t:(n._value=t,this[e].push(n))},r.prototype._cacheGet=function(e,t){var n=!1,i=t?Object.keys(t):[],s=function(c){for(var d=0;d<i.length;d++){var f=i[d];if(!U_(t[f],c[f]))return!0}return!1},a=this[e];if(e==="all")n=this.all;else if(Ne(a))for(var o=0;o<a.length;o++){var u=a[o];if(!(i.length&&s(u))){n=u._value;break}}if(!n&&this.all){for(var l=new qt(e,t),o=0;o<this.all.length&&l.accept(this.all[o]);o++);n=l.getValue(),this._cacheAdd(e,n,t)}return Ne(n)?A.cloneDates(n):n instanceof Date?A.clone(n):n},r}();var Nf=Mr(j(1,31),j(2,28),j(3,31),j(4,30),j(5,31),j(6,30),j(7,31),j(8,31),j(9,30),j(10,31),j(11,30),j(12,31),j(1,7)),Cf=Mr(j(1,31),j(2,29),j(3,31),j(4,30),j(5,31),j(6,30),j(7,31),j(8,31),j(9,30),j(10,31),j(11,30),j(12,31),j(1,7)),q_=Je(1,29),W_=Je(1,30),ur=Je(1,31),qe=Je(1,32),Sf=Mr(qe,W_,qe,ur,qe,ur,qe,qe,ur,qe,ur,qe,qe.slice(0,7)),xf=Mr(qe,q_,qe,ur,qe,ur,qe,qe,ur,qe,ur,qe,qe.slice(0,7)),F_=Je(-28,0),L_=Je(-29,0),lr=Je(-30,0),We=Je(-31,0),If=Mr(We,L_,We,lr,We,lr,We,We,lr,We,lr,We,We.slice(0,7)),Uf=Mr(We,F_,We,lr,We,lr,We,We,lr,We,lr,We,We.slice(0,7)),qf=[0,31,60,91,121,152,182,213,244,274,305,335,366],Wf=[0,31,59,90,120,151,181,212,243,273,304,334,365],Va=function(){for(var r=[],e=0;e<55;e++)r=r.concat(Je(7));return r}();function Ff(r,e){var t=new Date(Date.UTC(r,0,1)),n=A.isLeapYear(r)?366:365,i=A.isLeapYear(r+1)?366:365,s=A.toOrdinal(t),a=A.getWeekday(t),o=$e($e({yearlen:n,nextyearlen:i,yearordinal:s,yearweekday:a},Y_(r)),{wnomask:null});if(Ke(e.byweekno))return o;o.wnomask=j(0,n+7);var u,l,c=u=Ue(7-a+e.wkst,7);c>=4?(c=0,l=o.yearlen+Ue(a-e.wkst,7)):l=n-c;for(var d=Math.floor(l/7),f=Ue(l,7),h=Math.floor(d+f/4),m=0;m<e.byweekno.length;m++){var y=e.byweekno[m];if(y<0&&(y+=h+1),y>0&&y<=h){var g=void 0;y>1?(g=c+(y-1)*7,c!==u&&(g-=7-u)):g=c;for(var O=0;O<7&&(o.wnomask[g]=1,g++,o.wdaymask[g]!==e.wkst);O++);}}if(B(e.byweekno,1)){var g=c+h*7;if(c!==u&&(g-=7-u),g<n)for(var m=0;m<7&&(o.wnomask[g]=1,g+=1,o.wdaymask[g]!==e.wkst);m++);}if(c){var S=void 0;if(B(e.byweekno,-1))S=-1;else{var N=A.getWeekday(new Date(Date.UTC(r-1,0,1))),z=Ue(7-N.valueOf()+e.wkst,7),te=A.isLeapYear(r-1)?366:365,ue=void 0;z>=4?(z=0,ue=te+Ue(N-e.wkst,7)):ue=n-c,S=Math.floor(52+Ue(ue,7)/4)}if(B(e.byweekno,S))for(var g=0;g<c;g++)o.wnomask[g]=1}return o}function Y_(r){var e=A.isLeapYear(r)?366:365,t=new Date(Date.UTC(r,0,1)),n=A.getWeekday(t);return e===365?{mmask:Nf,mdaymask:xf,nmdaymask:Uf,wdaymask:Va.slice(n),mrange:Wf}:{mmask:Cf,mdaymask:Sf,nmdaymask:If,wdaymask:Va.slice(n),mrange:qf}}function Lf(r,e,t,n,i,s){var a={lastyear:r,lastmonth:e,nwdaymask:[]},o=[];if(s.freq===R.YEARLY)if(Ke(s.bymonth))o=[[0,t]];else for(var u=0;u<s.bymonth.length;u++)e=s.bymonth[u],o.push(n.slice(e-1,e+1));else s.freq===R.MONTHLY&&(o=[n.slice(e-1,e+1)]);if(Ke(o))return a;a.nwdaymask=j(0,t);for(var u=0;u<o.length;u++)for(var l=o[u],c=l[0],d=l[1]-1,f=0;f<s.bynweekday.length;f++){var h=void 0,m=s.bynweekday[f],y=m[0],g=m[1];g<0?(h=d+(g+1)*7,h-=Ue(i[h]-y,7)):(h=c+(g-1)*7,h+=Ue(7-i[h]+y,7)),c<=h&&h<=d&&(a.nwdaymask[h]=1)}return a}function Yf(r,e){e===void 0&&(e=0);var t=r%19,n=Math.floor(r/100),i=r%100,s=Math.floor(n/4),a=n%4,o=Math.floor((n+8)/25),u=Math.floor((n-o+1)/3),l=Math.floor(19*t+n-s-u+15)%30,c=Math.floor(i/4),d=i%4,f=Math.floor(32+2*a+2*c-l-d)%7,h=Math.floor((t+11*l+22*f)/451),m=Math.floor((l+f-7*h+114)/31),y=(l+f-7*h+114)%31+1,g=Date.UTC(r,m-1,y+e),O=Date.UTC(r,0,1);return[Math.ceil((g-O)/(1e3*60*60*24))]}var $_=function(){function r(e){this.options=e}return r.prototype.rebuild=function(e,t){var n=this.options;if(e!==this.lastyear&&(this.yearinfo=Ff(e,n)),fe(n.bynweekday)&&(t!==this.lastmonth||e!==this.lastyear)){var i=this.yearinfo,s=i.yearlen,a=i.mrange,o=i.wdaymask;this.monthinfo=Lf(e,t,s,a,o,n)}se(n.byeaster)&&(this.eastermask=Yf(e,n.byeaster))},Object.defineProperty(r.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!0,configurable:!0}),r.prototype.ydayset=function(){return[Je(this.yearlen),0,this.yearlen]},r.prototype.mdayset=function(e,t,n){for(var i=this.mrange[t-1],s=this.mrange[t],a=j(null,this.yearlen),o=i;o<s;o++)a[o]=o;return[a,i,s]},r.prototype.wdayset=function(e,t,n){for(var i=j(null,this.yearlen+7),s=A.toOrdinal(new Date(Date.UTC(e,t-1,n)))-this.yearordinal,a=s,o=0;o<7&&(i[s]=s,++s,this.wdaymask[s]!==this.options.wkst);o++);return[i,a,s]},r.prototype.ddayset=function(e,t,n){var i=j(null,this.yearlen),s=A.toOrdinal(new Date(Date.UTC(e,t-1,n)))-this.yearordinal;return i[s]=s,[i,s,s+1]},r.prototype.htimeset=function(e,t,n,i){var s=this,a=[];return this.options.byminute.forEach(function(o){a=a.concat(s.mtimeset(e,o,n,i))}),A.sort(a),a},r.prototype.mtimeset=function(e,t,n,i){var s=this.options.bysecond.map(function(a){return new Qr(e,t,a,i)});return A.sort(s),s},r.prototype.stimeset=function(e,t,n,i){return[new Qr(e,t,n,i)]},r.prototype.getdayset=function(e){switch(e){case W.YEARLY:return this.ydayset.bind(this);case W.MONTHLY:return this.mdayset.bind(this);case W.WEEKLY:return this.wdayset.bind(this);case W.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},r.prototype.gettimeset=function(e){switch(e){case W.HOURLY:return this.htimeset.bind(this);case W.MINUTELY:return this.mtimeset.bind(this);case W.SECONDLY:return this.stimeset.bind(this)}},r}(),$f=$_;function jf(r,e,t,n,i,s){for(var a=[],o=0;o<r.length;o++){var u=void 0,l=void 0,c=r[o];c<0?(u=Math.floor(c/e.length),l=Ue(c,e.length)):(u=Math.floor((c-1)/e.length),l=Ue(c-1,e.length));for(var d=[],f=t;f<n;f++){var h=s[f];!se(h)||d.push(h)}var m=void 0;u<0?m=d.slice(u)[0]:m=d[u];var y=e[l],g=A.fromOrdinal(i.yearordinal+m),O=A.combine(g,y);B(a,O)||a.push(O)}return A.sort(a),a}function ps(r,e){var t=e.dtstart,n=e.freq,i=e.interval,s=e.until,a=e.bysetpos,o=e.count;if(o===0||i===0)return Wt(r);var u=wf.fromDate(t),l=new $f(e);l.rebuild(u.year,u.month);for(var c=G_(l,u,e);;){var d=l.getdayset(n)(u.year,u.month,u.day),f=d[0],h=d[1],m=d[2],y=B_(f,h,m,l,e);if(fe(a))for(var g=jf(a,c,h,m,l,f),O=0;O<g.length;O++){var S=g[O];if(s&&S>s)return Wt(r);if(S>=t){var N=Bf(S,e);if(!r.accept(N)||o&&(--o,!o))return Wt(r)}}else for(var O=h;O<m;O++){var z=f[O];if(!!se(z))for(var te=A.fromOrdinal(l.yearordinal+z),ue=0;ue<c.length;ue++){var x=c[ue],S=A.combine(te,x);if(s&&S>s)return Wt(r);if(S>=t){var N=Bf(S,e);if(!r.accept(N)||o&&(--o,!o))return Wt(r)}}}if(e.interval===0||(u.add(e,y),u.year>A.MAXYEAR))return Wt(r);kn(n)||(c=l.gettimeset(n)(u.hour,u.minute,u.second,0)),l.rebuild(u.year,u.month)}}function j_(r,e,t){var n=t.bymonth,i=t.byweekno,s=t.byweekday,a=t.byeaster,o=t.bymonthday,u=t.bynmonthday,l=t.byyearday;return fe(n)&&!B(n,r.mmask[e])||fe(i)&&!r.wnomask[e]||fe(s)&&!B(s,r.wdaymask[e])||fe(r.nwdaymask)&&!r.nwdaymask[e]||a!==null&&!B(r.eastermask,e)||(fe(o)||fe(u))&&!B(o,r.mdaymask[e])&&!B(u,r.nmdaymask[e])||fe(l)&&(e<r.yearlen&&!B(l,e+1)&&!B(l,-r.yearlen+e)||e>=r.yearlen&&!B(l,e+1-r.yearlen)&&!B(l,-r.nextyearlen+e-r.yearlen))}function Bf(r,e){return new Pr(r,e.tzid).rezonedDate()}function Wt(r){return r.getValue()}function B_(r,e,t,n,i){for(var s=!1,a=e;a<t;a++){var o=r[a];s=j_(n,o,i),s&&(r[o]=null)}return s}function G_(r,e,t){var n=t.freq,i=t.byhour,s=t.byminute,a=t.bysecond;return kn(n)?Df(t):n>=R.HOURLY&&fe(i)&&!B(i,e.hour)||n>=R.MINUTELY&&fe(s)&&!B(s,e.minute)||n>=R.SECONDLY&&fe(a)&&!B(a,e.second)?[]:r.gettimeset(n)(e.hour,e.minute,e.second,e.millisecond)}var et={MO:new pe(0),TU:new pe(1),WE:new pe(2),TH:new pe(3),FR:new pe(4),SA:new pe(5),SU:new pe(6)},Nn={freq:W.YEARLY,dtstart:null,interval:1,wkst:et.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},Pf=Object.keys(Nn),R=function(){function r(e,t){e===void 0&&(e={}),t===void 0&&(t=!1),this._cache=t?null:new kf,this.origOptions=Ka(e);var n=Mf(e).parsedOptions;this.options=n}return r.parseText=function(e,t){return An(e,t)},r.fromText=function(e,t){return vf(e,t)},r.fromString=function(e){return new r(r.parseString(e)||void 0)},r.prototype._iter=function(e){return ps(e,this.options)},r.prototype._cacheGet=function(e,t){return this._cache?this._cache._cacheGet(e,t):!1},r.prototype._cacheAdd=function(e,t,n){if(!!this._cache)return this._cache._cacheAdd(e,t,n)},r.prototype.all=function(e){if(e)return this._iter(new za("all",{},e));var t=this._cacheGet("all");return t===!1&&(t=this._iter(new qt("all",{})),this._cacheAdd("all",t)),t},r.prototype.between=function(e,t,n,i){if(n===void 0&&(n=!1),!A.isValidDate(e)||!A.isValidDate(t))throw new Error("Invalid date passed in to RRule.between");var s={before:t,after:e,inc:n};if(i)return this._iter(new za("between",s,i));var a=this._cacheGet("between",s);return a===!1&&(a=this._iter(new qt("between",s)),this._cacheAdd("between",a,s)),a},r.prototype.before=function(e,t){if(t===void 0&&(t=!1),!A.isValidDate(e))throw new Error("Invalid date passed in to RRule.before");var n={dt:e,inc:t},i=this._cacheGet("before",n);return i===!1&&(i=this._iter(new qt("before",n)),this._cacheAdd("before",i,n)),i},r.prototype.after=function(e,t){if(t===void 0&&(t=!1),!A.isValidDate(e))throw new Error("Invalid date passed in to RRule.after");var n={dt:e,inc:t},i=this._cacheGet("after",n);return i===!1&&(i=this._iter(new qt("after",n)),this._cacheAdd("after",i,n)),i},r.prototype.count=function(){return this.all().length},r.prototype.toString=function(){return xn(this.origOptions)},r.prototype.toText=function(e,t,n){return Ef(this,e,t,n)},r.prototype.isFullyConvertibleToText=function(){return Rf(this)},r.prototype.clone=function(){return new r(this.origOptions)},r.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],r.YEARLY=W.YEARLY,r.MONTHLY=W.MONTHLY,r.WEEKLY=W.WEEKLY,r.DAILY=W.DAILY,r.HOURLY=W.HOURLY,r.MINUTELY=W.MINUTELY,r.SECONDLY=W.SECONDLY,r.MO=et.MO,r.TU=et.TU,r.WE=et.WE,r.TH=et.TH,r.FR=et.FR,r.SA=et.SA,r.SU=et.SU,r.parseString=Sn,r.optionsToString=xn,r}();function Gf(r,e,t,n,i,s){var a={},o=r.accept;function u(f,h){t.forEach(function(m){m.between(f,h,!0).forEach(function(y){a[Number(y)]=!0})})}i.forEach(function(f){var h=new Pr(f,s).rezonedDate();a[Number(h)]=!0}),r.accept=function(f){var h=Number(f);return isNaN(h)?o.call(this,f):!a[h]&&(u(new Date(h-1),new Date(h+1)),!a[h])?(a[h]=!0,o.call(this,f)):!0},r.method==="between"&&(u(r.args.after,r.args.before),r.accept=function(f){var h=Number(f);return a[h]?!0:(a[h]=!0,o.call(this,f))});for(var l=0;l<n.length;l++){var c=new Pr(n[l],s).rezonedDate();if(!r.accept(new Date(c.getTime())))break}e.forEach(function(f){ps(r,f.options)});var d=r._result;switch(A.sort(d),r.method){case"all":case"between":return d;case"before":return d.length&&d[d.length-1]||null;case"after":default:return d.length&&d[0]||null}}var Hf={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function H_(r,e){var t=[],n=[],i=[],s=[],a=Cn(r),o=a.dtstart,u=a.tzid,l=X_(r,e.unfold);return l.forEach(function(c){if(!!c){var d=Z_(c),f=d.name,h=d.parms,m=d.value;switch(f.toUpperCase()){case"RRULE":if(h.length)throw new Error("unsupported RRULE parm: "+h.join(","));t.push(Sn(c));break;case"RDATE":var y=/RDATE(?:;TZID=([^:=]+))?/i.exec(c),g=y[0],O=y[1];O&&!u&&(u=O),n=n.concat(zf(m,h));break;case"EXRULE":if(h.length)throw new Error("unsupported EXRULE parm: "+h.join(","));i.push(Sn(m));break;case"EXDATE":s=s.concat(zf(m,h));break;case"DTSTART":break;default:throw new Error("unsupported property: "+f)}}}),{dtstart:o,tzid:u,rrulevals:t,rdatevals:n,exrulevals:i,exdatevals:s}}function z_(r,e){var t=H_(r,e),n=t.rrulevals,i=t.rdatevals,s=t.exrulevals,a=t.exdatevals,o=t.dtstart,u=t.tzid,l=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||n.length>1||i.length||s.length||a.length){var c=new Xa(l);return c.dtstart(o),c.tzid(u||void 0),n.forEach(function(f){c.rrule(new R(Za(f,o,u),l))}),i.forEach(function(f){c.rdate(f)}),s.forEach(function(f){c.exrule(new R(Za(f,o,u),l))}),a.forEach(function(f){c.exdate(f)}),e.compatible&&e.dtstart&&c.rdate(o),c}var d=n[0]||{};return new R(Za(d,d.dtstart||e.dtstart||o,d.tzid||e.tzid||u),l)}function hs(r,e){return e===void 0&&(e={}),z_(r,K_(e))}function Za(r,e,t){return $e($e({},r),{dtstart:e,tzid:t})}function K_(r){var e=[],t=Object.keys(r),n=Object.keys(Hf);if(t.forEach(function(i){B(n,i)||e.push(i)}),e.length)throw new Error("Invalid options: "+e.join(", "));return $e($e({},Hf),r)}function V_(r){if(r.indexOf(":")===-1)return{name:"RRULE",value:r};var e=Zd(r,":",1),t=e[0],n=e[1];return{name:t,value:n}}function Z_(r){var e=V_(r),t=e.name,n=e.value,i=t.split(";");if(!i)throw new Error("empty property name");return{name:i[0].toUpperCase(),parms:i.slice(1),value:n}}function X_(r,e){if(e===void 0&&(e=!1),r=r&&r.trim(),!r)throw new Error("Invalid empty string");if(!e)return r.split(/\s/);for(var t=r.split(`
`),n=0;n<t.length;){var i=t[n]=t[n].replace(/\s+$/g,"");i?n>0&&i[0]===" "?(t[n-1]+=i.slice(1),t.splice(n,1)):n+=1:t.splice(n,1)}return t}function Q_(r){r.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function zf(r,e){return Q_(e),r.split(",").map(function(t){return A.untilStringToDate(t)})}function Kf(r){var e=this;return function(t){if(t!==void 0&&(e["_"+r]=t),e["_"+r]!==void 0)return e["_"+r];for(var n=0;n<e._rrule.length;n++){var i=e._rrule[n].origOptions[r];if(i)return i}}}var Xa=function(r){Zr(e,r);function e(t){t===void 0&&(t=!1);var n=r.call(this,{},t)||this;return n.dtstart=Kf.apply(n,["dtstart"]),n.tzid=Kf.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return e.prototype._iter=function(t){return Gf(t,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(t){Vf(t,this._rrule)},e.prototype.exrule=function(t){Vf(t,this._exrule)},e.prototype.rdate=function(t){Zf(t,this._rdate)},e.prototype.exdate=function(t){Zf(t,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(t){return hs(t.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(t){return hs(t.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(t){return new Date(t.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(t){return new Date(t.getTime())})},e.prototype.valueOf=function(){var t=[];return!this._rrule.length&&this._dtstart&&(t=t.concat(xn({dtstart:this._dtstart}))),this._rrule.forEach(function(n){t=t.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){t=t.concat(n.toString().split(`
`).map(function(i){return i.replace(/^RRULE:/,"EXRULE:")}).filter(function(i){return!/^DTSTART/.test(i)}))}),this._rdate.length&&t.push(Xf("RDATE",this._rdate,this.tzid())),this._exdate.length&&t.push(Xf("EXDATE",this._exdate,this.tzid())),t},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var t=new e(!!this._cache);return this._rrule.forEach(function(n){return t.rrule(n.clone())}),this._exrule.forEach(function(n){return t.exrule(n.clone())}),this._rdate.forEach(function(n){return t.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return t.exdate(new Date(n.getTime()))}),t},e}(R);function Vf(r,e){if(!(r instanceof R))throw new TypeError(String(r)+" is not RRule instance");B(e.map(String),String(r))||e.push(r)}function Zf(r,e){if(!(r instanceof Date))throw new TypeError(String(r)+" is not Date instance");B(e.map(Number),Number(r))||(e.push(r),A.sort(e))}function Xf(r,e,t){var n=!t||t.toUpperCase()==="UTC",i=n?r+":":r+";TZID="+t+":",s=e.map(function(a){return A.timeToUntilString(a.valueOf(),n)}).join(",");return""+i+s}var G=class{static by(e,t){let n=[G.compareByUrgency,G.compareByStatus,G.compareByDueDate,G.compareByPriority,G.compareByPath],i=[];for(let{property:s,reverse:a,propertyInstance:o}of e.sorting){let u=G.comparators[s];i.push(a?G.makeReversedComparator(u):u),s==="tag"&&(G.tagPropertyInstance=o)}return t.sort(G.makeCompositeComparator([...i,...n]))}static makeReversedComparator(e){return(t,n)=>e(t,n)*-1}static makeCompositeComparator(e){return(t,n)=>{for(let i of e){let s=i(t,n);if(s!==0)return s}return 0}}static compareByUrgency(e,t){return t.urgency-e.urgency}static compareByStatus(e,t){return e.status<t.status?1:e.status>t.status?-1:0}static compareByPriority(e,t){return e.priority.localeCompare(t.priority)}static compareByStartDate(e,t){return G.compareByDate(e.startDate,t.startDate)}static compareByScheduledDate(e,t){return G.compareByDate(e.scheduledDate,t.scheduledDate)}static compareByDueDate(e,t){return G.compareByDate(e.dueDate,t.dueDate)}static compareByDoneDate(e,t){return G.compareByDate(e.doneDate,t.doneDate)}static compareByTag(e,t){if(e.tags.length===0&&t.tags.length===0)return 0;if(e.tags.length===0)return 1;if(t.tags.length===0)return-1;let n=G.tagPropertyInstance-1;return e.tags.length<G.tagPropertyInstance&&t.tags.length>=G.tagPropertyInstance?1:t.tags.length<G.tagPropertyInstance&&e.tags.length>=G.tagPropertyInstance?-1:e.tags.length<G.tagPropertyInstance&&t.tags.length<G.tagPropertyInstance?0:e.tags[n]<t.tags[n]?-1:e.tags[n]>t.tags[n]?1:0}static compareByDate(e,t){return e!==null&&t===null?-1:e===null&&t!==null?1:e!==null&&t!==null?e.isAfter(t)?1:e.isBefore(t)?-1:0:0}static compareByPath(e,t){return e.path<t.path?-1:e.path>t.path?1:0}static compareByDescription(e,t){return G.cleanDescription(e.description).localeCompare(G.cleanDescription(t.description))}static cleanDescription(e){let t=ie().globalFilter;e=e.replace(t,"").trim();let n=/^\[\[?([^\]]*)\]/,i=e.match(n);if(i!==null){let l=i[1];e=l.substring(l.indexOf("|")+1)+e.replace(n,"")}let s=/^\*\*?([^*]*)\*/,a=e.match(s);a!==null&&(e=a[1]+e.replace(n,""));let o=/^==?([^=]*)==/,u=e.match(o);return u!==null&&(e=u[1]+e.replace(o,"")),e}},tt=G;tt.tagPropertyInstance=1,tt.comparators={urgency:G.compareByUrgency,description:G.compareByDescription,priority:G.compareByPriority,start:G.compareByStartDate,scheduled:G.compareByScheduledDate,due:G.compareByDueDate,done:G.compareByDoneDate,path:G.compareByPath,status:G.compareByStatus,tag:G.compareByTag};var dt=class{constructor({rrule:e,baseOnToday:t,referenceDate:n,startDate:i,scheduledDate:s,dueDate:a}){this.rrule=e,this.baseOnToday=t,this.referenceDate=n,this.startDate=i,this.scheduledDate=s,this.dueDate=a}static fromText({recurrenceRuleText:e,startDate:t,scheduledDate:n,dueDate:i}){try{let s=e.match(/^([a-zA-Z0-9, !]+?)( when done)?$/i);if(s==null)return null;let a=s[1].trim(),o=s[2]!==void 0,u=R.parseText(a);if(u!==null){let l=null;i?l=window.moment(i):n?l=window.moment(n):t&&(l=window.moment(t)),!o&&l!==null?u.dtstart=window.moment(l).startOf("day").utc(!0).toDate():u.dtstart=window.moment().startOf("day").utc(!0).toDate();let c=new R(u);return new dt({rrule:c,baseOnToday:o,referenceDate:l,startDate:t,scheduledDate:n,dueDate:i})}}catch(s){}return null}toText(){let e=this.rrule.toText();return this.baseOnToday&&(e+=" when done"),e}next(){var t;let e;if(this.baseOnToday){let n=window.moment();e=new R(It(Ye({},this.rrule.origOptions),{dtstart:n.startOf("day").utc(!0).toDate()})).after(n.endOf("day").utc(!0).toDate())}else{let n=window.moment((t=this.referenceDate)!=null?t:void 0).endOf("day").utc(!0);e=this.rrule.after(n.toDate())}if(e!==null){let i=window.moment.utc(e).local(!0).startOf("day"),s=null,a=null,o=null;if(this.referenceDate){if(this.startDate){let u=window.moment.duration(this.startDate.diff(this.referenceDate));s=window.moment(i),s.add(Math.round(u.asDays()),"days")}if(this.scheduledDate){let u=window.moment.duration(this.scheduledDate.diff(this.referenceDate));a=window.moment(i),a.add(Math.round(u.asDays()),"days")}if(this.dueDate){let u=window.moment.duration(this.dueDate.diff(this.referenceDate));o=window.moment(i),o.add(Math.round(u.asDays()),"days")}}return{startDate:s,scheduledDate:a,dueDate:o}}return null}identicalTo(e){return this.baseOnToday!==e.baseOnToday||tt.compareByDate(this.startDate,e.startDate)!==0||tt.compareByDate(this.scheduledDate,e.scheduledDate)!==0||tt.compareByDate(this.dueDate,e.dueDate)!==0?!1:this.toText()===e.toText()}};var Lt=class{static calculate(e){let t=0;if(e.dueDate!==null){let n=Math.round(window.moment().diff(e.dueDate)/Lt.milliSecondsPerDay),i;n>=7?i=1:n>=-14?i=(n+14)*.8/21+.2:i=.2,t+=i*Lt.dueCoefficient}switch(e.scheduledDate!==null&&window.moment().isSameOrAfter(e.scheduledDate)&&(t+=1*Lt.scheduledCoefficient),e.startDate!==null&&window.moment().isBefore(e.startDate)&&(t+=1*Lt.startedCoefficient),e.priority){case"1":t+=1*Lt.priorityCoefficient;break;case"2":t+=.65*Lt.priorityCoefficient;break;case"3":t+=.325*Lt.priorityCoefficient;break}return t}},Ft=Lt;Ft.dueCoefficient=12,Ft.scheduledCoefficient=5,Ft.startedCoefficient=-3,Ft.priorityCoefficient=6,Ft.milliSecondsPerDay=1e3*60*60*24;var be={High:"\u23EB",Medium:"\u{1F53C}",Low:"\u{1F53D}",None:""},Et="\u{1F501}",Rt="\u{1F6EB}",wt="\u23F3",Mt="\u{1F4C5}",Qa="\u2705",H=class{constructor({status:e,description:t,path:n,indentation:i,sectionStart:s,sectionIndex:a,originalStatusCharacter:o,precedingHeader:u,priority:l,startDate:c,scheduledDate:d,dueDate:f,doneDate:h,recurrence:m,blockLink:y,tags:g}){this._urgency=null;this.status=e,this.description=t,this.path=n,this.indentation=i,this.sectionStart=s,this.sectionIndex=a,this.originalStatusCharacter=o,this.precedingHeader=u,this.tags=g,this.priority=l,this.startDate=c,this.scheduledDate=d,this.dueDate=f,this.doneDate=h,this.recurrence=m,this.blockLink=y}static fromLine({line:e,path:t,sectionStart:n,sectionIndex:i,precedingHeader:s}){let a=e.match(H.taskRegex);if(a===null)return null;let o=a[3].trim(),{globalFilter:u}=ie();if(!o.includes(u))return null;let l=o,c=a[1],d=a[2].toLowerCase(),f;switch(d){case" ":f="Todo";break;default:f="Done"}let h=l.match(this.blockLinkRegex),m=h!==null?h[0]:"";m!==""&&(l=l.replace(this.blockLinkRegex,"").trim());let y,g="3",O=null,S=null,N=null,z=null,te="",ue=null,x=[],w="",Ie=20,Oe=0;do{y=!1;let v=l.match(H.priorityRegex);if(v!==null){switch(v[1]){case be.Low:g="4";break;case be.Medium:g="2";break;case be.High:g="1";break}l=l.replace(H.priorityRegex,"").trim(),y=!0}let _=l.match(H.doneDateRegex);_!==null&&(z=window.moment(_[1],H.dateFormat),l=l.replace(H.doneDateRegex,"").trim(),y=!0);let D=l.match(H.dueDateRegex);D!==null&&(N=window.moment(D[1],H.dateFormat),l=l.replace(H.dueDateRegex,"").trim(),y=!0);let b=l.match(H.scheduledDateRegex);b!==null&&(S=window.moment(b[1],H.dateFormat),l=l.replace(H.scheduledDateRegex,"").trim(),y=!0);let k=l.match(H.startDateRegex);k!==null&&(O=window.moment(k[1],H.dateFormat),l=l.replace(H.startDateRegex,"").trim(),y=!0);let P=l.match(H.recurrenceRegex);P!==null&&(te=P[1].trim(),l=l.replace(H.recurrenceRegex,"").trim(),y=!0);let Y=l.match(H.hashTagsFromEnd);if(Y!=null){l=l.replace(H.hashTagsFromEnd,"").trim(),y=!0;let J=Y[0].trim();w=w.length>0?[J,w].join(" "):J}Oe++}while(y&&Oe<=Ie);te.length>0&&(ue=dt.fromText({recurrenceRuleText:te,startDate:O,scheduledDate:S,dueDate:N})),w.length>0&&(l+=" "+w);let M=l.match(this.hashTags);return M!==null&&(x=M.filter(v=>v!==u).map(v=>v.trim())),new H({status:f,description:l,path:t,indentation:c,sectionStart:n,sectionIndex:i,originalStatusCharacter:d,precedingHeader:s,priority:g,startDate:O,scheduledDate:S,dueDate:N,doneDate:z,recurrence:ue,blockLink:m,tags:x})}toLi(s){return ne(this,arguments,function*({parentUlElement:e,listIndex:t,layoutOptions:n,isFilenameUnique:i}){let a=e.createEl("li");a.addClasses(["task-list-item","plugin-tasks-list-item"]);let o=this.toString(n),{globalFilter:u,removeGlobalFilter:l}=ie();l&&(o=o.replace(u,"").trim());let c=a.createSpan();c.addClass("tasks-list-text"),yield Qf.MarkdownRenderer.renderMarkdown(o,c,this.path,null);let d=c.querySelector("blockquote"),f=d!=null?d:c,h=f.querySelector("p");if(h!==null){for(;h.firstChild;)f.insertBefore(h.firstChild,h);h.remove()}c.findAll("p").forEach(y=>{y.hasChildNodes()||y.remove()}),c.findAll(".footnotes").forEach(y=>{y.remove()});let m=a.createEl("input");return m.addClass("task-list-item-checkbox"),m.type="checkbox",this.status!=="Todo"&&(m.checked=!0,a.addClass("is-checked")),m.onClickEvent(y=>{y.preventDefault(),y.stopPropagation(),m.disabled=!0;let g=this.toggle();us({originalTask:this,newTasks:g})}),a.prepend(m),a.setAttr("data-task",this.originalStatusCharacter.trim()),a.setAttr("data-line",t),m.setAttr("data-line",t),n!=null&&n.shortMode&&this.addTooltip({element:c,isFilenameUnique:i}),a})}toString(e){var i;e=e!=null?e:new Kr;let t=this.description;if(!e.hidePriority){let s="";this.priority==="1"?s=" "+be.High:this.priority==="2"?s=" "+be.Medium:this.priority==="4"&&(s=" "+be.Low),t+=s}return!e.hideRecurrenceRule&&this.recurrence&&(t+=e.shortMode?" "+Et:` ${Et} ${this.recurrence.toText()}`),!e.hideStartDate&&this.startDate&&(t+=e.shortMode?" "+Rt:` ${Rt} ${this.startDate.format(H.dateFormat)}`),!e.hideScheduledDate&&this.scheduledDate&&(t+=e.shortMode?" "+wt:` ${wt} ${this.scheduledDate.format(H.dateFormat)}`),!e.hideDueDate&&this.dueDate&&(t+=e.shortMode?" "+Mt:` ${Mt} ${this.dueDate.format(H.dateFormat)}`),!e.hideDoneDate&&this.doneDate&&(t+=e.shortMode?" "+Qa:` ${Qa} ${this.doneDate.format(H.dateFormat)}`),t+=(i=this.blockLink)!=null?i:"",t}toFileLineString(){return`${this.indentation}- [${this.originalStatusCharacter}] ${this.toString()}`}toggle(){let e=this.status==="Todo"?"Done":"Todo",t=null,n=null;if(e!=="Todo"){let{setDoneDate:a}=ie();a&&(t=window.moment()),this.recurrence!==null&&(n=this.recurrence.next())}let i=new H(It(Ye({},this),{status:e,doneDate:t,originalStatusCharacter:e==="Done"?"x":" "})),s=[];if(n!==null){let a=new H(It(Ye(Ye({},this),n),{blockLink:""}));s.push(a)}return s.push(i),s}get urgency(){return this._urgency===null&&(this._urgency=Ft.calculate(this)),this._urgency}get filename(){let e=this.path.match(/([^/]+)\.md$/);return e!==null?e[1]:null}getLinkText({isFilenameUnique:e}){let t;return e?t=this.filename:t="/"+this.path,t===null?null:(this.precedingHeader!==null&&this.precedingHeader!==t&&(t=t+" > "+this.precedingHeader),t)}static tasksListsIdentical(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.identicalTo(t[i]))}identicalTo(e){let t=["status","description","path","indentation","sectionStart","sectionIndex","originalStatusCharacter","precedingHeader","priority","blockLink"];for(let s of t)if(this[s]!==e[s])return!1;if(this.tags.length!==e.tags.length||!this.tags.every(function(s,a){return s===e.tags[a]}))return!1;t=["startDate","scheduledDate","dueDate","doneDate"];for(let s of t){let a=this[s],o=e[s];if(tt.compareByDate(a,o)!==0)return!1}let n=this.recurrence,i=e.recurrence;return n===null&&i!==null||n!==null&&i===null?!1:!(n&&i&&!n.identicalTo(i))}addTooltip({element:e,isFilenameUnique:t}){e.addEventListener("mouseenter",()=>{let n=e.createDiv();n.addClasses(["tooltip","mod-right"]),this.recurrence&&n.createDiv().setText(`${Et} ${this.recurrence.toText()}`),this.startDate&&n.createDiv().setText(H.toTooltipDate({signifier:Rt,date:this.startDate})),this.scheduledDate&&n.createDiv().setText(H.toTooltipDate({signifier:wt,date:this.scheduledDate})),this.dueDate&&n.createDiv().setText(H.toTooltipDate({signifier:Mt,date:this.dueDate})),this.doneDate&&n.createDiv().setText(H.toTooltipDate({signifier:Qa,date:this.doneDate}));let i=this.getLinkText({isFilenameUnique:t});i&&n.createDiv().setText(`\u{1F517} ${i}`),e.addEventListener("mouseleave",()=>{n.remove()})})}static toTooltipDate({signifier:e,date:t}){return`${e} ${t.format(H.dateFormat)} (${t.from(window.moment().startOf("day"))})`}getDescriptionWithoutGlobalFilter(){let{globalFilter:e}=ie();return this.description.replace(e,"").replace("  "," ").trim()}},F=H;F.dateFormat="YYYY-MM-DD",F.taskRegex=/^([\s\t]*)[-*] +\[(.)\] *(.*)/u,F.blockLinkRegex=/ \^[a-zA-Z0-9-]+$/u,F.priorityRegex=/([⏫🔼🔽])$/u,F.startDateRegex=/🛫 *(\d{4}-\d{2}-\d{2})$/u,F.scheduledDateRegex=/[⏳⌛] *(\d{4}-\d{2}-\d{2})$/u,F.dueDateRegex=/[📅📆🗓] *(\d{4}-\d{2}-\d{2})$/u,F.doneDateRegex=/✅ *(\d{4}-\d{2}-\d{2})$/u,F.recurrenceRegex=/🔁 ?([a-zA-Z0-9, !]+)$/iu,F.hashTags=/(^|\s)#[^ !@#$%^&*(),.?":{}|<>]*/g,F.hashTagsFromEnd=new RegExp(H.hashTags.source+"$");var cr=class{constructor({metadataCache:e,vault:t,events:n}){this.metadataCache=e,this.metadataCacheEventReferences=[],this.vault=t,this.vaultEventReferences=[],this.events=n,this.eventsEventReferences=[],this.tasksMutex=new os,this.state="Cold",this.tasks=[],this.loadedAfterFirstResolve=!1,this.subscribeToCache(),this.subscribeToVault(),this.subscribeToEvents(),this.loadVault()}unload(){for(let e of this.metadataCacheEventReferences)this.metadataCache.offref(e);for(let e of this.vaultEventReferences)this.vault.offref(e);for(let e of this.eventsEventReferences)this.events.off(e)}getTasks(){return this.tasks}getState(){return this.state}notifySubscribers(){this.events.triggerCacheUpdate({tasks:this.tasks,state:this.state})}subscribeToCache(){let e=this.metadataCache.on("resolved",()=>ne(this,null,function*(){this.loadedAfterFirstResolve||(this.loadedAfterFirstResolve=!0,this.loadVault())}));this.metadataCacheEventReferences.push(e);let t=this.metadataCache.on("changed",n=>{this.tasksMutex.runExclusive(()=>{this.indexFile(n)})});this.metadataCacheEventReferences.push(t)}subscribeToVault(){let e=this.vault.on("create",i=>{i instanceof ms.TFile&&this.tasksMutex.runExclusive(()=>{this.indexFile(i)})});this.vaultEventReferences.push(e);let t=this.vault.on("delete",i=>{i instanceof ms.TFile&&this.tasksMutex.runExclusive(()=>{this.tasks=this.tasks.filter(s=>s.path!==i.path),this.notifySubscribers()})});this.vaultEventReferences.push(t);let n=this.vault.on("rename",(i,s)=>{i instanceof ms.TFile&&this.tasksMutex.runExclusive(()=>{this.tasks=this.tasks.map(a=>a.path===s?new F(It(Ye({},a),{path:i.path})):a),this.notifySubscribers()})});this.vaultEventReferences.push(n)}subscribeToEvents(){let e=this.events.onRequestCacheUpdate(t=>{t({tasks:this.tasks,state:this.state})});this.eventsEventReferences.push(e)}loadVault(){return this.tasksMutex.runExclusive(()=>ne(this,null,function*(){this.state="Initializing",yield Promise.all(this.vault.getMarkdownFiles().map(e=>this.indexFile(e))),this.state="Warm",this.notifySubscribers()}))}indexFile(e){return ne(this,null,function*(){let t=this.metadataCache.getFileCache(e);if(t==null)return;let n=t.listItems;n===void 0&&(n=[]);let i=this.tasks.filter(o=>o.path===e.path),s=yield this.vault.cachedRead(e),a=cr.getTasksFromFileContent(s,n,t,e);F.tasksListsIdentical(i,a)||(this.getState()=="Warm"&&console.debug(`At least one task, its line number or its heading has changed in ${e.path}: triggering a refresh of all active Tasks blocks in Live Preview and Reading mode views.`),this.tasks=this.tasks.filter(o=>o.path!==e.path),this.tasks.push(...a),this.notifySubscribers())})}static getTasksFromFileContent(e,t,n,i){let s=[],a=e.split(`
`),o=null,u=0;for(let l of t)if(l.task!==void 0){if((o===null||o.position.end.line<l.position.start.line)&&(o=cr.getSection({lineNumberTask:l.position.start.line,sections:n.sections}),u=0),o===null)continue;let c=a[l.position.start.line],d=F.fromLine({line:c,path:i.path,sectionStart:o.position.start.line,sectionIndex:u,precedingHeader:cr.getPrecedingHeader({lineNumberTask:l.position.start.line,sections:n.sections,fileLines:a})});d!==null&&(u++,s.push(d))}return s}static getSection({lineNumberTask:e,sections:t}){if(t===void 0)return null;for(let n of t)if(n.type==="list"&&n.position.start.line<=e&&n.position.end.line>=e)return n;return null}static getPrecedingHeader({lineNumberTask:e,sections:t,fileLines:n}){if(t===void 0)return null;let i;for(let l of t)if(l.type==="heading"){if(l.position.start.line>e)break;i=l}if(i===void 0)return null;let s=i.position.start.line,a=n[s],o=/^#+ +(.*)/u,u=a.match(o);return u===null?null:u[1]}};var Xc=require("obsidian");var Bg=require("obsidian");function Jr(){}function to(r){return r()}function ep(){return Object.create(null)}function Ar(r){r.forEach(to)}function rp(r){return typeof r=="function"}function np(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function ip(r){return Object.keys(r).length===0}var sp=!1;function J_(){sp=!0}function eT(){sp=!1}function T(r,e){r.appendChild(e)}function ro(r,e,t){r.insertBefore(e,t||null)}function bs(r){r.parentNode.removeChild(r)}function C(r){return document.createElement(r)}function tT(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Yt(r){return document.createTextNode(r)}function Z(){return Yt(" ")}function dr(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function ap(r){return function(e){return e.preventDefault(),r.call(this,e)}}function L(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function rT(r){return Array.from(r.childNodes)}function op(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function ft(r,e){r.value=e==null?"":e}function no(r,e){for(let t=0;t<r.options.length;t+=1){let n=r.options[t];if(n.__value===e){n.selected=!0;return}}r.selectedIndex=-1}function up(r){let e=r.querySelector(":checked")||r.options[0];return e&&e.__value}var Or=class{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=tT(t.nodeName):this.e=C(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)ro(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(bs)}};var qn;function Un(r){qn=r}function nT(){if(!qn)throw new Error("Function called outside component initialization");return qn}function io(r){nT().$$.on_mount.push(r)}var In=[];var _s=[],gs=[],tp=[],iT=Promise.resolve(),eo=!1;function sT(){eo||(eo=!0,iT.then(lp))}function Wn(r){gs.push(r)}var Ja=new Set,ys=0;function lp(){let r=qn;do{for(;ys<In.length;){let e=In[ys];ys++,Un(e),aT(e.$$)}for(Un(null),In.length=0,ys=0;_s.length;)_s.pop()();for(let e=0;e<gs.length;e+=1){let t=gs[e];Ja.has(t)||(Ja.add(t),t())}gs.length=0}while(In.length);for(;tp.length;)tp.pop()();eo=!1,Ja.clear(),Un(r)}function aT(r){if(r.fragment!==null){r.update(),Ar(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Wn)}}var oT=new Set;function uT(r,e){r&&r.i&&(oT.delete(r),r.i(e))}var dC=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function lT(r,e,t,n){let{fragment:i,on_mount:s,on_destroy:a,after_update:o}=r.$$;i&&i.m(e,t),n||Wn(()=>{let u=s.map(to).filter(rp);a?a.push(...u):Ar(u),r.$$.on_mount=[]}),o.forEach(Wn)}function cp(r,e){let t=r.$$;t.fragment!==null&&(Ar(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function cT(r,e){r.$$.dirty[0]===-1&&(In.push(r),sT(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function dp(r,e,t,n,i,s,a,o=[-1]){let u=qn;Un(r);let l=r.$$={fragment:null,ctx:null,props:s,update:Jr,not_equal:i,bound:ep(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:ep(),dirty:o,skip_bound:!1,root:e.target||u.$$.root};a&&a(l.root);let c=!1;if(l.ctx=t?t(r,e.props||{},(d,f,...h)=>{let m=h.length?h[0]:f;return l.ctx&&i(l.ctx[d],l.ctx[d]=m)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](m),c&&cT(r,d)),f}):[],l.update(),c=!0,Ar(l.before_update),l.fragment=n?n(l.ctx):!1,e.target){if(e.hydrate){J_();let d=rT(e.target);l.fragment&&l.fragment.l(d),d.forEach(bs)}else l.fragment&&l.fragment.c();e.intro&&uT(r.$$.fragment),lT(r,e.target,e.anchor,e.customElement),eT(),lp()}Un(u)}var dT;typeof HTMLElement=="function"&&(dT=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:r}=this.$$;this.$$.on_disconnect=r.map(to).filter(rp);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(r,e,t){this[r]=t}disconnectedCallback(){Ar(this.$$.on_disconnect)}$destroy(){cp(this,1),this.$destroy=Jr}$on(r,e){let t=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return t.push(e),()=>{let n=t.indexOf(e);n!==-1&&t.splice(n,1)}}$set(r){this.$$set&&!ip(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}});var Ts=class{$destroy(){cp(this,1),this.$destroy=Jr}$on(e,t){let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!ip(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var Fi=as(_e());var AO={td:"today",tm:"tomorrow",yd:"yesterday",tw:"this week",nw:"next week",weekend:"sat",we:"sat"};function gn(r){for(let[e,t]of Object.entries(AO))r=r.replace(RegExp(`\\b${e}\\s`,"i"),t);return r}function kO(r){let e,t,n,i,s,a,o,u,l,c,d,f,h,m,y,g,O,S,N,z,te,ue,x,w,Ie,Oe,M,v,_,D,b,k,P,Y,J,ae,re,lt,Fe,nr,ir,ct,Ae,ke,sr,Er,St,vd,Dn,Ed,Rd,Qi,wd,ar,Ji,Md,xt,Dd,Pn,Pd,Od,es,Ad,kd,Nd,Hr,zr,Cd,Rr,ts,Sd,qa,rs=r[0].status+"",Wa,xd,ns,Id,is,Ud,qd,Wd,Fa,Fd,ss,La,Ld;return{c(){e=C("div"),t=C("form"),n=C("div"),i=C("label"),i.textContent="Description",s=Z(),a=C("input"),o=Z(),u=C("hr"),l=Z(),c=C("div"),d=C("label"),d.textContent="Priority",f=Z(),h=C("select"),m=C("option"),m.textContent="None",y=C("option"),y.textContent=`${be.High} High`,g=C("option"),g.textContent=`${be.Medium} Medium`,O=C("option"),O.textContent=`${be.Low} Low`,S=Z(),N=C("hr"),z=Z(),te=C("div"),ue=C("label"),ue.textContent="Recurrence",x=Z(),w=C("input"),Ie=Z(),Oe=C("code"),M=Yt(Et),v=Z(),_=new Or(!1),D=Z(),b=C("hr"),k=Z(),P=C("div"),Y=C("div"),J=C("label"),J.textContent="Due",ae=Z(),re=C("input"),lt=Z(),Fe=C("code"),nr=Yt(Mt),ir=Z(),ct=new Or(!1),Ae=Z(),ke=C("div"),sr=C("label"),sr.textContent="Scheduled",Er=Z(),St=C("input"),vd=Z(),Dn=C("code"),Ed=Yt(wt),Rd=Z(),Qi=new Or(!1),wd=Z(),ar=C("div"),Ji=C("label"),Ji.textContent="Start",Md=Z(),xt=C("input"),Dd=Z(),Pn=C("code"),Pd=Yt(Rt),Od=Z(),es=new Or(!1),Ad=Z(),kd=C("hr"),Nd=Z(),Hr=C("div"),zr=C("div"),Cd=Yt(`Status:
                `),Rr=C("input"),Sd=Z(),qa=C("code"),Wa=Yt(rs),xd=Z(),ns=C("div"),Id=Yt(`Done on:
                `),is=C("code"),Ud=Z(),qd=C("hr"),Wd=Z(),Fa=C("div"),Fd=Z(),ss=C("div"),ss.innerHTML='<button type="submit" class="mod-cta">Apply</button>',L(i,"for","description"),L(a,"id","description"),L(a,"type","text"),L(a,"class","tasks-modal-description"),L(a,"placeholder","Take out the trash"),L(n,"class","tasks-modal-section"),L(d,"for","priority"),m.__value="none",m.value=m.__value,y.__value="high",y.value=y.__value,g.__value="medium",g.value=g.__value,O.__value="low",O.value=O.__value,L(h,"id","priority"),L(h,"class","dropdown"),r[0].priority===void 0&&Wn(()=>r[14].call(h)),L(c,"class","tasks-modal-section"),L(ue,"for","recurrence"),L(w,"id","description"),L(w,"type","text"),L(w,"placeholder","Try 'every 2 weeks on Thursday'."),_.a=null,L(te,"class","tasks-modal-section"),L(J,"for","due"),L(re,"id","due"),L(re,"type","text"),L(re,"placeholder",Vc),ct.a=null,L(Y,"class","tasks-modal-date"),L(sr,"for","scheduled"),L(St,"id","scheduled"),L(St,"type","text"),L(St,"placeholder",Vc),Qi.a=null,L(ke,"class","tasks-modal-date"),L(Ji,"for","start"),L(xt,"id","start"),L(xt,"type","text"),L(xt,"placeholder",Vc),es.a=null,L(ar,"class","tasks-modal-date"),L(P,"class","tasks-modal-section"),L(Rr,"type","checkbox"),L(Rr,"class","task-list-item-checkbox tasks-modal-checkbox"),Rr.checked=ts=r[0].status==="Done",Rr.disabled=!0,L(Hr,"class","tasks-modal-section"),L(Fa,"class","tasks-modal-section"),L(ss,"class","tasks-modal-section"),L(e,"class","tasks-modal")},m(le,Le){ro(le,e,Le),T(e,t),T(t,n),T(n,i),T(n,s),T(n,a),ft(a,r[0].description),r[13](a),T(t,o),T(t,u),T(t,l),T(t,c),T(c,d),T(c,f),T(c,h),T(h,m),T(h,y),T(h,g),T(h,O),no(h,r[0].priority),T(t,S),T(t,N),T(t,z),T(t,te),T(te,ue),T(te,x),T(te,w),ft(w,r[0].recurrenceRule),T(te,Ie),T(te,Oe),T(Oe,M),T(Oe,v),_.m(r[5],Oe),T(t,D),T(t,b),T(t,k),T(t,P),T(P,Y),T(Y,J),T(Y,ae),T(Y,re),ft(re,r[0].dueDate),T(Y,lt),T(Y,Fe),T(Fe,nr),T(Fe,ir),ct.m(r[4],Fe),T(P,Ae),T(P,ke),T(ke,sr),T(ke,Er),T(ke,St),ft(St,r[0].scheduledDate),T(ke,vd),T(ke,Dn),T(Dn,Ed),T(Dn,Rd),Qi.m(r[3],Dn),T(P,wd),T(P,ar),T(ar,Ji),T(ar,Md),T(ar,xt),ft(xt,r[0].startDate),T(ar,Dd),T(ar,Pn),T(Pn,Pd),T(Pn,Od),es.m(r[2],Pn),T(t,Ad),T(t,kd),T(t,Nd),T(t,Hr),T(Hr,zr),T(zr,Cd),T(zr,Rr),T(zr,Sd),T(zr,qa),T(qa,Wa),T(Hr,xd),T(Hr,ns),T(ns,Id),T(ns,is),is.innerHTML=r[6],T(t,Ud),T(t,qd),T(t,Wd),T(t,Fa),T(t,Fd),T(t,ss),La||(Ld=[dr(a,"input",r[12]),dr(h,"change",r[14]),dr(w,"input",r[15]),dr(re,"input",r[16]),dr(St,"input",r[17]),dr(xt,"input",r[18]),dr(t,"submit",ap(r[7]))],La=!0)},p(le,[Le]){Le&1&&a.value!==le[0].description&&ft(a,le[0].description),Le&1&&no(h,le[0].priority),Le&1&&w.value!==le[0].recurrenceRule&&ft(w,le[0].recurrenceRule),Le&32&&_.p(le[5]),Le&1&&re.value!==le[0].dueDate&&ft(re,le[0].dueDate),Le&16&&ct.p(le[4]),Le&1&&St.value!==le[0].scheduledDate&&ft(St,le[0].scheduledDate),Le&8&&Qi.p(le[3]),Le&1&&xt.value!==le[0].startDate&&ft(xt,le[0].startDate),Le&4&&es.p(le[2]),Le&1&&ts!==(ts=le[0].status==="Done")&&(Rr.checked=ts),Le&1&&rs!==(rs=le[0].status+"")&&op(Wa,rs),Le&64&&(is.innerHTML=le[6])},i:Jr,o:Jr,d(le){le&&bs(e),r[13](null),La=!1,Ar(Ld)}}}var Vc="Try 'Monday' or 'tomorrow', or [td|tm|yd|tw|nw|we] then space.";function NO(r,e,t){var n,i;let{task:s}=e,{onSubmit:a}=e,o,u={description:"",status:"Todo",priority:"none",recurrenceRule:"",startDate:"",scheduledDate:"",dueDate:"",doneDate:""},l="",c="",d="",f="",h="";function m(x,w,Ie=void 0){if(!w)return`<i>no ${x} date</i>`;let Oe=Fi.parseDate(w,Ie,{forwardDate:Ie!=null});return Oe!==null?window.moment(Oe).format("YYYY-MM-DD"):`<i>invalid ${x} date</i>`}io(()=>{let x=s.getDescriptionWithoutGlobalFilter(),w="none";s.priority==="4"?w="low":s.priority==="2"?w="medium":s.priority==="1"&&(w="high"),t(0,u={description:x,status:s.status,priority:w,recurrenceRule:s.recurrence?s.recurrence.toText():"",startDate:s.startDate?s.startDate.format("YYYY-MM-DD"):"",scheduledDate:s.scheduledDate?s.scheduledDate.format("YYYY-MM-DD"):"",dueDate:s.dueDate?s.dueDate.format("YYYY-MM-DD"):"",doneDate:s.doneDate?s.doneDate.format("YYYY-MM-DD"):""}),setTimeout(()=>{o.focus()},10)});let y=()=>{let{globalFilter:x}=ie(),w=u.description.trim();w.includes(x)||(w=x+" "+w);let Ie=null,Oe=Fi.parseDate(u.startDate,new Date,{forwardDate:!0});Oe!==null&&(Ie=window.moment(Oe));let M=null,v=Fi.parseDate(u.scheduledDate,new Date,{forwardDate:!0});v!==null&&(M=window.moment(v));let _=null,D=Fi.parseDate(u.dueDate,new Date,{forwardDate:!0});D!==null&&(_=window.moment(D));let b=null;u.recurrenceRule&&(b=dt.fromText({recurrenceRuleText:u.recurrenceRule,startDate:Ie,scheduledDate:M,dueDate:_}));let k;switch(u.priority){case"low":k="4";break;case"medium":k="2";break;case"high":k="1";break;default:k="3"}let P=new F(Object.assign(Object.assign({},s),{description:w,status:u.status,priority:k,recurrence:b,startDate:Ie,scheduledDate:M,dueDate:_,doneDate:window.moment(u.doneDate,"YYYY-MM-DD").isValid()?window.moment(u.doneDate,"YYYY-MM-DD"):null}));a([P])};function g(){u.description=this.value,t(0,u)}function O(x){_s[x?"unshift":"push"](()=>{o=x,t(1,o)})}function S(){u.priority=up(this),t(0,u)}function N(){u.recurrenceRule=this.value,t(0,u)}function z(){u.dueDate=this.value,t(0,u)}function te(){u.scheduledDate=this.value,t(0,u)}function ue(){u.startDate=this.value,t(0,u)}return r.$$set=x=>{"task"in x&&t(8,s=x.task),"onSubmit"in x&&t(9,a=x.onSubmit)},r.$$.update=()=>{if(r.$$.dirty&1){e:t(0,u.startDate=gn(u.startDate),u),t(2,l=m("start",u.startDate,new Date))}if(r.$$.dirty&1){e:t(0,u.scheduledDate=gn(u.scheduledDate),u),t(3,c=m("scheduled",u.scheduledDate,new Date))}if(r.$$.dirty&1){e:t(0,u.dueDate=gn(u.dueDate),u),t(4,d=m("due",u.dueDate,new Date))}if(r.$$.dirty&3073){e:u.recurrenceRule?t(5,f=t(11,i=t(10,n=dt.fromText({recurrenceRuleText:u.recurrenceRule,startDate:null,scheduledDate:null,dueDate:null}))===null||n===void 0?void 0:n.toText())!==null&&i!==void 0?i:"<i>invalid recurrence rule</i>"):t(5,f="<i>not recurring</>")}if(r.$$.dirty&1){e:t(6,h=m("done",u.doneDate))}},[u,o,l,c,d,f,h,y,s,a,n,i,g,O,S,N,z,te,ue]}var Zc=class extends Ts{constructor(e){super(),dp(this,e,NO,kO,np,{task:8,onSubmit:9})}},jg=Zc;var _n=class extends Bg.Modal{constructor({app:t,task:n,onSubmit:i}){super(t);this.task=n,this.onSubmit=s=>{i(s),this.close()}}onOpen(){this.titleEl.setText("Create or edit Task");let{contentEl:t}=this;new jg({target:t,props:{task:this.task,onSubmit:this.onSubmit}})}onClose(){let{contentEl:t}=this;t.empty()}};var Gg=(r,e,t,n)=>{var d;if(r)return t instanceof Xc.MarkdownView;if(!(t instanceof Xc.MarkdownView))return;let i=(d=t.file)==null?void 0:d.path;if(i===void 0)return;let a=e.getCursor().line,o=e.getLine(a),u=CO({line:o,path:i}),l=f=>{let h=f.map(m=>m.toFileLineString()).join(`
`);e.setLine(a,h)};new _n({app:n,task:u,onSubmit:l}).open()},CO=({line:r,path:e})=>{var d;let t=F.fromLine({line:r,path:e,sectionStart:0,sectionIndex:0,precedingHeader:null});if(t!==null)return t;let n=/^([\s\t]*)[-*]? *(\[(.)\])? *(.*)/u,i=r.match(n);if(i===null)return console.error("Tasks: Cannot create task on line:",r),new F({status:"Todo",description:"",path:e,indentation:"",originalStatusCharacter:" ",priority:"3",startDate:null,scheduledDate:null,dueDate:null,doneDate:null,recurrence:null,sectionStart:0,sectionIndex:0,precedingHeader:null,blockLink:"",tags:[]});let s=i[1],a=(d=i[3])!=null?d:" ",o=a===" "?"Todo":"Done",u=i[4],l=r.match(F.blockLinkRegex),c=l!==null?l[0]:"";return c!==""&&(u=u.replace(F.blockLinkRegex,"")),new F({status:o,description:u,path:e,indentation:s,originalStatusCharacter:a,blockLink:c,priority:"3",startDate:null,scheduledDate:null,dueDate:null,doneDate:null,recurrence:null,sectionStart:0,sectionIndex:0,precedingHeader:null,tags:[]})};var Qc=require("obsidian");var Hg=(r,e,t)=>{var u;if(r)return t instanceof Qc.MarkdownView;if(!(t instanceof Qc.MarkdownView))return;let n=(u=t.file)==null?void 0:u.path;if(n===void 0)return;let i=e.getCursor(),s=i.line,a=e.getLine(s),o=SO({line:a,path:n});e.setLine(s,o),/[^ [\]*-]/.test(o)&&e.setCursor({line:i.line,ch:i.ch+o.length-a.length})},SO=({line:r,path:e})=>{let t=r,n=F.fromLine({line:r,path:e,sectionStart:0,sectionIndex:0,precedingHeader:null});if(n!==null)t=xO({task:n});else{let i=r.match(F.taskRegex);if(i!==null)t=IO({regexMatch:i});else{let s=/^([\s\t]*)([-*])/;s.test(r)?t=r.replace(s,"$1$2 [ ]"):t=r.replace(/^([\s\t]*)/,"$1- ")}}return t},xO=({task:r})=>r.toggle().map(n=>n.toFileLineString()).join(`
`),IO=({regexMatch:r})=>{let e=r[1],t=r[2].toLowerCase(),n=r[3];return`${e}- [${t===" "?"x":" "}] ${n}`};var fa=class{get app(){return this.plugin.app}constructor({plugin:e}){this.plugin=e,e.addCommand({id:"edit-task",name:"Create or edit task",icon:"pencil",editorCheckCallback:(t,n,i)=>Gg(t,n,i,this.app)}),e.addCommand({id:"toggle-done",name:"Toggle task done",icon:"check-in-circle",editorCheckCallback:Hg})}};var pa=class{constructor({obsidianEents:e}){this.obsidianEvents=e}onCacheUpdate(e){return this.obsidianEvents.on("obsidian-tasks-plugin:cache-update",e)}triggerCacheUpdate(e){this.obsidianEvents.trigger("obsidian-tasks-plugin:cache-update",e)}onRequestCacheUpdate(e){return this.obsidianEvents.on("obsidian-tasks-plugin:request-cache-update",e)}triggerRequestCacheUpdate(e){this.obsidianEvents.trigger("obsidian-tasks-plugin:request-cache-update",e)}off(e){this.obsidianEvents.offref(e)}};var ha=class{constructor({plugin:e}){this.markdownPostProcessor=this._markdownPostProcessor.bind(this);e.registerMarkdownPostProcessor(this._markdownPostProcessor.bind(this))}_markdownPostProcessor(e,t){return ne(this,null,function*(){var c;let{globalFilter:n}=ie(),i=e.findAll(".task-list-item").filter(d=>{var m;let f=(m=d.textContent)==null?void 0:m.split(`
`);if(f===void 0)return!1;let h=null;for(let y=0;y<f.length;y=y+1)if(f[y]!==""){h=f[y];break}return h===null?!1:h.includes(n)});if(i.length===0)return;let s=t.sourcePath,a=t.getSectionInfo(e);if(a===null)return;let o=a.text.split(`
`),u=0,l=[];for(let d=a.lineStart;d<=a.lineEnd;d++){let f=o[d];if(f===void 0)continue;let h=F.fromLine({line:f,path:s,sectionStart:a.lineStart,sectionIndex:u,precedingHeader:null});h!==null&&(l.push(h),u++)}for(let d=0;d<i.length;d++){let f=l[d],h=i[d];if(f===void 0||h===void 0)continue;let m=(c=h.getAttr("data-line"))!=null?c:"0",y=Number.parseInt(m,10),g=yield f.toLi({parentUlElement:e,listIndex:y}),O=h.childNodes;for(let z=0;z<O.length;z=z+1){let te=O[z];te.nodeName.toLowerCase()==="div"?g.prepend(te):te.nodeName.toLowerCase()==="ul"&&g.append(te)}let S=h.querySelectorAll("[data-footnote-id]"),N=g.querySelectorAll("[data-footnote-id]");if(S.length===N.length)for(let z=0;z<S.length;z++)N[z].replaceWith(S[z]);h.replaceWith(g)}})}};var zg=require("@codemirror/view");var Kg=()=>zg.ViewPlugin.fromClass(Jc),Jc=class{constructor(e){this.view=e,this.handleClickEvent=this.handleClickEvent.bind(this),this.view.dom.addEventListener("click",this.handleClickEvent)}destroy(){this.view.dom.removeEventListener("click",this.handleClickEvent)}handleClickEvent(e){let{target:t}=e;if(!t||!(t instanceof HTMLInputElement)||t.type!=="checkbox")return!1;let{state:n}=this.view,i=this.view.posAtDOM(t),s=n.doc.lineAt(i),a=F.fromLine({line:s.text,path:"",sectionStart:0,sectionIndex:0,precedingHeader:null});if(a===null)return!1;e.preventDefault();let u=a.toggle().map(d=>d.toFileLineString()).join(n.lineBreak),l=n.update({changes:{from:s.from,to:s.to,insert:u}});this.view.dispatch(l);let c=t.checked;return setTimeout(()=>{t.checked=c},1),!0}};var l_=require("obsidian");var ma=class{constructor(e,t){this.nestingLevel=e,this.name=t}};var ya=class{constructor(e){this.lastHeadingAtLevel=new Array;let n=e.keys().next().value.length;for(let i=0;i<n;i++)this.lastHeadingAtLevel.push("")}getHeadingsForTaskGroup(e){let t=new Array;for(let n=0;n<e.length;n++){let i=e[n];if(i!=this.lastHeadingAtLevel[n]){t.push(new ma(n,i));for(let s=n;s<e.length;s++)this.lastHeadingAtLevel[s]="";this.lastHeadingAtLevel[n]=i}}return t}};var ga=class{constructor(e){this.children=new Map;this.values=[];this.values=e}generateAllPaths(e=[]){let t=new Map;if(this.children.size==0)return t.set([...e],this.values),t;for(let[n,i]of this.children)e.push(n),i.generateAllPaths(e).forEach((a,o)=>t.set(o,a)),e.pop();return t}};var _a=class extends Map{},Ta=class extends ga{},ba=class{constructor(e,t){this.groups=new _a;let n=this.buildGroupingTree(e,t);this.groups=n.generateAllPaths(),this.groups=this.getSortedGroups()}buildGroupingTree(e,t){let n=new Ta(t),i=[n];for(let s of e){let a=[];for(let o of i)for(let u of o.values){let l=Tr.getGroupNamesForTask(s.property,u);for(let c of l){let d=o.children.get(c);d===void 0&&(d=new Ta([]),o.children.set(c,d),a.push(d)),d.values.push(u)}}i=a}return n}getSortedGroups(){return new _a([...this.groups.entries()].sort())}};var va=class{constructor(e,t,n){this.groups=e,this.groupHeadings=t,this.tasks=n}tasksAsStringOfLines(){let e="";for(let t of this.tasks)e+=t.toFileLineString()+`
`;return e}toString(){let e=`
`;e+=`Group names: [${this.groups}]
`;for(let t of this.groupHeadings)e+=`${"#".repeat(4+t.nestingLevel)} ${t.name}
`;return e+=this.tasksAsStringOfLines(),e}};var Ea=class{constructor(e,t){this._groups=new Array;this._totalTaskCount=0;this._totalTaskCount=t.length;let n=new ba(e,t);this.addTasks(n)}get groups(){return this._groups}totalTasksCount(){return this._totalTaskCount}toString(){let e="";for(let n of this.groups)e+=n.toString(),e+=`
---
`;return e+=`
${this.totalTasksCount()} tasks
`,e}addTasks(e){let t=new ya(e.groups);for(let[n,i]of e.groups){let s=t.getHeadingsForTaskGroup(n),a=new va(n,s,i);this.add(a)}}add(e){this._groups.push(e)}};var Te=class{static by(e,t){return new Ea(e,t)}static getGroupNamesForTask(e,t){let n=Te.groupers[e];return n(t)}static groupByStartDate(e){return[Te.stringFromDate(e.startDate,"start")]}static groupByScheduledDate(e){return[Te.stringFromDate(e.scheduledDate,"scheduled")]}static groupByDueDate(e){return[Te.stringFromDate(e.dueDate,"due")]}static groupByDoneDate(e){return[Te.stringFromDate(e.doneDate,"done")]}static stringFromDate(e,t){return e===null?"No "+t+" date":e.format(Te.groupDateFormat)}static groupByPath(e){return[e.path.replace(".md","")]}static groupByFolder(e){let t=e.path,n=e.filename+".md",i=t.substring(0,t.lastIndexOf(n));return i===""?["/"]:[i]}static groupByFileName(e){let t=e.filename;return t===null?["Unknown Location"]:[t]}static groupByBacklink(e){let t=e.getLinkText({isFilenameUnique:!0});return t===null?["Unknown Location"]:[t]}static groupByStatus(e){return[e.status]}static groupByHeading(e){return e.precedingHeader===null||e.precedingHeader.length===0?["(No heading)"]:[e.precedingHeader]}static groupByTags(e){return e.tags.length==0?["(No tags)"]:e.tags}},Tr=Te;Tr.groupDateFormat="YYYY-MM-DD dddd",Tr.groupers={backlink:Te.groupByBacklink,done:Te.groupByDoneDate,due:Te.groupByDueDate,filename:Te.groupByFileName,folder:Te.groupByFolder,heading:Te.groupByHeading,path:Te.groupByPath,scheduled:Te.groupByScheduledDate,start:Te.groupByStartDate,status:Te.groupByStatus,tags:Te.groupByTags};var oe=class{canCreateFilterForLine(e){return oe.lineMatchesFilter(this.filterRegexp(),e)}static lineMatchesFilter(e,t){return e?e.test(t):!1}static getMatch(e,t){return e?t.match(e):null}};var ge=class{};var bt=class extends oe{createFilterOrErrorMessage(e){let t=new ge,n=oe.getMatch(this.filterRegexp(),e);return n!==null?n[1]==="includes"?t.filter=s=>bt.stringIncludesCaseInsensitive(this.value(s),n[2]):n[1]==="does not include"?t.filter=s=>!bt.stringIncludesCaseInsensitive(this.value(s),n[2]):t.error=`do not understand query filter (${this.fieldName()})`:t.error=`do not understand query filter (${this.fieldName()})`,t}static stringIncludesCaseInsensitive(e,t){return e.toLocaleLowerCase().includes(t.toLocaleLowerCase())}};var ed=class extends bt{fieldName(){return"description"}filterRegexp(){return ed.descriptionRegexp}value(e){let t=ie().globalFilter;return e.description.replace(t,"").trim()}},Li=ed;Li.descriptionRegexp=/^description (includes|does not include) (.*)/;var Vg=as(_e()),Xt=class{static parseDate(e,t=!1){return window.moment(Vg.parseDate(e,void 0,{forwardDate:t})).startOf("day")}};var Nt=class extends oe{constructor(){super(...arguments);this.instructionForFieldPresence=`has ${this.fieldName()} date`;this.instructionForFieldAbsence=`no ${this.fieldName()} date`}canCreateFilterForLine(t){return t===this.instructionForFieldPresence||t===this.instructionForFieldAbsence?!0:super.canCreateFilterForLine(t)}createFilterOrErrorMessage(t){let n=new ge;if(t===this.instructionForFieldPresence)return n.filter=s=>this.date(s)!==null,n;if(t===this.instructionForFieldAbsence)return n.filter=s=>this.date(s)===null,n;let i=oe.getMatch(this.filterRegexp(),t);if(i!==null){let s=Xt.parseDate(i[2]);s.isValid()?i[1]==="before"?n.filter=a=>{let o=this.date(a);return o?o.isBefore(s):this.filterResultIfFieldMissing()}:i[1]==="after"?n.filter=a=>{let o=this.date(a);return o?o.isAfter(s):this.filterResultIfFieldMissing()}:n.filter=a=>{let o=this.date(a);return o?o.isSame(s):this.filterResultIfFieldMissing()}:n.error="do not understand "+this.fieldName()+" date"}else n.error="do not understand query filter ("+this.fieldName()+" date)";return n}};var td=class extends Nt{filterRegexp(){return td.doneRegexp}fieldName(){return"done"}date(e){return e.doneDate}filterResultIfFieldMissing(){return!1}},Yi=td;Yi.doneRegexp=/^done (before|after|on)? ?(.*)/;var rd=class extends Nt{filterRegexp(){return rd.dueRegexp}fieldName(){return"due"}date(e){return e.dueDate}filterResultIfFieldMissing(){return!1}},$i=rd;$i.dueRegexp=/^due (before|after|on)? ?(.*)/;var Ra=class{constructor(e,t){this._instruction=e,this._filter=t}canCreateFilterForLine(e){return e==this._instruction}createFilterOrErrorMessage(e){let t=new ge;return e===this._instruction?(t.filter=this._filter,t):(t.error=`do not understand filter: ${e}`,t)}};var wa=class{constructor(){this._filters=[]}add(e,t){this._filters.push(new Ra(e,t))}canCreateFilterForLine(e){for(let t of this._filters)if(t.canCreateFilterForLine(e))return!0;return!1}createFilterOrErrorMessage(e){for(let n of this._filters){let i=n.createFilterOrErrorMessage(e);if(i.error===void 0)return i}let t=new ge;return t.error=`do not understand filter: ${e}`,t}};var br=class extends oe{constructor(){super(...arguments);this._filters=new wa}canCreateFilterForLine(t){return this._filters.canCreateFilterForLine(t)}createFilterOrErrorMessage(t){return this._filters.createFilterOrErrorMessage(t)}filterRegexp(){return null}};var Ma=class extends br{constructor(){super(),this._filters.add("exclude sub-items",e=>e.indentation==="")}fieldName(){return"exclude"}};var nd=class extends bt{filterRegexp(){return nd.headingRegexp}fieldName(){return"heading"}value(e){return e.precedingHeader?e.precedingHeader:""}},ji=nd;ji.headingRegexp=/^heading (includes|does not include) (.*)/;var id=class extends bt{filterRegexp(){return id.pathRegexp}fieldName(){return"path"}value(e){return e.path}},Bi=id;Bi.pathRegexp=/^path (includes|does not include) (.*)/;var sd=class extends oe{createFilterOrErrorMessage(e){let t=new ge,n=oe.getMatch(this.filterRegexp(),e);if(n!==null){let i=n[3],s=null;switch(i){case"low":s="4";break;case"none":s="3";break;case"medium":s="2";break;case"high":s="1";break}if(s===null)return t.error="do not understand priority",t;let a;n[2]==="above"?a=o=>o.priority?o.priority.localeCompare(s)<0:!1:n[2]==="below"?a=o=>o.priority?o.priority.localeCompare(s)>0:!1:a=o=>o.priority?o.priority===s:!1,t.filter=a}else t.error="do not understand query filter (priority)";return t}fieldName(){return"priority"}filterRegexp(){return sd.priorityRegexp}},Gi=sd;Gi.priorityRegexp=/^priority (is )?(above|below)? ?(low|none|medium|high)/;var ad=class extends Nt{filterRegexp(){return ad.scheduledRegexp}fieldName(){return"scheduled"}date(e){return e.scheduledDate}filterResultIfFieldMissing(){return!1}},Hi=ad;Hi.scheduledRegexp=/^scheduled (before|after|on)? ?(.*)/;var od=class extends Nt{filterRegexp(){return od.startRegexp}fieldName(){return"start"}date(e){return e.startDate}filterResultIfFieldMissing(){return!0}},zi=od;zi.startRegexp=/^starts (before|after|on)? ?(.*)/;var $r=class extends oe{canCreateFilterForLine(e){return e===$r.instructionForFieldPresence||e===$r.instructionForFieldAbsence?!0:super.canCreateFilterForLine(e)}createFilterOrErrorMessage(e){let t=new ge;if(e===$r.instructionForFieldPresence){let i=new ge;return i.filter=s=>this.dates(s).some(a=>a!==null),i}if(e===$r.instructionForFieldAbsence){let i=new ge;return i.filter=s=>!this.dates(s).some(a=>a!==null),i}let n=oe.getMatch(this.filterRegexp(),e);if(n!==null){let i=Xt.parseDate(n[2]);i.isValid()?n[1]==="before"?t.filter=s=>this.dates(s).some(a=>a&&a.isBefore(i)):n[1]==="after"?t.filter=s=>this.dates(s).some(a=>a&&a.isAfter(i)):t.filter=s=>this.dates(s).some(a=>a&&a.isSame(i)):t.error="do not understand happens date"}else t.error="do not understand query filter (happens date)";return t}filterRegexp(){return $r.happensRegexp}dates(e){return Array.of(e.startDate,e.scheduledDate,e.dueDate)}fieldName(){return"happens"}},Yr=$r;Yr.happensRegexp=/^happens (before|after|on)? ?(.*)/,Yr.instructionForFieldPresence="has happens date",Yr.instructionForFieldAbsence="no happens date";var Da=class extends br{constructor(){super(),this._filters.add("is recurring",e=>e.recurrence!==null),this._filters.add("is not recurring",e=>e.recurrence===null)}fieldName(){return"recurring"}};var Pa=class extends br{constructor(){super(),this._filters.add("done",e=>e.status==="Done"),this._filters.add("not done",e=>e.status!=="Done")}fieldName(){return"status"}};var ud=class extends oe{createFilterOrErrorMessage(e){let t=new ge,n=oe.getMatch(this.filterRegexp(),e);if(n!==null){let i=n[2],s=n[3].replace(/^#/,"");i==="include"||i==="includes"?t.filter=a=>a.tags.find(o=>o.toLowerCase().includes(s.toLowerCase()))!==void 0:n[2]==="do not include"||n[2]==="does not include"?t.filter=a=>a.tags.find(o=>o.toLowerCase().includes(s.toLowerCase()))==null:t.error="do not understand query filter (tag/tags)"}else t.error="do not understand query filter (tag/tags)";return t}fieldName(){return"tag/tags"}filterRegexp(){return ud.tagRegexp}},Ki=ud;Ki.tagRegexp=/^(tag|tags) (includes|does not include|include|do not include) (.*)/;var u_=as(o_());var Na=class extends oe{constructor(){super(...arguments);this.basicBooleanRegexp=/.*(AND|OR|XOR|NOT)\s*[("].*/g;this.supportedOperators=["AND","OR","XOR","NOT"];this.subFields={}}filterRegexp(){return this.basicBooleanRegexp}createFilterOrErrorMessage(t){return this.parseLine(t)}fieldName(){return"boolean query"}parseLine(t){let n=new ge;if(t.length===0)return n.error="empty line",n;let i=this.preprocessExpression(t);try{let s=(0,u_.parse)(i);for(let a of s)if(a.name==="IDENTIFIER"&&a.value){let o=a.value.trim();if(!(o in this.subFields)){let u=Ca(o);if(u===null)return n.error=`couldn't parse sub-expression '${o}'`,n;if(u.error)return n.error=`couldn't parse sub-expression '${o}': ${u.error}`,n;u.filter&&(this.subFields[o]=u.filter)}}else if(a.name==="OPERATOR"){if(a.value==null)return n.error="empty operator in boolean query",n;if(!this.supportedOperators.includes(a.value))return n.error=`unknown boolean operator '${a.value}'`,n}return n.filter=a=>this.filterTaskWithParsedQuery(a,s),n}catch(s){let a=s instanceof Error?s.message:"unknown error type";return n.error=`malformed boolean query -- ${a} (check the documentation for guidelines)`,n}return n}preprocessExpression(t){return t.replace(/\(([^()]+)\)/g,'("$1")')}filterTaskWithParsedQuery(t,n){let i=o=>o==="true",s=o=>o?"true":"false",a=[];for(let o of n)if(o.name==="IDENTIFIER"){if(o.value==null)throw Error("null token value");let u=this.subFields[o.value.trim()],l=u(t);a.push(s(l))}else if(o.name==="OPERATOR")if(o.value==="NOT"){let u=i(a.pop());a.push(s(!u))}else if(o.value==="OR"){let u=i(a.pop()),l=i(a.pop());a.push(s(u||l))}else if(o.value==="AND"){let u=i(a.pop()),l=i(a.pop());a.push(s(u&&l))}else if(o.value==="XOR"){let u=i(a.pop()),l=i(a.pop());a.push(s(u&&!l||!u&&l))}else throw Error("Unsupported operator: "+o.value);else throw Error("Unsupported token type: "+o);return i(a[0])}};var BO=[()=>new Pa,()=>new Da,()=>new Gi,()=>new Yr,()=>new zi,()=>new Hi,()=>new $i,()=>new Yi,()=>new Bi,()=>new Li,()=>new Ki,()=>new ji,()=>new Ma,()=>new Na];function Ca(r){for(let e of BO){let t=e();if(t.canCreateFilterForLine(r))return t.createFilterOrErrorMessage(r)}return null}var wn=class{constructor({source:e}){this._limit=void 0;this._layoutOptions=new Kr;this._filters=[];this._error=void 0;this._sorting=[];this._grouping=[];this.sortByRegexp=/^sort by (urgency|status|priority|start|scheduled|due|done|path|description|tag)( reverse)?[\s]*(\d+)?/;this.groupByRegexp=/^group by (backlink|done|due|filename|folder|heading|path|scheduled|start|status|tags)/;this.hideOptionsRegexp=/^hide (task count|backlink|priority|start date|scheduled date|done date|due date|recurrence rule|edit button)/;this.shortModeRegexp=/^short/;this.limitRegexp=/^limit (to )?(\d+)( tasks?)?/;this.commentRegexp=/^#.*/;this.source=e,e.split(`
`).map(t=>t.trim()).forEach(t=>{switch(!0){case t==="":break;case this.shortModeRegexp.test(t):this._layoutOptions.shortMode=!0;break;case this.limitRegexp.test(t):this.parseLimit({line:t});break;case this.sortByRegexp.test(t):this.parseSortBy({line:t});break;case this.groupByRegexp.test(t):this.parseGroupBy({line:t});break;case this.hideOptionsRegexp.test(t):this.parseHideOptions({line:t});break;case this.commentRegexp.test(t):break;case this.parseFilter(t):break;default:this._error=`do not understand query: ${t}`}})}get limit(){return this._limit}get layoutOptions(){return this._layoutOptions}get filters(){return this._filters}get sorting(){return this._sorting}get grouping(){return this._grouping}get error(){return this._error}applyQueryToTasks(e){this.filters.forEach(n=>{e=e.filter(n)});let t=tt.by(this,e).slice(0,this.limit);return Tr.by(this.grouping,t)}parseHideOptions({line:e}){let t=e.match(this.hideOptionsRegexp);if(t!==null)switch(t[1].trim().toLowerCase()){case"task count":this._layoutOptions.hideTaskCount=!0;break;case"backlink":this._layoutOptions.hideBacklinks=!0;break;case"priority":this._layoutOptions.hidePriority=!0;break;case"start date":this._layoutOptions.hideStartDate=!0;break;case"scheduled date":this._layoutOptions.hideScheduledDate=!0;break;case"due date":this._layoutOptions.hideDueDate=!0;break;case"done date":this._layoutOptions.hideDoneDate=!0;break;case"recurrence rule":this._layoutOptions.hideRecurrenceRule=!0;break;case"edit button":this._layoutOptions.hideEditButton=!0;break;default:this._error="do not understand hide option"}}parseFilter(e){let t=Ca(e);return t!=null?(t.filter?this._filters.push(t.filter):this._error=t.error,!0):!1}parseLimit({line:e}){let t=e.match(this.limitRegexp);t!==null?this._limit=Number.parseInt(t[2],10):this._error="do not understand query limit"}parseSortBy({line:e}){let t=e.match(this.sortByRegexp);t!==null?this._sorting.push({property:t[1],reverse:!!t[2],propertyInstance:isNaN(+t[3])?1:+t[3]}):this._error="do not understand query sorting"}parseGroupBy({line:e}){let t=e.match(this.groupByRegexp);t!==null?this._grouping.push({property:t[1]}):this._error="do not understand query grouping"}};var Sa=class{constructor({plugin:e,events:t}){this.addQueryRenderChild=this._addQueryRenderChild.bind(this);this.app=e.app,this.events=t,e.registerMarkdownCodeBlockProcessor("tasks",this._addQueryRenderChild.bind(this))}_addQueryRenderChild(e,t,n){return ne(this,null,function*(){n.addChild(new Mn({app:this.app,events:this.events,container:t,source:e,filePath:n.sourcePath}))})}},Mn=class extends l_.MarkdownRenderChild{constructor({app:t,events:n,container:i,source:s,filePath:a}){super(i);switch(this.app=t,this.events=n,this.source=s,this.filePath=a,this.containerEl.className){case"block-language-tasks":this.query=new wn({source:s}),this.queryType="tasks";break;default:this.query=new wn({source:s}),this.queryType="tasks";break}}onload(){this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.renderEventRef=this.events.onCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight()}onunload(){this.renderEventRef!==void 0&&this.events.off(this.renderEventRef),this.queryReloadTimeout!==void 0&&clearTimeout(this.queryReloadTimeout)}reloadQueryAtMidnight(){let t=new Date;t.setHours(24,0,0,0);let n=new Date,i=t.getTime()-n.getTime();this.queryReloadTimeout=setTimeout(()=>{this.query=new wn({source:this.source}),this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight()},i+1e3)}render(i){return ne(this,arguments,function*({tasks:t,state:n}){var a;let s=this.containerEl.createEl("div");if(n==="Warm"&&this.query.error===void 0){console.debug(`Render ${this.queryType} called for a block in active file "${this.filePath}", to select from ${t.length} tasks: plugin state: ${n}`);let o=this.query.applyQueryToTasks(t);for(let l of o.groups){Mn.addGroupHeadings(s,l.groupHeadings);let{taskList:c}=yield this.createTasksList({tasks:l.tasks,content:s});s.appendChild(c)}let u=o.totalTasksCount();console.debug(`${u} of ${t.length} tasks displayed in a block in "${this.filePath}"`),this.addTaskCount(s,u)}else this.query.error!==void 0?s.setText(`Tasks query: ${this.query.error}`):s.setText("Loading Tasks ...");(a=this.containerEl.firstChild)==null||a.replaceWith(s)})}createTasksList(i){return ne(this,arguments,function*({tasks:t,content:n}){let s=t.length,a=n.createEl("ul");a.addClasses(["contains-task-list","plugin-tasks-query-result"]);for(let o=0;o<s;o++){let u=t[o],l=this.isFilenameUnique({task:u}),c=yield u.toLi({parentUlElement:a,listIndex:o,layoutOptions:this.query.layoutOptions,isFilenameUnique:l});c.querySelectorAll("[data-footnote-id]").forEach(m=>m.remove());let f=c.createSpan(),h=this.query.layoutOptions.shortMode;this.query.layoutOptions.hideBacklinks||this.addBacklinks(f,u,h,l),this.query.layoutOptions.hideEditButton||this.addEditButton(f,u),a.appendChild(c)}return{taskList:a,tasksCount:s}})}addEditButton(t,n){t.createEl("a",{cls:"tasks-edit"}).onClickEvent(s=>{s.preventDefault();let a=u=>{us({originalTask:n,newTasks:u})};new _n({app:this.app,task:n,onSubmit:a}).open()})}static addGroupHeadings(t,n){for(let i of n)Mn.addGroupHeading(t,i)}static addGroupHeading(t,n){let i;n.nestingLevel===0?i=t.createEl("h4",{cls:"tasks-group-heading"}):n.nestingLevel===1?i=t.createEl("h5",{cls:"tasks-group-heading"}):i=t.createEl("h6",{cls:"tasks-group-heading"}),i.appendText(n.name)}addBacklinks(t,n,i,s){var u;t.addClass("tasks-backlink"),i||t.append(" (");let a=t.createEl("a");if(a.href=n.path,a.setAttribute("data-href",n.path),a.rel="noopener",a.target="_blank",a.addClass("internal-link"),i&&a.addClass("internal-link-short-mode"),n.precedingHeader!==null){let l=n.precedingHeader.replace(/#/g,"");a.href=a.href+"#"+l,a.setAttribute("data-href",a.getAttribute("data-href")+"#"+l)}let o;i?o=" \u{1F517}":o=(u=n.getLinkText({isFilenameUnique:s}))!=null?u:"",a.setText(o),i||t.append(")")}addTaskCount(t,n){this.query.layoutOptions.hideTaskCount||t.createDiv({text:`${n} task${n!==1?"s":""}`,cls:"tasks-count"})}isFilenameUnique({task:t}){let n=t.path.match(/([^/]*)\..+$/i);if(n===null)return;let i=n[1];return this.app.vault.getMarkdownFiles().filter(a=>{if(a.basename===i)return!0}).length<2}};var rr=require("obsidian");var xa=class extends rr.PluginSettingTab{constructor({plugin:t}){super(t.app,t);this.plugin=t}display(){let{containerEl:t}=this;t.empty(),t.createEl("h2",{text:"Tasks Settings"}),t.createEl("p",{cls:"tasks-setting-important",text:"Changing any settings requires a restart of obsidian."}),new rr.Setting(t).setName("Global task filter").setDesc("The global filter will be applied to all checklist items.").addText(n=>{let i=ie();n.setPlaceholder("#task").setValue(i.globalFilter).onChange(s=>ne(this,null,function*(){Ut({globalFilter:s}),yield this.plugin.saveSettings()}))}),t.createEl("div",{cls:"setting-item-description",text:'The global filter will be applied to all checklist items to filter out "non-task" checklist items.\nA checklist item must include the specified string in its description in order to be considered a task.\nFor example, if you set the global filter to `#task`, the Tasks plugin will only handle checklist items tagged with `#task`.\nOther checklist items will remain normal checklist items and not appear in queries or get a done date set.\nLeave empty if you want all checklist items from your vault to be tasks managed by this plugin.'}),new rr.Setting(t).setName("Remove global filter from description").setDesc("Enabling this removes the string that you set as global filter from the task description when displaying a task.").addToggle(n=>{let i=ie();n.setValue(i.removeGlobalFilter).onChange(s=>ne(this,null,function*(){Ut({removeGlobalFilter:s}),yield this.plugin.saveSettings()}))}),new rr.Setting(t).setName("Set done date on every completed task").setDesc("Enabling this will add a timestamp \u2705 YYYY-MM-DD at the end when a task is toggled to done").addToggle(n=>{let i=ie();n.setValue(i.setDoneDate).onChange(s=>ne(this,null,function*(){Ut({setDoneDate:s}),yield this.plugin.saveSettings()}))}),new rr.Setting(t).setName("Auto-suggest task content").setDesc("Enabling this will open an intelligent suggest menu while typing inside a recognized task line.").addToggle(n=>{let i=ie();n.setValue(i.autoSuggestInEditor).onChange(s=>ne(this,null,function*(){Ut({autoSuggestInEditor:s}),yield this.plugin.saveSettings()}))}),new rr.Setting(t).setName("Minimum match length for auto-suggest").setDesc("If higher than 0, auto-suggest will be triggered only when the beginning of any supported keywords is recognized.").addSlider(n=>{let i=ie();n.setLimits(0,3,1).setValue(i.autoSuggestMinMatch).setDynamicTooltip().onChange(s=>ne(this,null,function*(){Ut({autoSuggestMinMatch:s}),yield this.plugin.saveSettings()}))}),new rr.Setting(t).setName("Maximum number of auto-suggestions to show").setDesc('How many suggestions should be shown when an auto-suggest menu pops up (including the "\u23CE" option).').addSlider(n=>{let i=ie();n.setLimits(3,12,1).setValue(i.autoSuggestMaxItems).setDynamicTooltip().onChange(s=>ne(this,null,function*(){Ut({autoSuggestMaxItems:s}),yield this.plugin.saveSettings()}))})}};var d_=require("obsidian");var GO=`${Rt}${wt}${Mt}`;function c_(r,e,t){let n=[];n=n.concat(KO(r,e,t)),n=n.concat(VO(r,e,t));let i=zO(r,t),s=bd(r,/([a-zA-Z'_-]*)/g,e),a=!1;if(s&&s.length>0){let o=s[0];if(o.length>=Math.max(1,t.autoSuggestMinMatch)){let u=i.filter(l=>l.displayText.toLowerCase().includes(o.toLowerCase()));for(let l of u)n.push({suggestionType:"match",displayText:l.displayText,appendText:l.appendText,insertAt:s.index,insertSkip:o.length}),a=!0}}return!a&&t.autoSuggestMinMatch===0&&(n=n.concat(i)),n.length>0&&!n.some(o=>o.suggestionType==="match")&&n.unshift({suggestionType:"empty",displayText:"\u23CE",appendText:`
`}),n=n.slice(0,t.autoSuggestMaxItems),n}function HO(r){if(Object.values(be).some(e=>e.length>0&&r.includes(e)))return!0}function zO(r,e){let t=[];return r.includes(Mt)||t.push({displayText:`${Mt} due date`,appendText:`${Mt} `}),r.includes(Rt)||t.push({displayText:`${Rt} start date`,appendText:`${Rt} `}),r.includes(wt)||t.push({displayText:`${wt} scheduled date`,appendText:`${wt} `}),HO(r)||(t.push({displayText:`${be.High} high priority`,appendText:`${be.High} `}),t.push({displayText:`${be.Medium} medium priority`,appendText:`${be.Medium} `}),t.push({displayText:`${be.Low} low priority`,appendText:`${be.Low} `})),r.includes(Et)||t.push({displayText:`${Et} recurring (repeat)`,appendText:`${Et} `}),t}function KO(r,e,t){let n=["today","tomorrow","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","next week","next month","next year"],i=[],s=new RegExp(`([${GO}])\\s*([0-9a-zA-Z ]*)`,"ug"),a=bd(r,s,e);if(a&&a.length>=2){let o=a[1],u=a[2];if(u.length<t.autoSuggestMinMatch)return[];let l=u&&u.length>1?Xt.parseDate(gn(u),!0):null;l&&l.isValid()&&i.push({displayText:`${l.format(F.dateFormat)}`,appendText:`${o} ${l.format(F.dateFormat)} `,insertAt:a.index,insertSkip:a[0].length});let c=1,d=5,f=n.filter(h=>u&&u.length>=c&&h.toLowerCase().includes(u.toLowerCase())).slice(0,d);f.length===0&&(f=n.slice(0,d));for(let h of f){let y=`${Xt.parseDate(h,!0).format(F.dateFormat)}`;i.push({suggestionType:"match",displayText:`${h} (${y})`,appendText:`${o} ${y} `,insertAt:a.index,insertSkip:a[0].length})}}return i}function VO(r,e,t){var o;let n=["every","every day","every week","every month","every month on the","every year","every week on Sunday","every week on Monday","every week on Tuesday","every week on Wednesday","every week on Thursday","every week on Friday","every week on Saturday"],i=[],s=new RegExp(`(${Et})\\s*([0-9a-zA-Z ]*)`,"ug"),a=bd(r,s,e);if(a&&a.length>=2){let u=a[1],l=a[2];if(l.length<t.autoSuggestMinMatch)return[];if(l.length>0){let h=(o=dt.fromText({recurrenceRuleText:l,startDate:null,scheduledDate:null,dueDate:null}))==null?void 0:o.toText();if(h){let m=`${u} ${h} `;if(i.push({suggestionType:"match",displayText:`\u2705 ${h}`,appendText:m,insertAt:a.index,insertSkip:a[0].length}),a[0]==m)return[]}}let c=1,d=t.autoSuggestMaxItems/2,f=n.filter(h=>l&&l.length>=c&&h.toLowerCase().includes(l.toLowerCase())).slice(0,d);f.length===0&&l.trim().length===0&&(f=n.slice(0,d));for(let h of f)i.push({suggestionType:"match",displayText:`${h}`,appendText:`${u} ${h} `,insertAt:a.index,insertSkip:a[0].length})}return i}function bd(r,e,t){let n=r.matchAll(e);for(let i of n)if((i==null?void 0:i.index)&&i.index<=t&&t<=i.index+i[0].length)return i;return[]}var Ia=class extends d_.EditorSuggest{constructor(t,n){super(t);this.settings=n}onTrigger(t,n,i){if(!this.settings.autoSuggestInEditor)return null;let s=n.getLine(t.line);return s.contains(this.settings.globalFilter)&&s.match(F.taskRegex)?{start:{line:t.line,ch:0},end:{line:t.line,ch:s.length},query:s}:null}getSuggestions(t){let n=t.query,i=t.editor.getCursor(),s=c_(n,i.ch,this.settings),a=[];for(let o of s)a.push(It(Ye({},o),{context:t}));return a}renderSuggestion(t,n){n.setText(t.displayText)}selectSuggestion(t,n){var u,l,c;let i=t.context.editor;if(t.suggestionType==="empty"){this.close();let d=new KeyboardEvent("keydown",{code:"Enter",key:"Enter"});(l=(u=i==null?void 0:i.cm)==null?void 0:u.contentDOM)==null||l.dispatchEvent(d);return}let s=t.context.editor.getCursor(),a={line:s.line,ch:(c=t.insertAt)!=null?c:s.ch},o=t.insertSkip?{line:s.line,ch:a.ch+t.insertSkip}:void 0;t.context.editor.replaceRange(t.appendText,a,o),t.context.editor.setCursor({line:s.line,ch:a.ch+t.appendText.length})}};var Ua=class extends f_.Plugin{onload(){return ne(this,null,function*(){console.log('loading plugin "tasks"'),yield this.loadSettings(),this.addSettingTab(new xa({plugin:this})),zd({metadataCache:this.app.metadataCache,vault:this.app.vault});let t=new pa({obsidianEents:this.app.workspace});this.cache=new cr({metadataCache:this.app.metadataCache,vault:this.app.vault,events:t}),this.inlineRenderer=new ha({plugin:this}),this.queryRenderer=new Sa({plugin:this,events:t}),this.registerEditorExtension(Kg()),this.registerEditorSuggest(new Ia(this.app,ie())),new fa({plugin:this})})}onunload(){var t;console.log('unloading plugin "tasks"'),(t=this.cache)==null||t.unload()}loadSettings(){return ne(this,null,function*(){let t=yield this.loadData();Ut(t)})}saveSettings(){return ne(this,null,function*(){yield this.saveData(ie())})}};
/*!
 * rrule.js - Library for working with recurrence rules for calendar dates.
 * https://github.com/jakubroztocil/rrule
 *
 * Copyright 2010, Jakub Roztocil and Lars Schoning
 * Licenced under the BSD licence.
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 * Based on:
 * python-dateutil - Extensions to the standard Python datetime module.
 * Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
 * Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>
 * https://github.com/jakubroztocil/rrule/blob/master/LICENCE
 *
 */
/*!
* rrule.js - Library for working with recurrence rules for calendar dates.
* https://github.com/jakubroztocil/rrule
*
* Copyright 2010, Jakub Roztocil and Lars Schoning
* Licenced under the BSD licence.
* https://github.com/jakubroztocil/rrule/blob/master/LICENCE
*
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
